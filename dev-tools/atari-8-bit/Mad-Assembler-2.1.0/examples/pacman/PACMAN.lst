mads 2.0.9 build 58 (8 Aug 19)
Source: D:\!Delphi\mads\examples\pacman\PACMAN.ASM
     1 				;************************************
     2 				;*                                  *
     3 				;*            PAC-MAN               *
     4 				;*                                  *
     5 				;*   Developed for Atari Inc. by    *
     6 				;*  Roklan Corp. This Information   *
     7 				;*  is confidential and is not for  *
     8 				;*  sale or distribution.           *
     9 				;*                                  *
    10 				;*                                  *
    11 				;*                                  *
    12 				;*            10/03/82              *
    13 				;*                                  *
    14 				;*          DISK VERSION            *
    15 				;*                                  *
    16 				;*          REVISION 3.0            *
    17 				;*                                  *
    18 				;************************************
    19 				;
    20
    21 				; Adapted version for MADS, 2018-07-28 JAC!
    22
    23 = 0001			 .def ORIGINAL=1		  ;Original source version
    24 = 0002			 .def ROKLAN=2			  ;Roklan binary disk version
    25 = 0003			 .def ATARI82=3			  ;Atari disk version, intermissions 3 & 4 are broken
    26 				 .if .not .def VERSION		  ;Default is not specified on assembler command line
    27 				   .def VERSION=ORIGINAL
    28 				 .endif
    29
    30 				  .if .not .def INTERMISSION_DEMO ;Default is not specified on assembler command line
    31 				    .def INTERMISSION_DEMO=0	  ;Complete level by eating one dot 
    32 				  .endif
    33 				 
    34 				 ICL "SYSTEXT.ASM"
Source: D:\!Delphi\mads\examples\pacman\SYSTEXT.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;	SPACE	2
     4
     5 				;	Operating System Equates  ------------------------
     6
     7 				;	SPACE	1
     8
     9 = 000A			DOSVEC	EQU	$000A	;this program's start vector
    10
    11 = 000C			DOSINI	EQU	$000C	;this program's init vector
    12
    13 = 0010			POKMSK	EQU	$0010	;mask for POKEY IRQ enable
    14
    15 = 0011			BRKKEY	EQU	$0011	;BREAK flag
    16
    17 = 0012			RTCLOK	EQU	$0012	;60 Hz clock
    18
    19 = 004D			ATRACT	EQU	$4D
    20 = 004E			DRKMSK	EQU	$4E
    21 = 004F			COLRSH	EQU	$4F
    22
    23 = 0200			VDSLST	EQU	$0200
    24
    25 = 0216			VIMIRQ	EQU	$0216	;immediate IRQ vector
    26
    27 = 022B			SRTIMR	EQU	$022B	;software-driven keydown timer
    28
    29 = 022F			SDMCTL	EQU	$022F	;DMA control shadow
    30
    31 = 0230			SDLSTL	EQU	$0230	;display list pointer (low byte)
    32
    33 = 0231			SDLSTH	EQU	$0231	;display List pointer (high byte)
    34
    35 = 0232			SSKCTL	EQU	$0232	;serial port control
    36
    37 = 0234			LPENH	EQU	$0234	;light pen horizontal position
    38
    39 = 0235			LPENV	EQU	$0235	;light pen vertical postion
    40
    41 = 026F			GPRIOR	EQU	$026F	;player priority select
    42
    43 = 0270			PADDL0	EQU	$0270	;pot 0
    44
    45 = 0278			STICK0	EQU	$0278	;joystick 0 shadow
    46
    47 = 0284			STRIG0	EQU	$0284	;red button 0 shadow
    48 = 0285			STRIG1	EQU	$0285	;red button 1 shadow
    49
    50 = 02BE			SHFLK	EQU	$02BE	;shift-lock flag
    51
    52 = 02C0			PCOLR0	EQU	$02C0	;player color shadow
    53 = 02C1			PCOLR1	EQU	$02C1	
    54 = 02C2			PCOLR2	EQU	$02C2	
    55 = 02C3			PCOLR3	EQU	$02C3	
    56
    57 = 02C4			COLOR0	EQU	$02C4	;playfield color shadow
    58 = 02C5			COLOR1	EQU	$02C5
    59 = 02C6			COLOR2	EQU	$02C6
    60 = 02C7			COLOR3	EQU	$02C7
    61
    62 = 02E7			MEMLO	EQU	$02E7	;start of user memory
    63 = 02F1			KEYDEL	EQU	$02F1	;KEY DELAY
    64
    65 = 02F3			CHART	EQU	$2F3	;character control
    66
    67 = 02F4			CHBAS	EQU	$2F4	;character base address
    68
    69 = 02FC			CH	EQU	$02FC	;character buffer
    70
    71 = 0300			DDEVIC	EQU	$0300	;peripheral bus ID number
    72
    73 = 0301			DUNIT	EQU	$0301	;unit number
    74
    75 = 0302			DCOMND	EQU	$0302	;bus command ordinal
    76
    77 = 0303			DSTATS	EQU	$0303	;command type/status return
    78
    79 = 0304			DBUFLO	EQU	$0304	;data buffer pointer
    80
    81 = 0305			DBUFHI	EQU	$0305
    82
    83 = 0306			DTIMLO	EQU	$0306	;device timeout in seconds
    84
    85 = 0308			DBYTLO	EQU	$0308	;number of bytes transferred
    86
    87 = 0309			DBYTHI	EQU	$0309
    88
    89 = 030A			DAUX1	EQU	$030A	;command auxiliary bytes
    90
    91 = 030B			DAUX2	EQU	$030B
    92
    93 = 0342			ICCOM	EQU	$0342	;CIO command block
    94
    95 = 0344			ICBAL	EQU	$0344
    96
    97 = 0345			ICBAH	EQU	$0345
    98
    99 = 0348			ICBLL	EQU	$0348
   100
   101 = 0349			ICBLH	EQU	$0349
   102
   103 = 034A			ICAX1	EQU	$034A
   104
   105 = 034B			ICAX2	EQU	$034B
   106
   107 = E000			CHRORG	EQU	$E000	;OS charset
   108
   109 = E456			CIOV	EQU	$E456	;CIO request vector
   110
   111 = E459			SIOV	EQU	$E459	;SIO request vector
   112
   113 = E45C			SETVBV	EQU	$E45C	;system interrupt init vector
   114
   115 = E462			XITVBV	EQU	$E462	;system VBLANK return handler
   116
   117 = E474			OSRETN	EQU	$E474	;system WARM START entry
   118
   119 = FCD8			CLICK	EQU	$FCD8	;keyclick routine
   120
   121 				;	EJECT
   122
   123 				;	Hardware Registers  --------------------------------
   124
   125 				;	SPACE	1
   126
   127 = D000			HPOSP0	EQU	$D000	;player position registers
   128 = D001			HPOSP1	EQU	$D001
   129 = D002			HPOSP2	EQU	$D002
   130 = D003			HPOSP3	EQU	$D003
   131
   132 = D000			M0PF	EQU	$D000	;missile 0 to playfield collision
   133 = D001			M1PF	EQU	$D001
   134 = D002			M2PF	EQU	$D002
   135 = D003			M3PF	EQU	$D003
   136
   137 = D004			HPOSM0	EQU	$D004	;horizontal position of missile 0
   138 = D005			HPOSM1	EQU	$D005
   139 = D006			HPOSM2	EQU	$D006
   140 = D007			HPOSM3	EQU	$D007
   141
   142 = D004			P0PF	EQU	$D004	;player 0 to playfield collision
   143
   144 = D008			M0PL	EQU	$D008	;missile 0 to player collision
   145 = D009			M1PL	EQU	$D009
   146 = D00A			M2PL	EQU	$D00A
   147 = D00B			M3PL	EQU	$D00B
   148
   149 = D008			SIZEP0	EQU	$D008	;player size registers
   150
   151 = D00C			P0PL	EQU	$D00C	;player 0 to player collision
   152
   153 = D00C			SIZEM	EQU	$D00C	;sizes for all missiles
   154
   155 = D00D			GRAFP0	EQU	$D00D	;graphics for player0
   156
   157 = D010			TRIG0	EQU	$D010	;joystick controller trigger 0
   158
   159 = D011			GRAFM	EQU	$D011	;grahics for all missiles
   160
   161 = D012			COLPM0	EQU	$D012	;player color registers
   162 = D013			COLPM1	EQU	$D013
   163 = D014			COLPM2	EQU	$D014
   164 = D015			COLPM3	EQU	$D015
   165
   166 = D016			COLPF0	EQU	$D016	;playfield color registers
   167 = D017			COLPF1	EQU	$D017
   168 = D018			COLPF2	EQU	$D018
   169 = D019			COLPF3	EQU	$D019
   170
   171 = D01A			COLBK	EQU	$D01A	;color-luminance of background
   172
   173 = D01B			PRIOR	EQU	$D01B	;priority select
   174
   175 = D01C			VDELAY	EQU	$D01C	;vertical delay
   176
   177 = D01D			GRACTL	EQU	$D01D	;graphics control register
   178
   179 = D01E			HITCLR	EQU	$D01E	;collision clear
   180
   181 = D01F			CONSOL	EQU	$D01F	;console key register
   182
   183 = D200			POT0	EQU	$D200	;pot 0
   184
   185 = D200			AUDF1	EQU	$D200	;audio channel 1 frequency
   186
   187 = D201			AUDC1	EQU	$D201	;audio channel 1 control
   188
   189 = D202			AUDF2	EQU	$D202	;audio channel 1 frequency
   190
   191 = D203			AUDC2	EQU	$D203	;audio channel 1 control
   192
   193 = D204			AUDF3	EQU	$D204	;audio channel 1 frequency
   194
   195 = D205			AUDC3	EQU	$D205	;audio channel 1 control
   196
   197 = D206			AUDF4	EQU	$D206	;audio channel 1 frequency
   198
   199 = D207			AUDC4	EQU	$D207	;audio channel 1 control
   200
   201 = D208			AUDCTL	EQU	$D208	;audio control
   202
   203 = D208			ALLPOT	EQU	$D208	;read 8 line pot port status
   204
   205 = D209			KBCODE	EQU	$D209	;keyboard code
   206
   207 = D209			STIMER	EQU	$D209	;start timer
   208
   209 = D20A			RANDOM	EQU	$D20A	;random number generator
   210
   211 = D20A			SERIN	EQU	$D20A	;serial port input
   212
   213 = D20A			SKREST	EQU	$D20A	;reset serial port status
   214
   215 = D20B			POTGO	EQU	$D20B	;start POT scan sequence
   216
   217 = D20C			SEROUT	EQU	$D20C	;serial port output
   218
   219 = D20E			IRQEN	EQU	$D20E	;IRQ enable mask
   220
   221 = D20E			IRQST	EQU	$D20E	;IRQ status
   222
   223 = D20F			SKCTL	EQU	$D20F	;serial port control
   224
   225 = D20F			SKSTAT	EQU	$D20F	;keyboard status register
   226
   227 = D300			PORTA	EQU	$D300	;port A
   228
   229 = D400			DMACTL	EQU	$D400	;DMA control register
   230
   231 = D401			CHACTL	EQU	$D401	;character control
   232
   233 = D402			DLISTL	EQU	$D402	;display list pointer (low byte)
   234
   235 = D403			DLISTH	EQU	$D403	;display list pointer (high byte)
   236
   237 = D404			HSCROL	EQU	$D404	;horizontal scroll register
   238
   239 = D405			VSCROL	EQU	$D405	;vertical scroll register
   240
   241 = D407			PMBASE	EQU	$D407	;player base address
   242
   243 = D409			CHBASE	EQU	$D409	;character base address
   244
   245 = D40A			WSYNC	EQU	$D40A	;wait for horizontal sync
   246
   247 = D40B			VCOUNT	EQU	$D40B	;scan line counter
   248
   249 = D40C			PENH	EQU	$D40C	;light pen horizontal position
   250
   251 = D40D			PENV	EQU	$D40D	;light pen vertical position
   252
   253 = D40E			NMIEN	EQU	$D40E	;interrupt enable register
   254
   255 = D40F			NMIRES	EQU	$D40F	;NMI reset
   256
   257 = D40F			NMIST	EQU	$D40F	;NMI status
    35 				;
    36 				; LIST I
    37 				;
    38 				;*******  ZERO PAGE VARIABLES  ******
    39 				;
    40 				 ORG $0018
    41 				;
    42 = 0018			DLICNT .DS 1 ;DISPLAY LIST INT. COUNT
    43 = 0019			OPTION .DS 1 ;OPTION MODE FLAG
    44 = 001A			NUMPLY .DS 1 ;NUMBER OF PLAYERS
    45 = 001B			DIFOPT .DS 1 ;DIFFICULTY OPTION
    46 = 001C			RSTRTF .DS 1 ;RESTART FLAG
    47 = 001D			ATCLOK .DS 1 ;ATTRACT COUNTDOWN CLOCK
    48 = 001E			ATTIMR .DS 1 ;ATTRACT MODE TIMER
    49 = 001F			ATSEQU .DS 1 ;ATTRACT MODE SEQUENCE #
    50 				;
    51 = 0020			GMOVRF .DS 1 ;GAME OVER FLAG
    52 = 0021			READYF .DS 1 ;READY FLAG
    53 = 0022			INTROF .DS 1 ;INTRO FLAG
    54 = 0023			SWAPPF .DS 1 ;SWAP PLAYER FLAG
    55 = 0024			RESETF .DS 1 ;RESET FLAG
    56 = 0025			RESETT .DS 1 ;RESET TIMER
    57 = 0026			RRFLAG .DS 1 ;RERACK FLAG
    58 = 0027			RRSEQU .DS 1 ;RERACK SEQUENCE #
    59 = 0028			RRTIMR .DS 1 ;RERACK TIMER
    60 = 0029			RRFLCT .DS 1 ;RERACK FLASH COUNT
    61 = 002A			TEMLOC .DS 1 ;TEMPORARY STORAGE
    62 = 002B			PLYNUM .DS 1 ;PLAYER # 0=1 1=2
    63 = 002C			XPACP1 .DS 1 ;EXTRA PACMAN PLAYER 1
    64 = 002D			XPACP2 .DS 1 ;EXTRA PACMAN PLAYER 2
    65 = 002E			BPACP1 .DS 1 ;BONUS PACMAN PLAYER 1
    66 = 002F			BPACP2 .DS 1 ;BONUS PACMAN PLAYER 2
    67 = 0030			MAZCT1 .DS 1 ;MAZE COUNT PLAYER 1
    68 = 0031			MAZCT2 .DS 1 ;MAZE COUNT PLAYER 2
    69 = 0032			BIGDT1 .DS 1 ;BIG DOT STATUS #1
    70 = 0033			BIGDT2 .DS 1 ;BIG DOT STATUS #2
    71 = 0034			DTCTL1 .DS 1 ;DOTS EATEN CTR LSB #1
    72 = 0035			DTCTL2 .DS 1 ;DOTS EATEN CTR LSB #2
    73 = 0036			DTCTM1 .DS 1 ;DOTS EATEN CTR MSB #1
    74 = 0037			DTCTM2 .DS 1 ;DOTS EATEN CTR MSB #2
    75 = 0038			SCNSC1 .DS 2 ;SCREEN SCORE 1 ADDRESS
    76 = 003A			SCNSC2 .DS 2 ;SCREEN SCORE 2 ADDRESS
    77 = 003C			PIXGET .DS 2 ;P/M PIX GET ADDRESS
    78 = 003E			PIXPUT .DS 2 ;P/M PIX PUT ADDRESS
    79 = 0040			PACCLR .DS 1 ;ATTRACT PACMAN COLOR
    80 				;
    81 				 ORG $0043
    82 				;
    83 = 0043			FRUTP1 .DS 1 ;FRUIT COUNTER #1
    84 = 0044			FRUTP2 .DS 1 ;FRUIT COUNTER #2
    85 = 0045			BCOUNT .DS 1 ;BOUNCE TIMER COUNT
    86 = 0046			SAVCNS .DS 1 ;SAVE CONSOL DATA
    87 = 0047			TUNLOC .DS 2 ;USED FOR TUNNEL LOGIC
    88 				;
    89 				 ORG $005A
    90 = 005A			M1DELY .DS 1 ;MONSTER 1 DELAY
    91 = 005B			M2DELY .DS 1 ;MONSTER 2 DELAY
    92 = 005C			M3DELY .DS 1 ;MONSTER 3 DELAY
    93 = 005D			M4DELY .DS 1 ;MONSTER 4 DELAY
    94 = 005E			ACOLR1 .DS 1 ;ATTRACT COLOR 1 - $3A
    95 = 005F			ACOLR2 .DS 1 ;ATTRACT COLOR 2 - $44
    96 = 0060			ACOLR3 .DS 1 ;ATTRACT COLOR 3 - $2A
    97 = 0061			ACOLR4 .DS 1 ;ATTRACT COLOR 4 - $DA
    98 = 0062			INTCNT .DS 1 ;INTERMISSION COUNTER
    99 = 0063			INTCLK .DS 1 ;INTERMISSION CLOCK
   100 				 ORG $0080
   101 				;
   102 = 0080			PACSCN .DS 2 ;PACMAN SCREEN MEM ADDR
   103 = 0082			PACBYT .DS 1 ;PACMAN BYTE COUNTER
   104 = 0083			PVSAVE .DS 1 ;PACMAN VPOS SAVE
   105 = 0084			PHSAVE .DS 1 ;PACMAN HPOS SAVE
   106 = 0085			M1VPOS .DS 1 ;MONSTER 1 VERTICAL POSIT
   107 = 0086			M2VPOS .DS 1 ;MONSTER 2 VERTICAL POSIT
   108 = 0087			M3VPOS .DS 1 ;MONSTER 3 VERTICAL POSIT
   109 = 0088			M4VPOS .DS 1 ;MONSTER 4 VERTICAL POSIT
   110 = 0089			PMVPOS .DS 1 ;PACMAN VERTICAL POSITION
   111 = 008A			M1HPOS .DS 1 ;MONSTER 1 HORIZ POSITION
   112 = 008B			M2HPOS .DS 1 ;MONSTER 2 HORIZ POSITION
   113 = 008C			M3HPOS .DS 1 ;MONSTER 3 HORIZ POSITION
   114 = 008D			M4HPOS .DS 1 ;MONSTER 4 HORIZ POSITION
   115 = 008E			PMHPOS .DS 1 ;PACMAN HORIZONTAL POSIT
   116 = 008F			M1DIRT .DS 1 ;MONSTER 1 DIRECTION
   117 = 0090			M2DIRT .DS 1 ;MONSTER 2 DIRECTION
   118 = 0091			M3DIRT .DS 1 ;MONSTER 3 DIRECTION
   119 = 0092			M4DIRT .DS 1 ;MONSTER 4 DIRECTION
   120 = 0093			PMODIR .DS 1 ;PACMAN OLD DIRECTION
   121 = 0094			SCOREX .DS 6 ;PLAYER SCORE FOR TEXT
   122 = 009A			CARRYB .DS 1 ;CARRY BIT FOR ABOVE
   123 = 009B			PAUSEF .DS 1 ;PAUSE FLAG
   124 = 009C			WHINEY .DS 1 ;CHASE WHINE DELTA
   125 = 009D			FRUTMR .DS 2 ;FRUIT TIMER (10 SECS)
   126 = 009F			FRUFLG .DS 1 ;FRUIT DISPLAY FLAG
   127 = 00A0			FRUCLR .DS 1 ;FRUIT COLOR
   128 = 00A1			FRSCRF .DS 1 ;FRUIT SCORE FLAG
   129 = 00A2			FRSCRT .DS 1 ;FRUIT SCORE TIMER
   130 = 00A3			NOTCNT .DS 1 ;NOTE COUNT FOR TUNES
   131 = 00A4			VSAVER .DS 1 ;VERTICAL POSIT SAVE
   132 = 00A5			HSAVER .DS 1 ;HORIZONTAL POSIT SAVE
   133 = 00A6			PACMAP .DS 1 ;PACMAN VERT MAP COUNTER
   134 = 00A7			PACCNT .DS 1 ;PACMAN MOTION COUNT
   135 = 00A8			PACADV .DS 1 ;PACMAN ADVANCE-TURNING
   136 = 00A9			PACDLY .DS 1 ;PACMAN DELAY-EATING DOTS
   137 = 00AA			PMSTAT .DS 1 ;PACMAN STATUS
   138 = 00AB			PMSEQU .DS 1 ;PACMAN SEQUENCE (MOUTH)
   139 = 00AC			PMNDIR .DS 1 ;PACMAN NEW DIRECTION
   140 = 00AD			CHASET .DS 1 ;CHASE TIMER
   141 = 00AE			MSTILL .DS 1 ;MONSTERS STILL FLAG
   142 = 00AF			MSKIRT .DS 1 ;MONSTER SKIRT FLAG
   143 = 00B0			M1SPSQ .DS 1 ;MONSTER 1 SPEED SEQUENCE
   144 = 00B1			M2SPSQ .DS 1 ;MONSTER 2 SPEED SEQUENCE
   145 = 00B2			M3SPSQ .DS 1 ;MONSTER 3 SPEED SEQUENCE
   146 = 00B3			M4SPSQ .DS 1 ;MONSTER 4 SPEED SEQUENCE
   147 = 00B4			PMSPSQ .DS 1 ;PACMAN SPEED SEQUENCE
   148 = 00B5			M1SPCT .DS 1 ;MONSTER 1 SPEED COUNT
   149 = 00B6			M2SPCT .DS 1 ;MONSTER 2 SPEED COUNT
   150 = 00B7			M3SPCT .DS 1 ;MONSTER 3 SPEED COUNT
   151 = 00B8			M4SPCT .DS 1 ;MONSTER 4 SPEED COUNT
   152 = 00B9			PMSPCT .DS 1 ;PACMAN  SPEED COUNT
   153 = 00BA			M1PIDX .DS 1 ;MONSTER 1 PATTERN INDEX
   154 = 00BB			M2PIDX .DS 1 ;MONSTER 2 PATTERN INDEX
   155 = 00BC			M3PIDX .DS 1 ;MONSTER 3 PATTERN INDEX
   156 = 00BD			M4PIDX .DS 1 ;MONSTER 4 PATTERN INDEX
   157 = 00BE			M1PCNT .DS 1 ;MONSTER 1 PATTERN COUNT
   158 = 00BF			M2PCNT .DS 1 ;MONSTER 2 PATTERN COUNT
   159 = 00C0			M3PCNT .DS 1 ;MONSTER 3 PATTERN COUNT
   160 = 00C1			M4PCNT .DS 1 ;MONSTER 4 PATTERN COUNT
   161 = 00C2			M1THPS .DS 1 ;MONSTER 1 TARGET HPOS
   162 = 00C3			M2THPS .DS 1 ;MONSTER 2 TARGET HPOS
   163 = 00C4			M3THPS .DS 1 ;MONSTER 3 TARGET HPOS
   164 = 00C5			M4THPS .DS 1 ;MONSTER 4 TARGET HPOS
   165 = 00C6			M1TVPS .DS 1 ;MONSTER 1 TARGET VPOS
   166 = 00C7			M2TVPS .DS 1 ;MONSTER 2 TARGET VPOS
   167 = 00C8			M3TVPS .DS 1 ;MONSTER 3 TARGET VPOS
   168 = 00C9			M4TVPS .DS 1 ;MONSTER 4 TARGET VPOS
   169 = 00CA			M1TIMR .DS 1 ;MONSTER 1 TIMER
   170 = 00CB			M2TIMR .DS 1 ;MONSTER 2 TIMER
   171 = 00CC			M3TIMR .DS 1 ;MONSTER 3 TIMER
   172 = 00CD			M4TIMR .DS 1 ;MONSTER 4 TIMER
   173 = 00CE			M1STAT .DS 1 ;MONSTER 1 STATUS
   174 = 00CF			M2STAT .DS 1 ;MONSTER 2 STATUS
   175 = 00D0			M3STAT .DS 1 ;MONSTER 3 STATUS
   176 = 00D1			M4STAT .DS 1 ;MONSTER 4 STATUS
   177 = 00D2			M1SSEQ .DS 1 ;MONSTER 1 START SEQUENCE
   178 = 00D3			M2SSEQ .DS 1 ;MONSTER 2 START SEQUENCE
   179 = 00D4			M3SSEQ .DS 1 ;MONSTER 3 START SEQUENCE
   180 = 00D5			M4SSEQ .DS 1 ;MONSTER 4 START SEQUENCE
   181 = 00D6			M1VDIR .DS 1 ;MONSTER 1 VERT CHOICE
   182 = 00D7			M2VDIR .DS 1 ;MONSTER 2 VERT CHOICE
   183 = 00D8			M3VDIR .DS 1 ;MONSTER 3 VERT CHOICE
   184 = 00D9			M4VDIR .DS 1 ;MONSTER 4 VERT CHOICE
   185 = 00DA			M1HDIR .DS 1 ;MONSTER 1 HORZ CHOICE
   186 = 00DB			M2HDIR .DS 1 ;MONSTER 2 HORZ CHOICE
   187 = 00DC			M3HDIR .DS 1 ;MONSTER 3 HORZ CHOICE
   188 = 00DD			M4HDIR .DS 1 ;MONSTER 4 HORZ CHOICE
   189 = 00DE			VCHASF .DS 1 ;CHASE FREQ
   190 = 00DF			VCHASD .DS 1 ;DIRECTION 1=INC 2=DEC
   191 = 00E0			VCHASS .DS 1 ;CHASE SOUND START
   192 = 00E1			VFLITF .DS 1 ;FLIGHT FREQ
   193 = 00E2			VFLITD .DS 1 ;DIRECTION SAME
   194 = 00E3			VFLITV .DS 1 ;FLIGHT VOLUME
   195 = 00E4			VFLITS .DS 1 ;FLIGHT SOUND START
   196 = 00E5			VFREEZ .DS 1 ;FREEZE FLAG
   197 = 00E6			VGLPC1 .DS 1 ;GULP COUNT1
   198 = 00E7			VGLPC2 .DS 1 ;GULP COUNT2
   199 = 00E8			GULPED .DS 1 ;LAST MONSTER EATEN
   200 = 00E9			GLPCNT .DS 1 ;GULP COUNT
   201 = 00EA			FIZZLE .DS 1 ;FIZZLE FLAG 1=FIZL
   202 = 00EB			FIZPTR .DS 1 ;FIZZLE ADDR POINTER
   203 = 00EC			FIZTIM .DS 1 ;FIZZLE TIMER
   204 = 00ED			VFIZST .DS 1 ;FIZZLE STATUS
   205 = 00EE			VFIZSQ .DS 1 ;FIZZLE SEQUENCE #
   206 = 00EF			VFIZBS .DS 1 ;FIZZLE FREQ BASE
   207 = 00F0			VFIZFQ .DS 1 ;FIZZLE CURRENT FREQ
   208 = 00F1			VFIZCT .DS 1 ;FIZZLE COUNTER
   209 = 00F2			TWEETR .DS 1 ;TWEET SOUND FLAG
   210 = 00F3			TWEETF .DS 1 ;TWEET SOUND FREQ
   211 = 00F4			EATERF .DS 1 ;EAT DOT SOUND FLAG
   212 = 00F5			EATERC .DS 1 ;EAT DOT SOUND COUNT
   213 = 00F6			EATERT .DS 1 ;EAT DOT TOGGLE
   214 = 00F7			GOBBLD .DS 1 ;GOBBLE DIRCTN (FRUITS)
   215 = 00F8			GOBBLF .DS 1 ;GOBBLE FREQUENCY
   216 = 00F9			BLINKT .DS 1 ;BLINK TIMER
   217 = 00FA			FLSHUP .DS 1 ;FLASH 1UP 2UP TIMER
   218 = 00FB			FLASHT .DS 1 ;FLASH TIMER
   219 = 00FC			FLASHC .DS 1 ;FLASH COUNT
   220 = 00FD			FLITMR .DS 1 ;FLIGHT TIMER
   221 = 00FE			TUNMSK .DS 1 ;TUNNEL BIT MASK
   222 = 00FF			TUNCNT .DS 1 ;TUNNEL ITERATION COUNT
   223 				;
   224 				; EJECT
   225 				;
   226 				 ORG $0600
   227 				;
   228 = 0600			PACBUF .DS 16 ; PACMAN IMAGE BUFFER
   229 = 0610			MONBUF .DS 16 ; MONSTER IMAGE BUFFER
   230 				;
   231 = 0680			INTRDL EQU $0680;INTERMISSION DL
   232 = 06C0			INTMOD EQU $06C0;INTERMISSION MODE
   233 = 06C1			INTSEQ EQU $06C1;INTERMISSION SEQ
   234 				;
   235 				;
   236 				;****   SYSTEM VARIABLES    ****
   237 				;
   238 = 0001			BDELAY EQU 1  ;BOUNCE DELAY
   239 = 00FF			FDELAY EQU $FF;FRUIT TIMER VALUE
   240 = 0030			ADELAY EQU $30;ATTRACT TIMER DELAY
   241 				;
   242 = 0800			GAMMEM EQU $0800; GAME MEMORY
   243 				;
   244 = 1400			PACMAZ EQU GAMMEM+$0C00
   245 = 1800			P1SAVE EQU GAMMEM+$1000
   246 = 1C00			P2SAVE EQU GAMMEM+$1400
   247 = 2000			OPTCHR EQU GAMMEM+$1800
   248 = 2400			OPTSCN EQU GAMMEM+$1C00
   249 = 2800			PMADDR EQU GAMMEM+$2000
   250 = 2800			TEXT   EQU GAMMEM+$2000
   251 = 3000			PATSCN EQU GAMMEM+$2800
   252 = 3400			AMCSET EQU GAMMEM+$2C00
   253
   254 					OPT F+
   255 				;
   256 				; EJECT
   257 				;
   258 				 ORG $3FFD
   259 				;
   260 FFFF> 3FFD-76DD> 4C BC +  JMP INIT
   261 				;
   262 4000			 ICL "PACDAT1.ASM"
Source: D:\!Delphi\mads\examples\pacman\PACDAT1.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;	MISSING LABELS & DATA
     4
     5 4000			PACCHR
     6 4000 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$3C,$3C,$00,$00,$00
     7 4010 3C 3C FF FF FF FF + 	.byte $3C,$3C,$FF,$FF,$FF,$FF,$3C,$3C,$00,$00,$01,$04,$04,$04,$04,$04
     8 4020 00 00 40 10 10 10 + 	.byte $00,$00,$40,$10,$10,$10,$10,$10,$10,$10,$10,$10,$10,$40,$00,$00
     9 4030 04 04 04 04 04 01 + 	.byte $04,$04,$04,$04,$04,$01,$00,$00,$00,$00,$55,$00,$00,$50,$04,$04
    10 4040 00 00 40 10 10 40 + 	.byte $00,$00,$40,$10,$10,$40,$00,$00,$00,$00,$55,$00,$00,$05,$10,$10
    11 4050 00 00 01 04 04 01 + 	.byte $00,$00,$01,$04,$04,$01,$00,$00,$00,$00,$FF,$00,$00,$00,$00,$00
    12 4060 00 00 55 00 00 55 + 	.byte $00,$00,$55,$00,$00,$55,$00,$00,$04,$04,$04,$04,$04,$04,$04,$04
    13 4070 00 00 55 00 00 00 + 	.byte $00,$00,$55,$00,$00,$00,$00,$00,$10,$10,$10,$10,$10,$10,$10,$10
    14 4080 00 00 00 00 00 55 + 	.byte $00,$00,$00,$00,$00,$55,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01
    15 4090 01 01 01 01 00 00 + 	.byte $01,$01,$01,$01,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    16 40A0 40 40 40 40 40 40 + 	.byte $40,$40,$40,$40,$40,$40,$40,$40,$00,$00,$55,$00,$00,$50,$04,$04
    17 40B0 00 00 55 00 00 05 + 	.byte $00,$00,$55,$00,$00,$05,$10,$10,$04,$04,$50,$00,$00,$55,$00,$00
    18 40C0 10 10 05 00 00 55 + 	.byte $10,$10,$05,$00,$00,$55,$00,$00,$10,$10,$05,$00,$00,$05,$10,$10
    19 40D0 04 04 50 00 00 50 + 	.byte $04,$04,$50,$00,$00,$50,$04,$04,$3C,$FF,$3F,$0F,$3F,$FF,$3C,$00
    20 40E0 00 00 15 40 00 05 + 	.byte $00,$00,$15,$40,$00,$05,$10,$10,$10,$10,$05,$00,$40,$15,$00,$00
    21 40F0 00 00 54 01 00 50 + 	.byte $00,$00,$54,$01,$00,$50,$04,$04,$04,$04,$50,$00,$01,$54,$00,$00
    22 4100 00 00 00 00 40 40 + 	.byte $00,$00,$00,$00,$40,$40,$40,$40,$40,$40,$40,$40,$00,$00,$00,$00
    23 4110 00 3F 3C 3C 3F 3C + 	.byte $00,$3F,$3C,$3C,$3F,$3C,$3C,$00,$00,$F0,$3C,$3C,$F0,$F0,$3C,$00
    24 4120 00 FF F0 FF F0 F0 + 	.byte $00,$FF,$F0,$FF,$F0,$F0,$FF,$00,$00,$C0,$03,$0F,$0F,$0F,$CF,$00
    25 4130 00 F0 FC 0F 0F FF + 	.byte $00,$F0,$FC,$0F,$0F,$FF,$0F,$00,$00,$3F,$3C,$3C,$3C,$3C,$3F,$00
    26 4140 00 C0 F0 3C 3C F0 + 	.byte $00,$C0,$F0,$3C,$3C,$F0,$C0,$00,$00,$F0,$F0,$3F,$0F,$0F,$0F,$00
    27 4150 00 F3 F3 C3 00 03 + 	.byte $00,$F3,$F3,$C3,$00,$03,$03,$00,$00,$C0,$C0,$C0,$00,$C0,$C0,$00
    28 4160 00 3F F0 F0 F3 F0 + 	.byte $00,$3F,$F0,$F0,$F3,$F0,$3F,$00,$00,$F0,$00,$03,$F3,$F3,$F3,$00
    29 4170 00 3C FF C3 C3 FF + 	.byte $00,$3C,$FF,$C3,$C3,$FF,$C3,$00,$00,$0F,$0F,$CF,$CF,$CF,$CF,$00
    30 4180 00 03 CF FF 33 03 + 	.byte $00,$03,$CF,$FF,$33,$03,$03,$00,$00,$CF,$CF,$CF,$CF,$CF,$CF,$00
    31 4190 00 FC 00 F0 00 00 + 	.byte $00,$FC,$00,$F0,$00,$00,$FC,$00,$00,$00,$03,$03,$03,$03,$00,$00
    32 41A0 00 FF C3 C3 C3 C3 + 	.byte $00,$FF,$C3,$C3,$C3,$C3,$FF,$00,$00,$0F,$CF,$CF,$CF,$C3,$00,$00
    33 41B0 00 3C 3C 3C 3C F0 + 	.byte $00,$3C,$3C,$3C,$3C,$F0,$C0,$00,$00,$FF,$F0,$FF,$F0,$F0,$FF,$00
    34 41C0 00 CF 0F 0F 0F 0F + 	.byte $00,$CF,$0F,$0F,$0F,$0F,$CF,$00,$00,$FC,$0F,$0F,$FC,$3C,$0F,$00
    35 41D0 00 03 0C 2A 2A 2A + 	.byte $00,$03,$0C,$2A,$2A,$2A,$3A,$2A,$30,$F0,$30,$A8,$A8,$E8,$A8,$00
    36 41E0 03 0F 2A 2E 2A 2B + 	.byte $03,$0F,$2A,$2E,$2A,$2B,$0A,$02,$00,$C0,$A0,$E0,$A0,$A0,$80,$00
    37 41F0 02 02 0F 3F 3F 3F + 	.byte $02,$02,$0F,$3F,$3F,$3F,$3F,$0F,$00,$00,$C0,$F0,$F0,$F0,$F0,$C0
    38 4200 03 0A 2A 2A 2A 2A + 	.byte $03,$0A,$2A,$2A,$2A,$2A,$2A,$0A,$00,$80,$A0,$A0,$E0,$E0,$A0,$80
    39 4210 03 03 0A 2A 2A 2A + 	.byte $03,$03,$0A,$2A,$2A,$2A,$2A,$0A,$00,$00,$80,$A0,$A0,$A0,$A0,$80
    40 4220 03 03 05 15 15 15 + 	.byte $03,$03,$05,$15,$15,$15,$15,$05,$00,$00,$40,$50,$50,$50,$50,$40
    41 4230 22 22 22 22 22 A2 + 	.byte $22,$22,$22,$22,$22,$A2,$82,$82,$20,$20,$20,$20,$20,$28,$08,$08
    42 4240 11 11 11 11 11 51 + 	.byte $11,$11,$11,$11,$11,$51,$41,$41,$10,$10,$10,$10,$10,$14,$04,$04
    43 4250 03 0D 3F 3F 3F 3A + 	.byte $03,$0D,$3F,$3F,$3F,$3A,$2B,$0A,$00,$C0,$F0,$F0,$F0,$B0,$A0,$80
    44 4260 0A 08 0A 03 03 03 + 	.byte $0A,$08,$0A,$03,$03,$03,$03,$03,$A0,$20,$A0,$C0,$F0,$C0,$F0,$C0
    45 4270 00 03 00 00 00 00 + 	.byte $00,$03,$00,$00,$00,$00,$03,$00,$C0,$C3,$C3,$C3,$C3,$C3,$F0,$00
    46 4280 3F 00 00 03 00 30 + 	.byte $3F,$00,$00,$03,$00,$30,$0F,$00,$F0,$33,$C3,$C3,$33,$33,$C0,$00
    47 4290 3F 30 3F 00 00 30 + 	.byte $3F,$30,$3F,$00,$00,$30,$0F,$00,$F0,$03,$C3,$33,$33,$33,$C0,$00
    48 42A0 3F 00 00 03 0C 0C + 	.byte $3F,$00,$00,$03,$0C,$0C,$0C,$00,$F0,$33,$C3,$03,$03,$03,$00,$00
    49 42B0 03 0F 03 03 03 03 + 	.byte $03,$0F,$03,$03,$03,$03,$0F,$00,$03,$0C,$0C,$0C,$0C,$0C,$C3,$00
    50 42C0 3F C0 00 0F 30 C0 + 	.byte $3F,$C0,$00,$0F,$30,$C0,$FF,$00,$03,$CC,$CC,$0C,$0C,$0C,$C3,$00
    51 42D0 FF 00 03 0F 00 C0 + 	.byte $FF,$00,$03,$0F,$00,$C0,$3F,$00,$C3,$CC,$0C,$0C,$CC,$CC,$03,$00
    52 42E0 FF C0 FF 00 00 C0 + 	.byte $FF,$C0,$FF,$00,$00,$C0,$3F,$00,$C3,$0C,$0C,$CC,$CC,$CC,$03,$00
    53 42F0 C0 33 33 33 33 33 + 	.byte $C0,$33,$33,$33,$33,$33,$C0,$00,$F0,$0C,$0C,$0C,$0C,$0C,$F0,$00
    54 4300 3C C3 C3 C3 C3 C3 + 	.byte $3C,$C3,$C3,$C3,$C3,$C3,$3C,$00,$00,$00,$55,$00,$00,$54,$01,$01
    55 4310 01 01 54 00 00 55 + 	.byte $01,$01,$54,$00,$00,$55,$00,$00,$00,$00,$55,$00,$00,$15,$40,$40
    56 4320 40 40 15 00 00 55 + 	.byte $40,$40,$15,$00,$00,$55,$00,$00,$00,$AA,$A0,$A0,$AA,$A0,$A0,$00
    57 4330 00 82 A2 A2 82 02 + 	.byte $00,$82,$A2,$A2,$82,$02,$02,$00,$00,$80,$80,$80,$80,$80,$AA,$00
    58 4340 00 02 0A 28 28 2A + 	.byte $00,$02,$0A,$28,$28,$2A,$28,$00,$00,$02,$82,$A0,$A0,$A0,$A0,$00
    59 4350 00 82 82 AA 28 28 + 	.byte $00,$82,$82,$AA,$28,$28,$28,$00,$00,$8A,$8A,$0A,$0A,$0A,$0A,$00
    60 4360 00 A8 00 A0 00 00 + 	.byte $00,$A8,$00,$A0,$00,$00,$A8,$00,$00,$AA,$A0,$A0,$AA,$A2,$A0,$00
    61 4370 00 80 A0 A0 80 80 + 	.byte $00,$80,$A0,$A0,$80,$80,$A0,$00,$00,$00,$02,$00,$00,$00,$0A,$00
    62 4380 00 A0 A0 A0 A0 A0 + 	.byte $00,$A0,$A0,$A0,$A0,$A0,$AA,$00,$00,$02,$0A,$00,$00,$02,$0A,$00
    63 4390 00 A8 0A 28 A0 80 + 	.byte $00,$A8,$0A,$28,$A0,$80,$AA,$00
    64
    65 4398			DATMAZ
    66 4398 00 11 1C 0C 0C 0C + 	.byte $00,$11,$1C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
    67 43A8 0C 0C 0C 15 16 0C + 	.byte $0C,$0C,$0C,$15,$16,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
    68 43B8 0C 0C 0C 0C 0C 1E + 	.byte $0C,$0C,$0C,$0C,$0C,$1E,$20,$00,$00,$13,$0F,$01,$01,$01,$01,$01
    69 43C8 01 01 01 01 01 01 + 	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0D,$0F,$01,$01,$01
    70 43D8 01 01 01 01 01 01 + 	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0D,$14,$00
    71 43E8 00 13 0F 01 03 0E + 	.byte $00,$13,$0F,$01,$03,$0E,$0E,$0E,$04,$01,$03,$0E,$0E,$0E,$0E,$0E
    72 43F8 0E 04 01 0D 0F 01 + 	.byte $0E,$04,$01,$0D,$0F,$01,$03,$0E,$0E,$0E,$0E,$0E,$0E,$04,$01,$03
    73 4408 0E 0E 0E 04 01 0D + 	.byte $0E,$0E,$0E,$04,$01,$0D,$14,$00,$00,$13,$0F,$02,$06,$10,$10,$10
    74 4418 05 01 06 10 10 10 + 	.byte $05,$01,$06,$10,$10,$10,$10,$10,$10,$05,$01,$06,$05,$01,$06,$10
    75 4428 10 10 10 10 10 05 + 	.byte $10,$10,$10,$10,$10,$05,$01,$06,$10,$10,$10,$05,$02,$0D,$14,$00
    76 4438 00 13 0F 01 01 01 + 	.byte $00,$13,$0F,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
    77 4448 01 01 01 01 01 01 + 	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
    78 4458 01 01 01 01 01 0D + 	.byte $01,$01,$01,$01,$01,$0D,$14,$00,$00,$13,$0F,$01,$0A,$0C,$0C,$0C
    79 4468 08 01 03 0E 04 01 + 	.byte $08,$01,$03,$0E,$04,$01,$0A,$0C,$0C,$0C,$0C,$07,$09,$0C,$0C,$0C
    80 4478 0C 08 01 03 0E 04 + 	.byte $0C,$08,$01,$03,$0E,$04,$01,$0A,$0C,$0C,$0C,$08,$01,$0D,$14,$00
    81 4488 00 13 0F 01 01 01 + 	.byte $00,$13,$0F,$01,$01,$01,$01,$01,$01,$01,$0D,$00,$0F,$01,$01,$01
    82 4498 01 01 01 0D 0F 01 + 	.byte $01,$01,$01,$0D,$0F,$01,$01,$01,$01,$01,$01,$0D,$00,$0F,$01,$01
    83 44A8 01 01 01 01 01 0D + 	.byte $01,$01,$01,$01,$01,$0D,$14,$00,$00,$12,$1D,$0C,$0C,$0C,$0C,$61
    84 44B8 04 01 0D 00 19 0C + 	.byte $04,$01,$0D,$00,$19,$0C,$0C,$0C,$0C,$08,$00,$06,$05,$00,$0A,$0C
    85 44C8 0C 0C 0C 1A 00 0F + 	.byte $0C,$0C,$0C,$1A,$00,$0F,$01,$03,$63,$0C,$0C,$0C,$0C,$1F,$21,$00
    86 44D8 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$13,$0F,$01,$0D,$00,$0F,$00,$00,$00
    87 44E8 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$0D,$00,$0F,$01,$0D
    88 44F8 14 00 00 00 00 00 + 	.byte $14,$00,$00,$00,$00,$00,$00,$00,$00,$00,$0C,$0C,$0C,$0C,$0C,$62
    89 4508 05 01 06 10 05 00 + 	.byte $05,$01,$06,$10,$05,$00,$03,$0E,$0E,$0E,$0E,$0B,$0B,$0E,$0E,$0E
    90 4518 0E 04 00 06 10 05 + 	.byte $0E,$04,$00,$06,$10,$05,$01,$06,$64,$0C,$0C,$0C,$0C,$0C,$00,$00
    91 4528 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$0D,$00
    92 4538 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$0F,$00,$00,$00,$00,$01,$00
    93 4548 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$0C,$0C,$0C,$0C,$0C,$61
    94 4558 04 01 03 0E 04 00 + 	.byte $04,$01,$03,$0E,$04,$00,$06,$10,$10,$10,$10,$10,$10,$10,$10,$10
    95 4568 10 05 00 03 0E 04 + 	.byte $10,$05,$00,$03,$0E,$04,$01,$03,$63,$0C,$0C,$0C,$0C,$0C,$00,$00
    96 4578 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$13,$0F,$01,$0D,$00,$0F,$00,$00,$00
    97 4588 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$0D,$00,$0F,$01,$0D
    98 4598 14 00 00 00 00 00 + 	.byte $14,$00,$00,$00,$00,$00,$00,$00,$00,$11,$1C,$0C,$0C,$0C,$0C,$62
    99 45A8 05 01 06 10 05 00 + 	.byte $05,$01,$06,$10,$05,$00,$0A,$0C,$0C,$0C,$0C,$07,$09,$0C,$0C,$0C
   100 45B8 0C 08 00 06 10 05 + 	.byte $0C,$08,$00,$06,$10,$05,$01,$06,$64,$0C,$0C,$0C,$0C,$1E,$20,$00
   101 45C8 00 13 0F 01 01 01 + 	.byte $00,$13,$0F,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
   102 45D8 01 01 01 0D 0F 01 + 	.byte $01,$01,$01,$0D,$0F,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
   103 45E8 01 01 01 01 01 0D + 	.byte $01,$01,$01,$01,$01,$0D,$14,$00,$00,$13,$0F,$01,$0A,$0C,$0C,$15
   104 45F8 04 01 0A 0C 0C 0C + 	.byte $04,$01,$0A,$0C,$0C,$0C,$0C,$0C,$0C,$08,$01,$06,$05,$01,$0A,$0C
   105 4608 0C 0C 0C 0C 0C 08 + 	.byte $0C,$0C,$0C,$0C,$0C,$08,$01,$03,$16,$0C,$0C,$08,$01,$0D,$14,$00
   106 4618 00 13 0F 02 01 01 + 	.byte $00,$13,$0F,$02,$01,$01,$01,$0D,$0F,$01,$01,$01,$01,$01,$01,$01
   107 4628 01 01 01 00 00 01 + 	.byte $01,$01,$01,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$0D
   108 4638 0F 01 01 01 02 0D + 	.byte $0F,$01,$01,$01,$02,$0D,$14,$00,$00,$13,$19,$0C,$0C,$08,$01,$06
   109 4648 05 01 03 0E 04 01 + 	.byte $05,$01,$03,$0E,$04,$01,$0A,$0C,$0C,$0C,$0C,$07,$09,$0C,$0C,$0C
   110 4658 0C 08 01 03 0E 04 + 	.byte $0C,$08,$01,$03,$0E,$04,$01,$06,$05,$01,$0A,$0C,$0C,$1A,$14,$00
   111 4668 00 13 0F 01 01 01 + 	.byte $00,$13,$0F,$01,$01,$01,$01,$01,$01,$01,$0D,$00,$0F,$01,$01,$01
   112 4678 01 01 01 0D 0F 01 + 	.byte $01,$01,$01,$0D,$0F,$01,$01,$01,$01,$01,$01,$0D,$00,$0F,$01,$01
   113 4688 01 01 01 01 01 0D + 	.byte $01,$01,$01,$01,$01,$0D,$14,$00,$00,$13,$0F,$01,$0A,$0C,$0C,$0C
   114 4698 0C 0C 17 10 18 0C + 	.byte $0C,$0C,$17,$10,$18,$0C,$0C,$0C,$0C,$08,$01,$06,$05,$01,$0A,$0C
   115 46A8 0C 0C 0C 17 10 18 + 	.byte $0C,$0C,$0C,$17,$10,$18,$0C,$0C,$0C,$0C,$0C,$08,$01,$0D,$14,$00
   116 46B8 00 13 0F 01 01 01 + 	.byte $00,$13,$0F,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
   117 46C8 01 01 01 01 01 01 + 	.byte $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
   118 46D8 01 01 01 01 01 0D + 	.byte $01,$01,$01,$01,$01,$0D,$14,$00,$00,$12,$1D,$0C,$0C,$0C,$0C,$0C
   119 46E8 0C 0C 0C 0C 0C 0C + 	.byte $0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C
   120 46F8 0C 0C 0C 0C 0C 0C + 	.byte $0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$0C,$1F,$21,$00
   121 4708 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   122 4718 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   123 4728 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00
   124
   125 4730			ODLIST
   126 4730 70 70 42 00 28 02 + 	.byte $70,$70,$42,$00,$28,$02,$C6,$00,$24,$07,$07,$86,$06,$06,$06,$06
   127 4740 86 04 86 06 06 06 + 	.byte $86,$04,$86,$06,$06,$06,$06,$06,$06,$06,$06,$86,$44,$70,$17,$41, a(ODLIST)
   128
   129 4752			DLIST
   130 4752 70 70 42 00 28 82 + 	.byte $70,$70,$42,$00,$28,$82,$C4,$00,$14,$04,$04,$04,$04,$04,$04,$04
   131 4762 04 04 84 04 04 04 + 	.byte $04,$04,$84,$04,$04,$04,$04,$04,$04,$04,$04,$04,$84,$84,$04,$F0
   132 4772 41 52 47			.byte $41,a(DLIST)
   133
   134 4775			ADLIST
   135 4775 70 70 C2 00 28 02 + 	.byte $70,$70,$C2,$00,$28,$02,$46,$00,$30,$06,$86,$06,$06,$06,$06,$06
   136 4785 06 06 86 06 06 06 + 	.byte $06,$06,$86,$06,$06,$06,$86,$06,$06,$06,$06,$06,$86,$06,$44,$70
   137 4795 17 41 75 47			.byte $17,$41,a(ADLIST)
   138 4799			NULLDL
   139 4799 70 70 70 41 99 47		.byte $70,$70,$70,$41,a(NULLDL)
   140
   141 479F			INTDLC
   142 479F 70 70 70 42 00 28 + 	.byte $70,$70,$70,$42,$00,$28,$02,$F0,$70,$70,$70,$70,$70,$70,$70,$70
   143 47AF 70 54 00 2C 54 50 + 	.byte $70,$54,$00,$2C,$54,$50,$2C,$54,$A0,$2C,$41,$80,$06
   263 				 
   264 				;
   265 				; EJECT
   266 				;
   267 47BC A2 09		INIT LDX #9
   268 47BE BD 96 68		INITL1 LDA HISCTX,X
   269 47C1 9D 0F 28		 STA TEXT+$0F,X
   270 47C4 CA			 DEX
   271 47C5 10 F7		 BPL INITL1
   272 47C7 A9 00		 LDA #0
   273 47C9 A2 27		 LDX #$27
   274 47CB 95 18		INITL2 STA DLICNT,X
   275 47CD CA			 DEX
   276 47CE 10 FB		 BPL INITL2
   277 47D0 A2 7F		 LDX #$7F
   278 47D2 95 80		INIPZL STA $80,X
   279 47D4 CA			 DEX
   280 47D5 10 FB		 BPL INIPZL
   281 				;
   282 47D7 E6 19		 INC OPTION
   283 47D9 A6 14		 LDX RTCLOK+2
   284 47DB CA			 DEX
   285 47DC 86 1D		 STX ATCLOK
   286 				;
   287 				; RELOCATE OPTION CHAR SET
   288 				;
   289 47DE A2 00		 LDX #0
   290 47E0 BD 38 69		OCLOOP LDA PACTTL,X
   291 47E3 9D 08 20		 STA OPTCHR+8,X
   292 47E6 E8			 INX
   293 47E7 D0 F7		 BNE OCLOOP
   294 				;
   295 				; BUILD ATTRACT MODE CHAR SET
   296 				;
   297 47E9 BD 00 E0		ANCHRL LDA CHRORG,X
   298 47EC 9D 00 34		 STA AMCSET,X
   299 47EF BD 00 E1		 LDA CHRORG+$100,X
   300 47F2 9D 00 35		 STA AMCSET+$100,X
   301 47F5 E8			 INX
   302 47F6 D0 F1		 BNE ANCHRL
   303 47F8 A2 1F		 LDX #$1F
   304 47FA BD 0D 6C		ANCDTL LDA ATCHRS,X
   305 47FD 9D 18 34		 STA AMCSET+$18,X
   306 4800 CA			 DEX
   307 4801 10 F7		 BPL ANCDTL
   308 				;
   309 				; ENABLE KEYSCAN & SET VBI VECTOR
   310 				;
   311 4803 78			PACINI SEI
   312 4804 A5 10		 LDA POKMSK
   313 4806 09 40		 ORA #$40
   314 4808 85 10		 STA POKMSK
   315 480A 8D 0E D2		 STA IRQEN
   316 480D 58			 CLI
   317 480E A0 07		 LDY #<VBLANK
   318 4810 A2 4A		 LDX #>VBLANK
   319 4812 A9 07		 LDA #7
   320 4814 8D 0F D2		 STA SKCTL
   321 4817 20 5C E4		 JSR SETVBV;GO SET VBLANK VECTOR
   322 481A A9 C0		 LDA #$C0;ENABLE DLI AND VBI
   323 481C 8D 0E D4		 STA NMIEN
   324 481F A9 3E		 LDA #$3E
   325 4821 8D 2F 02		 STA SDMCTL;ENABLE P/M GRAPHICS
   326 4824 A9 03		 LDA #$3
   327 4826 8D 1D D0		 STA GRACTL
   328 4829 A9 28		 LDA #>PMADDR
   329 482B 8D 07 D4		 STA PMBASE
   330 482E A9 BC		 LDA #<INIT
   331 4830 85 0A		 STA DOSVEC
   332 4832 A9 47		 LDA #>INIT
   333 4834 85 0B		 STA DOSVEC+1
   334 4836 A9 50		 LDA #<INITAD
   335 4838 85 0C		 STA DOSINI
   336 483A A9 4A		 LDA #>INITAD
   337 483C 85 0D		 STA DOSINI+1
   338 				;
   339 483E A9 00		REINIT LDA #0;NEW GAME VECTOR
   340 4840 A2 1F		 LDX #$1F
   341 4842 95 20		REINLP STA GMOVRF,X
   342 4844 CA			 DEX
   343 4845 10 FB		 BPL REINLP
   344 4847 9A			 TXS
   345 4848 20 86 58		 JSR CLRAUD
   346 				;
   347 				; NOW INITIALIZE PLAYER SCREENS
   348 				;
   349 484B 20 E0 58		 JSR P1INIT
   350 484E 20 FE 58		 JSR SAVEP1
   351 4851 20 1C 59		 JSR SAVEP2
   352 				;
   353 4854 A5 19		 LDA OPTION
   354 4856 D0 3C		 BNE LOOP
   355 				;
   356 4858 A5 14		PACGAM LDA RTCLOK+2
   357 485A C5 14		PACGML CMP RTCLOK+2
   358 485C F0 FC		 BEQ PACGML
   359 485E A9 52		 LDA #<DLIST
   360 4860 8D 30 02		 STA SDLSTL
   361 4863 8D 02 D4		 STA DLISTL
   362 4866 A9 47		 LDA #>DLIST
   363 4868 8D 31 02		 STA SDLSTH
   364 486B 8D 03 D4		 STA DLISTH
   365 486E A9 6E		 LDA #<DLIV; DLI VECTOR
   366 4870 8D 00 02		 STA VDSLST
   367 4873 A9 49		 LDA #>DLIV
   368 4875 8D 01 02		 STA VDSLST+1
   369 4878 A9 11		 LDA #$11
   370 487A 8D 6F 02		 STA GPRIOR;LET MISSILES USE COLPF3
   371 487D 20 4F 55		SETPAC JSR SETUP
   372 4880 20 91 55		 JSR NEWGAM
   373 4883 A5 1A		 LDA NUMPLY
   374 4885 F0 06		 BEQ P1SCIN
   375 4887 20 6D 4A		 JSR SET2PL
   376 488A 4C 90 48		 JMP GODOIT
   377
   378 488D 20 51 4A		P1SCIN JSR SET1PL
   379 4890 A9 02		GODOIT LDA #2
   380 4892 85 1C		 STA RSTRTF
   381 				;
   382 4894 A5 27		LOOP LDA RRSEQU
   383 4896 C9 03		 CMP #3
   384 4898 D0 08		 BNE GOLOOP
   385 				 
   386 489A 20 9A 62		 JSR INTMIS
   387 489D 20 4F 55		 JSR SETUP
   388 48A0 E6 27		 INC RRSEQU
   389 48A2 A2 03		GOLOOP LDX  #3
   390 48A4 BD 31 67		LOOPLP LDA ACOLOR,X
   391 48A7 45 4F		 EOR COLRSH;ATTRACT COLORS THAT ARE
   392 48A9 25 4E		 AND DRKMSK;SWITCHED WITH DLI'S
   393 48AB 95 5E		 STA ACOLR1,X
   394 48AD CA			 DEX
   395 48AE 10 F4		 BPL LOOPLP
   396 48B0 A5 19		 LDA OPTION
   397 48B2 D0 29		 BNE PCTRIG
   398 48B4 AD F1 02		 LDA KEYDEL
   399 48B7 D0 18		 BNE IGNORK
   400 48B9 AD FC 02		 LDA CH;    TEST FOR SPACE BAR PAUSE
   401 48BC C9 21		 CMP #$21
   402 48BE D0 11		 BNE IGNORK
   403 48C0 A5 9B		 LDA PAUSEF
   404 48C2 F0 04		 BEQ FLIPON
   405 48C4 A9 00		 LDA #0
   406 48C6 F0 02		 BEQ STFLIP
   407 48C8 A9 01		FLIPON LDA #1
   408 48CA 85 9B		STFLIP STA PAUSEF
   409 48CC A9 FF		NOFLIP LDA #$FF
   410 48CE 8D FC 02		 STA CH
   411 48D1 A5 20		IGNORK LDA GMOVRF
   412 48D3 F0 17		 BEQ GAMCNS
   413 48D5 A5 1E		 LDA ATTIMR;IF GAME OVER, TIME OUT
   414 48D7 D0 04		 BNE PCTRIG;AND GO TO OPTION SCREEN
   415 48D9 A9 04		 LDA #4
   416 48DB D0 6C		 BNE PCEXT1
   417 48DD A9 FF		PCTRIG LDA #$FF
   418 48DF 8D FC 02		 STA CH
   419 48E2 AD 84 02		 LDA STRIG0
   420 48E5 F0 45		 BEQ CSTART
   421 48E7 AD 85 02		 LDA STRIG1;TEST TRIGGER START
   422 48EA F0 40		 BEQ CSTART
   423 48EC AD 1F D0		GAMCNS LDA CONSOL
   424 48EF C9 07		 CMP #7;    NO BUTTONS PRESSED
   425 48F1 F0 A1		 BEQ LOOP
   426 48F3 85 46		CNSSWT STA SAVCNS
   427 48F5 A2 01		 LDX #BDELAY
   428 48F7 86 45		 STX BCOUNT
   429 48F9 0D 1F D0		CLOOP1 ORA CONSOL
   430 48FC A6 45		 LDX BCOUNT;DEBOUNCE LOGIC
   431 48FE D0 F9		 BNE CLOOP1
   432 4900 C5 46		 CMP SAVCNS
   433 4902 D0 E8		 BNE GAMCNS
   434 4904 CD 1F D0		CLOOP2 CMP CONSOL
   435 4907 F0 FB		 BEQ CLOOP2
   436 4909 A5 46		 LDA SAVCNS
   437 490B C9 06		 CMP #6
   438 490D F0 1D		 BEQ CSTART
   439 490F A6 1F		 LDX ATSEQU
   440 4911 F0 08		 BEQ CPROPT
   441 4913 A9 00		 LDA #0
   442 4915 85 1F		 STA ATSEQU
   443 4917 A9 04		 LDA #4
   444 4919 D0 2E		 BNE PCEXT1
   445 491B A6 19		CPROPT LDX OPTION;IF OPTION SCREEN
   446 491D E0 03		 CPX #3;         THEN CHANGE PARAMS
   447 491F 90 26		 BCC PCEXIT
   448 4921 C9 03		PRESSW CMP #3
   449 4923 F0 2F		 BEQ COPTON
   450 4925 C9 05		 CMP #5
   451 4927 F0 12		 BEQ CSELEC
   452 4929 4C 94 48		 JMP LOOP
   453 492C A9 00		CSTART LDA #0
   454 492E 85 20		 STA GMOVRF;START FUNCTION-NEW GAME
   455 4930 85 19		 STA OPTION
   456 4932 85 1F		 STA ATSEQU
   457 4934 A9 01		 LDA #1
   458 4936 85 1C		 STA RSTRTF
   459 4938 4C 3E 48		 JMP REINIT
   460 493B A5 1A		CSELEC LDA NUMPLY
   461 493D D0 04		 BNE PCNSE1;PROCESS SELECT CHANGES
   462 493F A9 01		 LDA #1
   463 4941 D0 02		 BNE PCNSE2
   464 4943 A9 00		PCNSE1 LDA #0
   465 4945 85 1A		PCNSE2 STA NUMPLY
   466 4947 A9 03		PCEXIT LDA #3
   467 4949 85 19		PCEXT1 STA OPTION
   468 494B 85 4D		 STA ATRACT
   469 494D A9 07		 LDA #7
   470 494F 85 1D		 STA ATCLOK
   471 4951 4C 94 48		 JMP LOOP
   472 4954 A5 1B		COPTON LDA DIFOPT
   473 4956 C9 02		 CMP #2
   474 4958 B0 04		 BCS PCNOP1;PROCESS OPTION CHANGES
   475 495A E6 1B		 INC DIFOPT
   476 495C D0 E9		 BNE PCEXIT
   477 495E C9 0C		PCNOP1 CMP #$0C
   478 4960 F0 06		 BEQ PCNOP2
   479 4962 E6 1B		 INC DIFOPT
   480 4964 E6 1B		 INC DIFOPT
   481 4966 D0 DF		 BNE PCEXIT
   482 4968 A9 00		PCNOP2 LDA #0
   483 496A 85 1B		 STA DIFOPT
   484 496C F0 D9		 BEQ PCEXIT
   485 				;
   486 				; DISPLAY LIST INTERRUPT VECTOR
   487 				;
   488 496E 48			DLIV PHA
   489 496F 8A			 TXA
   490 4970 48			 PHA
   491 4971 A6 18		 LDX DLICNT;DLI COUNT
   492 4973 D0 0A		 BNE DLI2ND
   493 4975 A9 40		 LDA #>PACCHR
   494 4977 8D 0A D4		 STA WSYNC
   495 497A 8D 09 D4		 STA CHBASE
   496 497D D0 53		 BNE DLIXIT
   497 497F E0 01		DLI2ND CPX #1
   498 4981 D0 0F		 BNE DLI3RD
   499 4983 A5 61		 LDA ACOLR4;-$DA PLAYER 1-2 MSG
   500 4985 A6 5E		 LDX ACOLR1;-$3A LT ORANGE COLOR
   501 4987 8D 0A D4		 STA WSYNC
   502 498A 8D 17 D0		 STA COLPF1
   503 498D 8E 18 D0		 STX COLPF2
   504 4990 D0 40		 BNE DLIXIT
   505 4992 E0 02		DLI3RD CPX #2
   506 4994 D0 0E		 BNE DLI4TH
   507 4996 A5 A0		 LDA FRUCLR; FRUIT COLOR
   508 4998 45 4F		 EOR COLRSH
   509 499A 25 4E		 AND DRKMSK
   510 499C 8D 0A D4		 STA WSYNC
   511 499F 8D 17 D0		 STA COLPF1
   512 49A2 D0 2E		 BNE DLIXIT
   513 49A4 E0 03		DLI4TH CPX #3
   514 49A6 D0 0A		 BNE DLI5TH
   515 49A8 A5 5F		 LDA ACOLR2
   516 49AA 8D 0A D4		 STA WSYNC
   517 49AD 8D 17 D0		 STA COLPF1
   518 49B0 D0 20		 BNE DLIXIT
   519 49B2 E0 04		DLI5TH CPX #4
   520 49B4 D0 0F		 BNE LSTDLI
   521 49B6 A5 60		 LDA ACOLR3;YELLOW COLOR
   522 49B8 A6 61		 LDX ACOLR4
   523 49BA 8D 0A D4		 STA WSYNC
   524 49BD 8E 16 D0		 STX COLPF0
   525 49C0 8D 19 D0		 STA COLPF3
   526 49C3 D0 0D		 BNE DLIXIT
   527 49C5 A2 03		LSTDLI LDX #3
   528 49C7 A9 00		 LDA #0
   529 49C9 9D 12 D0		DLICLP STA COLPM0,X
   530 49CC CA			 DEX
   531 49CD 10 FA		 BPL DLICLP
   532 49CF 8D 19 D0		 STA COLPF3
   533 49D2 E6 18		DLIXIT INC DLICNT
   534 49D4 68			 PLA
   535 49D5 AA			 TAX
   536 49D6 68			 PLA
   537 49D7 40			 RTI
   538 				;
   539 				; DLI VECTOR FOR OPT & TITLE SCREENS
   540 				;
   541 49D8 48			OPDLIV PHA
   542 49D9 8A			 TXA
   543 49DA 48			 PHA
   544 49DB 98			 TYA
   545 49DC 48			 PHA
   546 49DD A6 18		 LDX DLICNT
   547 49DF D0 15		 BNE OPDLI1
   548 49E1 A4 5F		 LDY ACOLR2
   549 49E3 A5 5E		 LDA ACOLR1
   550 49E5 A2 20		 LDX #>OPTCHR
   551 49E7 8D 0A D4		 STA WSYNC
   552 49EA 8E 09 D4		 STX CHBASE
   553 49ED 8D 18 D0		 STA COLPF2
   554 49F0 8C 17 D0		 STY COLPF1
   555 49F3 4C FF 49		 JMP OPDLIX
   556 49F6 BD A0 68		OPDLI1 LDA OCINDX,X
   557 49F9 8D 0A D4		 STA WSYNC
   558 49FC 8D 09 D4		 STA CHBASE
   559 49FF E6 18		OPDLIX INC DLICNT
   560 4A01 68			 PLA
   561 4A02 A8			 TAY
   562 4A03 68			 PLA
   563 4A04 AA			 TAX
   564 4A05 68			 PLA
   565 4A06 40			 RTI
   566 				;
   567 				; VERTICAL BLANK INTERRUPT VECTOR
   568 				;
   569 4A07 A9 00		VBLANK LDA #0
   570 4A09 85 18		 STA DLICNT
   571 4A0B C6 45		 DEC BCOUNT
   572 4A0D 20 87 4A		 JSR VBSUBS
   573 4A10 A5 1F		 LDA ATSEQU
   574 4A12 D0 07		 BNE VBEXIT
   575 4A14 A5 E5		 LDA VFREEZ
   576 4A16 D0 03		 BNE VBEXIT
   577 4A18 20 B7 52		 JSR TUNNEL
   578 4A1B 4C 62 E4		VBEXIT JMP XITVBV; EXIT VECTOR
   579 				;
   580 4A1E A9 00		OPTTTL LDA #0
   581 4A20 A2 07		 LDX #7
   582 4A22 9D 00 D0		CHRDWR STA HPOSP0,X
   583 4A25 9D 00 D2		 STA AUDF1,X
   584 4A28 CA			 DEX
   585 4A29 10 F7		 BPL CHRDWR
   586 4A2B A9 30		 LDA #<ODLIST
   587 4A2D 8D 30 02		 STA SDLSTL
   588 4A30 8D 02 D4		 STA DLISTL
   589 4A33 A9 47		 LDA #>ODLIST
   590 4A35 8D 31 02		 STA SDLSTH
   591 4A38 8D 03 D4		 STA DLISTH
   592 4A3B A9 D8		 LDA #<OPDLIV
   593 4A3D 8D 00 02		 STA VDSLST
   594 4A40 A9 49		 LDA #>OPDLIV
   595 4A42 8D 01 02		 STA VDSLST+1
   596 4A45 A0 03		OCOLRS LDY #3
   597 4A47 B9 2D 67		OCLRLP LDA OCOLOR,Y
   598 4A4A 99 C4 02		 STA COLOR0,Y
   599 4A4D 88			 DEY
   600 4A4E 10 F7		 BPL OCLRLP
   601 4A50 60			INITAD RTS
   602 				;
   603 4A51 A2 06		SET1PL LDX #6
   604 4A53 A9 00		 LDA #0
   605 4A55 9D 20 28		S1PLL1 STA TEXT+$20,X
   606 4A58 9D 47 28		 STA TEXT+$47,X
   607 4A5B 9D 2A 28		 STA TEXT+$2A,X
   608 4A5E CA			 DEX
   609 4A5F 10 F4		 BPL S1PLL1
   610 4A61 20 3F 55		SETXPL JSR FLS1ON
   611 4A64 A9 10		 LDA #$10
   612 4A66 8D 2E 28		 STA TEXT+$2E
   613 4A69 8D 2F 28		 STA TEXT+$2F
   614 4A6C 60			 RTS
   615 				;
   616 4A6D A2 06		SET2PL LDX #6
   617 4A6F A9 00		 LDA #0
   618 4A71 9D 2A 28		S2PLL1 STA TEXT+$2A,X
   619 4A74 9D 47 28		 STA TEXT+$47,X
   620 4A77 CA			 DEX
   621 4A78 10 F7		 BPL S2PLL1
   622 4A7A 20 27 55		 JSR FLS2ON
   623 4A7D A9 10		 LDA #$10
   624 4A7F 8D 4B 28		 STA TEXT+$4B
   625 4A82 8D 4C 28		 STA TEXT+$4C
   626 4A85 D0 DA		 BNE SETXPL
   627
   628 				;
   629 				; EJECT
   630 4A87			  ICL "PAC1.ASM"
Source: D:\!Delphi\mads\examples\pacman\PAC1.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;
     4 4A87 A5 1F		VBSUBS LDA ATSEQU
     5 4A89 D0 03		 BNE VBATTR
     6 4A8B 4C 72 4B		 JMP CKOPTS
     7 4A8E C9 01		VBATTR CMP #1
     8 4A90 D0 29		 BNE CKATS2
     9 4A92 A2 00		 LDX #0
    10 4A94 8A			 TXA
    11 4A95 9D 50 24		CLRAOP STA OPTSCN+$50,X
    12 4A98 9D 50 25		 STA OPTSCN+$150,X
    13 4A9B CA			 DEX
    14 4A9C D0 F7		 BNE CLRAOP
    15 4A9E A2 0F		 LDX #$0F
    16 4AA0 BD 08 69		BPMLP1 LDA BPMSG1,X
    17 4AA3 9D 1A 25		 STA OPTSCN+$11A,X
    18 4AA6 CA			 DEX
    19 4AA7 10 F7		 BPL BPMLP1
    20 4AA9 A2 11		 LDX #$11
    21 4AAB BD 18 69		BPMLP2 LDA BPMSG2,X
    22 4AAE 9D 41 25		 STA OPTSCN+$141,X
    23 4AB1 CA			 DEX
    24 4AB2 10 F7		 BPL BPMLP2
    25 4AB4 A9 FF		 LDA #$FF
    26 4AB6 85 1E		 STA ATTIMR
    27 4AB8 E6 1F		 INC ATSEQU
    28 4ABA 60			 RTS
    29 4ABB C9 02		CKATS2 CMP #2
    30 4ABD D0 1B		 BNE CKATS3
    31 4ABF A5 1E		 LDA ATTIMR
    32 4AC1 F0 03		 BEQ CAS2ER
    33 4AC3 4C 6F 4B		 JMP DECATM
    34 4AC6 A9 00		CAS2ER LDA #0
    35 4AC8 A2 11		 LDX #$11
    36 4ACA 9D 19 25		C2ERLP STA OPTSCN+$119,X
    37 4ACD 9D 41 25		 STA OPTSCN+$141,X
    38 4AD0 CA			 DEX
    39 4AD1 10 F7		 BPL C2ERLP
    40 4AD3 A9 7F		 LDA #$7F
    41 4AD5 85 1E		 STA ATTIMR
    42 4AD7 E6 1F		 INC ATSEQU
    43 4AD9 60			 RTS
    44 4ADA C9 03		CKATS3 CMP #3
    45 4ADC D0 16		 BNE CKATS4
    46 4ADE A5 1E		 LDA ATTIMR
    47 4AE0 F0 03		 BEQ CS3SCN
    48 4AE2 4C 6F 4B		 JMP DECATM
    49 4AE5 A2 00		CS3SCN LDX #0
    50 4AE7 8A			 TXA
    51 4AE8 9D 00 30		CLRASC STA PATSCN,X
    52 4AEB 9D 00 31		 STA PATSCN+$100,X
    53 4AEE E8			 INX
    54 4AEF D0 F7		 BNE CLRASC
    55 4AF1 E6 1F		 INC ATSEQU
    56 4AF3 60			 RTS
    57 4AF4 C9 04		CKATS4 CMP #4
    58 4AF6 D0 2C		 BNE CKATS5
    59 4AF8 A9 75		 LDA #<ADLIST
    60 4AFA 8D 30 02		 STA SDLSTL
    61 4AFD 8D 02 D4		 STA DLISTL
    62 4B00 A9 47		 LDA #>ADLIST
    63 4B02 8D 31 02		 STA SDLSTH
    64 4B05 8D 03 D4		 STA DLISTH
    65 4B08 A9 C0		 LDA #<ADLIV
    66 4B0A 8D 00 02		 STA VDSLST
    67 4B0D A9 4F		 LDA #>ADLIV
    68 4B0F 8D 01 02		 STA VDSLST+1
    69 4B12 A2 07		 LDX #7
    70 4B14 BD 05 6C		SETACL LDA ACOLRS,X
    71 4B17 9D C0 02		 STA PCOLR0,X
    72 4B1A CA			 DEX
    73 4B1B 10 F7		 BPL SETACL
    74 4B1D A9 7F		 LDA #$7F
    75 4B1F 85 1E		 STA ATTIMR
    76 4B21 E6 1F		 INC ATSEQU
    77 4B23 60			 RTS
    78 4B24 C9 05		CKATS5 CMP #5
    79 4B26 D0 15		 BNE CKATS6
    80 4B28 A5 1E		 LDA ATTIMR
    81 4B2A F0 03		 BEQ C4NICK
    82 4B2C 4C 6F 4B		 JMP DECATM
    83 4B2F A2 13		C4NICK LDX #19
    84 4B31 BD 2D 6C		ASTART LDA CHNKTX,X
    85 4B34 9D 28 30		 STA PATSCN+$28,X
    86 4B37 CA			 DEX
    87 4B38 10 F7		 BPL ASTART
    88 4B3A E6 1F		 INC ATSEQU
    89 4B3C 60			 RTS
    90 4B3D C9 06		CKATS6 CMP #6
    91 4B3F D0 17		 BNE CKATSQ
    92 4B41 A2 00		 LDX #0
    93 4B43 8A			 TXA
    94 4B44 20 C1 58		 JSR INITPL
    95 4B47 A2 7F		 LDX #$7F
    96 4B49 95 80		INIAP0 STA $80,X
    97 4B4B CA			 DEX
    98 4B4C 10 FB		 BPL INIAP0
    99 4B4E 20 B5 4D		 JSR ATINIT
   100 4B51 E6 1F		 INC ATSEQU
   101 4B53 A9 30		 LDA #ADELAY
   102 4B55 85 1E		 STA ATTIMR
   103 4B57 60			 RTS
   104 4B58 A5 1F		CKATSQ LDA ATSEQU
   105 4B5A C9 16		 CMP #$16
   106 4B5C 90 03		 BCC CKATMR
   107 4B5E 4C A0 4E		 JMP SEQATM
   108 4B61 A5 1E		CKATMR LDA ATTIMR
   109 4B63 D0 0A		 BNE DECATM
   110 4B65 20 DF 4D		 JSR SEQATR
   111 4B68 E6 1F		 INC ATSEQU
   112 4B6A A9 30		 LDA #ADELAY
   113 4B6C 85 1E		 STA ATTIMR
   114 4B6E 60			 RTS
   115 4B6F C6 1E		DECATM DEC ATTIMR
   116 4B71 60			 RTS
   117 				;
   118 4B72 A4 19		CKOPTS LDY OPTION
   119 4B74 D0 03		 BNE TSTOPT
   120 4B76 4C 4F 4C		 JMP VBGAME
   121 4B79 C0 01		TSTOPT CPY #1
   122 4B7B D0 36		 BNE VBOPT2
   123 				;
   124 				; BUILD TITLE SCREEN
   125 				;
   126 4B7D 20 1E 4A		 JSR OPTTTL
   127 4B80 A2 00		 LDX #0
   128 4B82 8A			 TXA
   129 4B83 9D 00 24		OPSCCL STA OPTSCN,X
   130 4B86 9D 00 25		 STA OPTSCN+$100,X
   131 4B89 9D 00 17		 STA PACMAZ+$300,X
   132 4B8C CA			 DEX
   133 4B8D D0 F4		 BNE OPSCCL
   134 4B8F 8D C5 02		 STA COLOR1
   135 4B92 A2 0D		 LDX #$0D
   136 4B94 BD FA 68		PLOGOL LDA OALOGO,X
   137 4B97 9D 57 25		 STA OPTSCN+$157,X
   138 4B9A CA			 DEX
   139 4B9B 10 F7		 BPL PLOGOL
   140 4B9D E8			 INX
   141 4B9E 8A			PTTLLP TXA
   142 4B9F 18			 CLC
   143 4BA0 69 C1		 ADC #$C1
   144 4BA2 9D 18 24		 STA OPTSCN+$18,X
   145 4BA5 8A			 TXA
   146 4BA6 69 CD		 ADC #$CD
   147 4BA8 9D 2C 24		 STA OPTSCN+$2C,X
   148 4BAB E8			 INX
   149 4BAC E0 0C		 CPX #$0C
   150 4BAE D0 EE		 BNE PTTLLP
   151 4BB0 E6 19		VBOP1I INC OPTION
   152 4BB2 60			VBOP1X RTS
   153 				;
   154 				; TIME OUT TITLE SCREEN
   155 				;
   156 4BB3 C0 02		VBOPT2 CPY #2
   157 4BB5 D0 0C		 BNE VBOPT3
   158 4BB7 A5 1D		 LDA ATCLOK
   159 4BB9 C5 14		 CMP RTCLOK+2
   160 4BBB D0 F5		 BNE VBOP1X
   161 4BBD A9 07		 LDA #7
   162 4BBF 85 1D		 STA ATCLOK
   163 4BC1 D0 ED		 BNE VBOP1I
   164 				;
   165 				; BUILD OPTION SCREEN
   166 				;
   167 4BC3 A5 14		VBOPT3 LDA RTCLOK+2
   168 4BC5 D0 08		 BNE OPTSCR
   169 4BC7 C6 1D		 DEC ATCLOK
   170 4BC9 D0 04		 BNE OPTSCR
   171 4BCB A9 01		 LDA #1
   172 4BCD 85 1F		 STA ATSEQU
   173 4BCF A9 00		OPTSCR LDA #0
   174 4BD1 A2 11		 LDX #$11
   175 4BD3 9D 19 25		OPTCL2 STA OPTSCN+$119,X
   176 4BD6 9D 41 25		 STA OPTSCN+$141,X
   177 4BD9 CA			 DEX
   178 4BDA 10 F7		 BPL OPTCL2
   179 4BDC A6 1A		 LDX NUMPLY
   180 4BDE E8			 INX
   181 4BDF 8A			 TXA
   182 4BE0 09 50		 ORA #$50
   183 4BE2 8D 54 24		 STA OPTSCN+$54
   184 4BE5 A5 1A		 LDA NUMPLY
   185 4BE7 D0 0B		 BNE PMOPT3
   186 4BE9 C0 03		 CPY #3
   187 4BEB D0 03		 BNE SAME1P
   188 4BED 20 51 4A		 JSR SET1PL
   189 4BF0 A9 12		SAME1P LDA #$12
   190 4BF2 D0 09		 BNE PMOPT4
   191 4BF4 C0 03		PMOPT3 CPY #3
   192 4BF6 D0 03		 BNE SAME2P
   193 4BF8 20 6D 4A		 JSR SET2PL
   194 4BFB A9 11		SAME2P LDA #$11
   195 4BFD 8D 90 24		PMOPT4 STA OPTSCN+$90
   196 4C00 A2 0A		 LDX #$0A
   197 4C02 BD A5 68		PMO4LP LDA OPLGAM,X
   198 4C05 9D 92 24		 STA OPTSCN+$92,X
   199 4C08 09 40		 ORA #$40
   200 4C0A 9D 56 24		 STA OPTSCN+$56,X
   201 4C0D CA			 DEX
   202 4C0E 10 F2		 BPL PMO4LP
   203 4C10 20 1E 4A		 JSR OPTTTL
   204 4C13 A2 0F		 LDX #$0F
   205 4C15 BD B0 68		PMO5LP LDA OPRSEL,X
   206 4C18 9D 7A 24		 STA OPTSCN+$7A,X
   207 4C1B BD C0 68		 LDA OPROP1,X
   208 4C1E 9D F2 24		 STA OPTSCN+$F2,X
   209 4C21 BD E1 68		 LDA OPRST1,X
   210 4C24 9D 56 25		 STA OPTSCN+$156,X
   211 4C27 CA			 DEX
   212 4C28 10 EB		 BPL PMO5LP
   213 4C2A A6 1B		 LDX DIFOPT
   214 4C2C BD 2A 69		 LDA OPTFRT,X
   215 4C2F 8D C6 24		 STA OPTSCN+$C6
   216 4C32 18			 CLC
   217 4C33 69 01		 ADC #1
   218 4C35 8D C7 24		 STA OPTSCN+$C7
   219 4C38 A2 10		 LDX #$10
   220 4C3A BD D0 68		PMO7LP LDA OPROP2,X
   221 4C3D 9D 05 25		 STA OPTSCN+$105,X
   222 4C40 CA			 DEX
   223 4C41 10 F7		 BPL PMO7LP
   224 4C43 A2 08		 LDX #8
   225 4C45 BD F1 68		PMO9LP LDA OPRST2,X
   226 4C48 9D 6D 25		 STA OPTSCN+$16D,X
   227 4C4B CA			 DEX
   228 4C4C 10 F7		 BPL PMO9LP
   229 4C4E 60			 RTS
   230 				;
   231 4C4F A5 1E		VBGAME LDA ATTIMR
   232 4C51 F0 08		 BEQ VBGAM1
   233 4C53 A5 14		 LDA RTCLOK+2
   234 4C55 29 07		 AND #7
   235 4C57 D0 02		 BNE VBGAM1
   236 4C59 C6 1E		 DEC ATTIMR
   237 4C5B A5 9B		VBGAM1 LDA PAUSEF
   238 4C5D F0 03		 BEQ VBGAM2
   239 4C5F 4C 86 58		 JMP CLRAUD
   240 4C62 20 09 55		VBGAM2 JSR FLSHXU
   241 4C65 A5 1C		 LDA RSTRTF
   242 4C67 F0 04		 BEQ TSTGMO
   243 4C69 C9 02		 CMP #2
   244 4C6B F0 1E		 BEQ VTUNES
   245 4C6D A5 20		TSTGMO LDA GMOVRF
   246 4C6F F0 0A		 BEQ TSTRRK
   247 4C71 A5 1A		 LDA NUMPLY
   248 4C73 F0 03		 BEQ VFLS1O
   249 4C75 20 27 55		 JSR FLS2ON
   250 4C78 4C 3F 55		VFLS1O JMP FLS1ON
   251 4C7B A5 26		TSTRRK LDA RRFLAG
   252 4C7D F0 03		 BEQ TSTVRD
   253 4C7F 4C 87 53		 JMP RERACK
   254 4C82 A5 21		TSTVRD LDA READYF
   255 4C84 D0 42		 BNE VREADY
   256 4C86 A5 22		 LDA INTROF
   257 4C88 D0 0C		 BNE VINTRO
   258 4C8A 60			VSQUIT RTS
   259 4C8B E6 22		VTUNES INC INTROF
   260 4C8D A9 00		 LDA #0
   261 4C8F 85 4D		 STA ATRACT
   262 4C91 85 1C		 STA RSTRTF
   263 4C93 4C 23 54		 JMP READY1
   264 4C96 A5 14		VINTRO LDA RTCLOK+2
   265 4C98 29 03		 AND #3
   266 4C9A D0 EE		 BNE VSQUIT
   267 4C9C A6 A3		VSONGS LDX NOTCNT
   268 4C9E E0 40		 CPX #$40
   269 4CA0 F0 1F		 BEQ VSTART
   270 4CA2 BD 93 67		 LDA HINOT1,X
   271 4CA5 8D 00 D2		 STA AUDF1
   272 4CA8 BD D3 67		 LDA LONOT1,X
   273 4CAB 8D 02 D2		 STA AUDF2
   274 4CAE A9 A8		 LDA #$A8
   275 4CB0 8D 01 D2		 STA AUDC1
   276 4CB3 A9 A4		 LDA #$A4
   277 4CB5 8D 03 D2		 STA AUDC2
   278 4CB8 E6 A3		 INC NOTCNT
   279 4CBA E0 28		 CPX #$28
   280 4CBC D0 CC		 BNE VSQUIT
   281 4CBE 4C A1 54		 JMP READY2
   282 4CC1 E6 21		VSTART INC READYF
   283 4CC3 E6 CE		VSTRT1 INC M1STAT
   284 4CC5 20 FB 54		 JSR READY3
   285 4CC8 A5 24		VREADY LDA RESETF
   286 4CCA F0 23		 BEQ VCONTN
   287 4CCC C9 01		 CMP #1
   288 4CCE D0 12		 BNE RESET2
   289 4CD0 20 87 51		 JSR VRESET
   290 4CD3 A5 23		 LDA SWAPPF
   291 4CD5 D0 B3		 BNE VSQUIT
   292 4CD7 A5 20		VRSTGM LDA GMOVRF
   293 4CD9 D0 AF		 BNE VSQUIT
   294 4CDB E6 24		CRESET INC RESETF
   295 4CDD A9 40		 LDA #$40
   296 4CDF 85 25		 STA RESETT
   297 4CE1 60			CRESTX RTS
   298 				;
   299 4CE2 A5 25		RESET2 LDA RESETT
   300 4CE4 F0 03		 BEQ VSTRT2
   301 4CE6 C6 25		 DEC RESETT
   302 4CE8 60			VGONE1 RTS
   303 4CE9 A9 00		VSTRT2 LDA #0
   304 4CEB 85 24		 STA RESETF
   305 4CED F0 D4		 BEQ VSTRT1
   306 4CEF 20 29 5D		VCONTN JSR BLINKR
   307 4CF2 A5 ED		 LDA VFIZST
   308 4CF4 F0 06		 BEQ VPLAYR
   309 4CF6 20 DD 55		 JSR VFIZZL
   310 4CF9 4C 97 56		 JMP FIZZIE
   311 4CFC 20 78 5E		VPLAYR JSR EYONLY
   312 4CFF A5 E5		 LDA VFREEZ
   313 4D01 F0 03		 BEQ VFRUIT
   314 4D03 4C E9 57		 JMP VGULPR
   315 4D06 20 08 5E		VFRUIT JSR FRUITY
   316 4D09 20 79 5B		 JSR DOTTST
   317 4D0C A5 26		 LDA RRFLAG
   318 4D0E D0 0C		 BNE VPLYUD
   319 4D10 20 37 50		VCOLLS JSR COLCHK
   320 4D13 A5 E5		 LDA VFREEZ
   321 4D15 D0 04		 BNE VGONE2
   322 4D17 A5 ED		 LDA VFIZST
   323 4D19 F0 01		 BEQ VPLYUD
   324 4D1B 60			VGONE2 RTS
   325 4D1C 20 F4 56		VPLYUD JSR FLITEC
   326 4D1F A5 E5		 LDA VFREEZ
   327 4D21 D0 F8		 BNE VGONE2
   328 4D23 20 5C 58		 JSR VEATER
   329 4D26 20 38 53		 JSR GOBBLE
   330 4D29 20 74 53		 JSR SKIRTS
   331 				;
   332 				; SPEED OF PACMAN
   333 				;
   334 4D2C A5 A8		SPDPAC LDA PACADV
   335 4D2E F0 04		 BEQ PACREG
   336 4D30 A9 00		 LDA #0
   337 4D32 F0 09		 BEQ SPDPC1
   338 4D34 A5 A9		PACREG LDA PACDLY
   339 4D36 D0 05		 BNE SPDPC1
   340 4D38 A2 04		 LDX #4
   341 4D3A 20 6A 5D		 JSR SPDSEQ
   342 4D3D 85 A7		SPDPC1 STA PACCNT
   343 4D3F A9 00		 LDA #0
   344 4D41 85 A8		 STA PACADV
   345 4D43 20 3A 59		 JSR PMSTIK
   346 4D46 A9 00		 LDA #0
   347 4D48 85 A9		 STA PACDLY
   348 4D4A 20 14 5B		 JSR MUNCHY
   349 4D4D A5 14		 LDA RTCLOK+2
   350 4D4F 29 03		 AND #$03
   351 4D51 D0 03		 BNE UDMONS
   352 4D53 20 7F 5F		 JSR STRTMN
   353 4D56 20 A1 5D		UDMONS JSR CHSSEQ
   354 4D59 A5 A8		 LDA PACADV
   355 4D5B D0 57		 BNE VSUBSX
   356 4D5D A2 03		 LDX #3
   357 				;
   358 				; SPEED HANDLER FOR MONSTERS
   359 				;
   360 				; X REG = 0-3 FOR MONSTERS 1-4
   361 				;
   362 4D5F B5 CE		SPDMON LDA M1STAT,X
   363 4D61 29 7F		 AND #$7F
   364 4D63 F0 4C		 BEQ NXMSPD
   365 4D65 A5 14		 LDA RTCLOK+2
   366 4D67 29 07		 AND #7
   367 4D69 D0 06		 BNE SPMOK1
   368 4D6B B5 CA		 LDA M1TIMR,X
   369 4D6D F0 02		 BEQ SPMOK1
   370 4D6F D6 CA		 DEC M1TIMR,X
   371 4D71 B5 CE		SPMOK1 LDA M1STAT,X
   372 4D73 29 3F		 AND #$3F
   373 4D75 F0 3A		 BEQ NXMSPD
   374 4D77 B5 CE		SPMOK2 LDA M1STAT,X
   375 4D79 0A			 ASL
   376 4D7A 30 35		 BMI NXMSPD
   377 4D7C B5 85		SPMOK3 LDA M1VPOS,X
   378 4D7E C9 74		 CMP #$74
   379 4D80 D0 0A		 BNE SPDBLU
   380 4D82 B5 8A		 LDA M1HPOS,X
   381 4D84 C9 A7		 CMP #$A7
   382 4D86 B0 08		 BCS SPDSLO
   383 4D88 C9 52		 CMP #$52
   384 4D8A 90 04		 BCC SPDSLO
   385 4D8C B5 CE		SPDBLU LDA M1STAT,X
   386 4D8E 10 17		 BPL SPDREG
   387 4D90 20 6A 5D		SPDSLO JSR SPDSEQ
   388 4D93 C9 00		 CMP #0
   389 4D95 D0 1A		 BNE NXMSPD
   390 4D97 B4 5A		 LDY M1DELY,X
   391 4D99 C0 01		 CPY #1
   392 4D9B D0 04		 BNE MONDLA
   393 4D9D 95 5A		 STA M1DELY,X
   394 4D9F F0 0D		 BEQ SPDUPD
   395 4DA1 A9 01		MONDLA LDA #1
   396 4DA3 95 5A		 STA M1DELY,X
   397 4DA5 D0 0A		 BNE NXMSPD
   398 4DA7 20 6A 5D		SPDREG JSR SPDSEQ
   399 4DAA C9 00		 CMP #0
   400 4DAC D0 03		 BNE NXMSPD
   401 4DAE 20 CF 5F		SPDUPD JSR MONSTR
   402 4DB1 CA			NXMSPD DEX
   403 4DB2 10 AB		 BPL SPDMON
   404 4DB4 60			VSUBSX RTS
   405 				;
   406 				; ***** PACMAN ATTRACT MODE *****
   407 				;
   408 4DB5 A9 11		ATINIT LDA #$11
   409 4DB7 8D 6F 02		 STA GPRIOR
   410 4DBA A9 E0		 LDA #$E0
   411 4DBC 85 8E		 STA PMHPOS
   412 4DBE A9 EC		 LDA #$EC
   413 4DC0 85 8A		 STA M1HPOS
   414 4DC2 A9 F5		 LDA #$F5
   415 4DC4 85 8B		 STA M2HPOS
   416 4DC6 A9 FE		 LDA #$FE
   417 4DC8 85 8C		 STA M3HPOS
   418 4DCA A9 07		 LDA #$07
   419 4DCC 85 8D		 STA M4HPOS
   420 4DCE A9 8C		 LDA #$8C
   421 4DD0 85 89		 STA PMVPOS
   422 4DD2 85 85		 STA M1VPOS
   423 4DD4 85 86		 STA M2VPOS
   424 4DD6 85 87		 STA M3VPOS
   425 4DD8 85 88		 STA M4VPOS
   426 4DDA A9 2A		 LDA #$2A
   427 4DDC 85 40		 STA PACCLR
   428 4DDE 60			 RTS
   429 				;
   430 				;
   431 				; SEQUENCINC OF ATTRACT DISPLAY
   432 				;
   433 4DDF A5 1F		SEQATR LDA ATSEQU
   434 4DE1 C9 07		 CMP #7
   435 4DE3 D0 0B		 BNE ATSEQ8
   436 4DE5 A9 05		 LDA #$05
   437 4DE7 8D 3D 30		 STA PATSCN+61
   438 4DEA A9 06		 LDA #$06
   439 4DEC 8D 51 30		 STA PATSCN+81
   440 4DEF 60			 RTS
   441 				;
   442 4DF0 C9 08		ATSEQ8 CMP #8
   443 4DF2 D0 07		 BNE ATSEQ9
   444 4DF4 A2 00		 LDX #0
   445 4DF6 A0 50		 LDY #80
   446 4DF8 4C 99 4F		 JMP ATSHOW
   447 4DFB C9 09		ATSEQ9 CMP #9
   448 4DFD D0 07		 BNE ATSEQA
   449 4DFF A2 0A		 LDX #10
   450 4E01 A0 5A		 LDY #90
   451 4E03 4C 99 4F		 JMP ATSHOW
   452 4E06 C9 0A		ATSEQA CMP #$0A
   453 4E08 D0 0B		 BNE ATSEQB
   454 4E0A A9 45		 LDA #$45
   455 4E0C 8D 65 30		 STA PATSCN+101
   456 4E0F A9 46		 LDA #$46
   457 4E11 8D 79 30		 STA PATSCN+121
   458 4E14 60			 RTS
   459 4E15 C9 0B		ATSEQB CMP #$0B
   460 4E17 D0 07		 BNE ATSEQC
   461 4E19 A2 14		 LDX #20
   462 4E1B A0 78		 LDY #120
   463 4E1D 4C 99 4F		 JMP ATSHOW
   464 4E20 C9 0C		ATSEQC CMP #$0C
   465 4E22 D0 07		 BNE ATSEQD
   466 4E24 A2 1E		 LDX #30
   467 4E26 A0 82		 LDY #130
   468 4E28 4C 99 4F		 JMP ATSHOW
   469 4E2B C9 0D		ATSEQD CMP #$0D
   470 4E2D D0 0B		 BNE ATSEQE
   471 4E2F A9 85		 LDA #$85
   472 4E31 8D 8D 30		 STA PATSCN+141
   473 4E34 A9 86		 LDA #$86
   474 4E36 8D A1 30		 STA PATSCN+161
   475 4E39 60			 RTS
   476 4E3A C9 0E		ATSEQE CMP #$0E
   477 4E3C D0 07		 BNE ATSEQF
   478 4E3E A2 28		 LDX #40
   479 4E40 A0 A0		 LDY #160
   480 4E42 4C 99 4F		 JMP ATSHOW
   481 4E45 C9 0F		ATSEQF CMP #$0F
   482 4E47 D0 07		 BNE ATSQ10
   483 4E49 A2 32		 LDX #50
   484 4E4B A0 AA		 LDY #170
   485 4E4D 4C 99 4F		 JMP ATSHOW
   486 4E50 C9 10		ATSQ10 CMP #$10
   487 4E52 D0 0B		 BNE ATSQ11
   488 4E54 A9 C5		 LDA #$C5
   489 4E56 8D B5 30		 STA PATSCN+181
   490 4E59 A9 C6		 LDA #$C6
   491 4E5B 8D C9 30		 STA PATSCN+201
   492 4E5E 60			 RTS
   493 4E5F C9 11		ATSQ11 CMP #$11
   494 4E61 D0 07		 BNE ATSQ12
   495 4E63 A2 3C		 LDX #60
   496 4E65 A0 C8		 LDY #200
   497 4E67 4C 99 4F		 JMP ATSHOW
   498 4E6A C9 12		ATSQ12 CMP #$12
   499 4E6C D0 07		 BNE ATSQ13
   500 4E6E A2 46		 LDX #70
   501 4E70 A0 D2		 LDY #210
   502 4E72 4C 99 4F		 JMP ATSHOW
   503 4E75 C9 13		ATSQ13 CMP #$13
   504 4E77 D0 12		 BNE ATSQ14
   505 4E79 A2 07		 LDX #7
   506 4E7B BD 91 6C		ATSQDL LDA AM10PT,X
   507 4E7E 9D 45 31		 STA PATSCN+325,X
   508 4E81 BD 99 6C		 LDA AM50PT,X
   509 4E84 9D 6D 31		 STA PATSCN+365,X
   510 4E87 CA			 DEX
   511 4E88 10 F1		 BPL ATSQDL
   512 4E8A 60			 RTS
   513 4E8B C9 14		ATSQ14 CMP #$14
   514 4E8D D0 10		 BNE ATSEQX
   515 4E8F A9 84		 LDA #$84
   516 4E91 8D 05 31		 STA PATSCN+261
   517 4E94 A2 13		 LDX #19
   518 4E96 BD A1 6C		ACOPLP LDA COPMSG,X
   519 4E99 9D 90 31		 STA PATSCN+400,X
   520 4E9C CA			 DEX
   521 4E9D 10 F7		 BPL ACOPLP
   522 4E9F 60			ATSEQX RTS
   523 				;
   524 4EA0 20 AA 4F		SEQATM JSR FLS1DT
   525 4EA3 A5 1F		 LDA ATSEQU
   526 4EA5 C9 16		 CMP #$16
   527 4EA7 D0 5B		 BNE ATSQ17
   528 4EA9 A5 14		 LDA RTCLOK+2
   529 4EAB 29 0F		 AND #$0F
   530 4EAD D0 0A		 BNE ABNKON
   531 4EAF A9 00		 LDA #0
   532 4EB1 8D 05 31		 STA PATSCN+261
   533 4EB4 8D 6D 31		 STA PATSCN+365
   534 4EB7 F0 0C		 BEQ CHASEL
   535 4EB9 C9 08		ABNKON CMP #8
   536 4EBB D0 08		 BNE CHASEL
   537 4EBD A9 84		 LDA #$84
   538 4EBF 8D 05 31		 STA PATSCN+261
   539 4EC2 8D 6D 31		 STA PATSCN+365
   540 4EC5 20 74 53		CHASEL JSR SKIRTS
   541 4EC8 A5 14		 LDA RTCLOK+2
   542 4ECA 29 01		 AND #1
   543 4ECC D0 04		 BNE CHASL1
   544 4ECE A9 01		 LDA #1
   545 4ED0 D0 23		 BNE CHASL2
   546 4ED2 A5 8E		CHASL1 LDA PMHPOS
   547 4ED4 C9 48		 CMP #$48
   548 4ED6 F0 0A		 BEQ CHACLS
   549 4ED8 C9 70		 CMP #$70
   550 4EDA F0 06		 BEQ CHACLS
   551 4EDC C9 98		 CMP #$98
   552 4EDE F0 02		 BEQ CHACLS
   553 4EE0 D0 07		 BNE CHSLFT
   554 4EE2 A2 03		CHACLS LDX #3
   555 4EE4 D6 8A		CHSCLP DEC M1HPOS,X
   556 4EE6 CA			 DEX
   557 4EE7 10 FB		 BPL CHSCLP
   558 4EE9 A2 03		CHSLFT LDX #3
   559 4EEB A9 04		CHSLLP LDA #4
   560 4EED 20 DC 60		 JSR MONHND
   561 4EF0 CA			 DEX
   562 4EF1 10 F8		 BPL CHSLLP
   563 4EF3 A9 00		 LDA #0
   564 4EF5 85 A7		CHASL2 STA PACCNT
   565 4EF7 A5 8E		 LDA PMHPOS
   566 4EF9 C9 38		 CMP #$38
   567 4EFB F0 04		 BEQ STOPLF
   568 4EFD 20 4B 5A		 JSR PACLF
   569 4F00 60			 RTS
   570 4F01 E6 1F		STOPLF INC ATSEQU
   571 4F03 60			 RTS
   572 4F04 C9 17		ATSQ17 CMP #$17
   573 4F06 D0 2F		 BNE ATSQ18
   574 4F08 A9 80		 LDA #$80
   575 4F0A 85 CE		 STA M1STAT
   576 4F0C 85 CF		 STA M2STAT
   577 4F0E 85 D0		 STA M3STAT
   578 4F10 85 D1		 STA M4STAT
   579 4F12 A9 84		 LDA #$84
   580 4F14 8D C0 02		 STA PCOLR0
   581 4F17 8D C1 02		 STA PCOLR1
   582 4F1A 8D C2 02		 STA PCOLR2
   583 4F1D 8D C3 02		 STA PCOLR3
   584 4F20 A9 14		 LDA #$14
   585 4F22 8D 6F 02		 STA GPRIOR
   586 4F25 A9 FF		 LDA #$FF
   587 4F27 85 E9		 STA GLPCNT
   588 4F29 A9 00		 LDA #0
   589 4F2B 85 E5		 STA VFREEZ
   590 4F2D 8D 05 31		 STA PATSCN+261
   591 4F30 8D 1E D0		 STA HITCLR
   592 4F33 E6 1F		 INC ATSEQU
   593 4F35 A5 1F		 LDA ATSEQU
   594 4F37 C9 18		ATSQ18 CMP #$18
   595 4F39 D0 38		 BNE ATSQ19
   596 4F3B A5 E5		 LDA VFREEZ
   597 4F3D D0 0E		 BNE DECFRZ
   598 4F3F A6 E9		 LDX GLPCNT
   599 4F41 E0 03		 CPX #3
   600 4F43 F0 26		 BEQ ATDONE
   601 4F45 E8			 INX
   602 4F46 20 74 4F		 JSR CHASER
   603 4F49 20 37 50		 JSR COLCHK
   604 4F4C 60			 RTS
   605 4F4D A5 E7		DECFRZ LDA VGLPC2
   606 4F4F C9 30		 CMP #$30
   607 4F51 D0 15		 BNE DCGLPF
   608 4F53 A6 E8		 LDX GULPED
   609 4F55 A9 00		 LDA #0
   610 4F57 9D 00 D0		 STA HPOSP0,X
   611 4F5A 85 E5		 STA VFREEZ
   612 4F5C A9 2A		 LDA #$2A
   613 4F5E 85 40		 STA PACCLR
   614 4F60 38			 SEC
   615 4F61 A5 8E		 LDA PMHPOS
   616 4F63 E9 04		 SBC #4
   617 4F65 85 8E		 STA PMHPOS
   618 4F67 60			 RTS
   619 4F68 C6 E7		DCGLPF DEC VGLPC2
   620 4F6A 60			 RTS
   621 4F6B A9 00		ATDONE LDA #0
   622 4F6D 85 1F		 STA ATSEQU
   623 4F6F A9 07		 LDA #7
   624 4F71 85 1D		 STA ATCLOK
   625 4F73 60			ATSQ19 RTS
   626 				 ; 
   627 4F74 20 74 53		CHASER JSR SKIRTS
   628 4F77 A5 14		 LDA RTCLOK+2
   629 4F79 29 03		 AND #3
   630 4F7B D0 0A		 BNE CHASRP
   631 4F7D A9 08		CHSRML LDA #8
   632 4F7F 20 DC 60		 JSR MONHND
   633 4F82 E8			 INX
   634 4F83 E0 04		 CPX #4
   635 4F85 D0 F6		 BNE CHSRML
   636 4F87 A5 14		CHASRP LDA RTCLOK+2
   637 4F89 29 01		 AND #1
   638 4F8B D0 04		 BNE CHASR1
   639 4F8D A9 01		 LDA #1
   640 4F8F D0 02		 BNE CHASR2
   641 4F91 A9 00		CHASR1 LDA #0
   642 4F93 85 A7		CHASR2 STA PACCNT
   643 4F95 20 19 5A		 JSR PACRT
   644 4F98 60			 RTS
   645
   646 				;
   647 4F99 A9 09		ATSHOW LDA #9
   648 4F9B 85 2A		 STA TEMLOC
   649 4F9D BD 41 6C		ATSHWL LDA CHARTX,X
   650 4FA0 99 00 30		 STA PATSCN,Y
   651 4FA3 E8			 INX
   652 4FA4 C8			 INY
   653 4FA5 C6 2A		 DEC TEMLOC
   654 4FA7 10 F4		 BPL ATSHWL
   655 4FA9 60			 RTS
   656 				;
   657 4FAA A5 14		FLS1DT LDA RTCLOK+2
   658 4FAC 29 0F		 AND #$0F
   659 4FAE D0 06		 BNE FLS1DO
   660 4FB0 A9 00		 LDA #0
   661 4FB2 8D 6D 31		 STA PATSCN+365
   662 4FB5 60			 RTS
   663 4FB6 C9 08		FLS1DO CMP #8
   664 4FB8 D0 05		 BNE FLS1DX
   665 4FBA A9 84		 LDA #$84
   666 4FBC 8D 6D 31		 STA PATSCN+365
   667 4FBF 60			FLS1DX RTS
   668 				;
   669 				; ATTRACT MODE DLI ROUTINE
   670 				;
   671 4FC0 48			ADLIV PHA
   672 4FC1 8A			 TXA
   673 4FC2 48			 PHA
   674 4FC3 98			 TYA
   675 4FC4 48			 PHA
   676 4FC5 A6 18		 LDX DLICNT
   677 4FC7 D0 0A		 BNE N1ADLI
   678 4FC9 A9 34		 LDA #>AMCSET
   679 4FCB 8D 0A D4		 STA WSYNC
   680 4FCE 8D 09 D4		 STA CHBASE
   681 4FD1 D0 5C		 BNE ADLIXX
   682 4FD3 E0 01		N1ADLI CPX #1
   683 4FD5 D0 18		 BNE N2ADLI
   684 4FD7 A9 4A		 LDA #$4A
   685 4FD9 45 4F		 EOR COLRSH
   686 4FDB 25 4E		 AND DRKMSK
   687 4FDD AA			 TAX
   688 4FDE A9 D8		 LDA #$D8
   689 4FE0 45 4F		 EOR COLRSH
   690 4FE2 25 4E		 AND DRKMSK
   691 4FE4 8D 0A D4		 STA WSYNC
   692 4FE7 8E 17 D0		 STX COLPF1
   693 4FEA 8D 18 D0		 STA COLPF2
   694 4FED D0 40		 BNE ADLIXX
   695 4FEF E0 02		N2ADLI CPX #2
   696 4FF1 D0 13		 BNE N3ADLI
   697 4FF3 A5 40		 LDA PACCLR
   698 4FF5 45 4F		 EOR COLRSH
   699 4FF7 25 4E		 AND DRKMSK
   700 4FF9 A6 5E		 LDX ACOLR1; $3A
   701 4FFB 8D 0A D4		 STA WSYNC
   702 4FFE 8D 19 D0		 STA COLPF3
   703 5001 8E 18 D0		 STX COLPF2
   704 5004 D0 29		 BNE ADLIXX
   705 5006 E0 03		N3ADLI CPX #3
   706 5008 D0 13		 BNE N4ADLI
   707 500A A9 0C		 LDA #$0C
   708 500C 45 4F		 EOR COLRSH
   709 500E 25 4E		 AND DRKMSK
   710 5010 A6 5F		 LDX ACOLR2; $44
   711 5012 8D 0A D4		 STA WSYNC
   712 5015 8D 16 D0		 STA COLPF0
   713 5018 8E 17 D0		 STX COLPF1
   714 501B D0 12		 BNE ADLIXX
   715 501D A9 40		N4ADLI LDA #>PACCHR
   716 501F A6 61		 LDX ACOLR4; $DA
   717 5021 A4 60		 LDY ACOLR3; $2A
   718 5023 8D 0A D4		 STA WSYNC
   719 5026 8D 09 D4		 STA CHBASE
   720 5029 8E 16 D0		 STX COLPF0
   721 502C 8C 19 D0		 STY COLPF3
   722 502F E6 18		ADLIXX INC DLICNT
   723 5031 68			 PLA
   724 5032 A8			 TAY
   725 5033 68			 PLA
   726 5034 AA			 TAX
   727 5035 68			 PLA
   728 5036 40			 RTI
   729 				;
   730 				; COLLISION CHECK
   731 				;
   732 5037 A2 00		COLCHK LDX #0
   733 5039 A0 01		 LDY #1
   734 503B B5 CE		COLLLP LDA M1STAT,X
   735 503D 0A			 ASL
   736 503E 30 1E		 BMI NXCOLL
   737 5040 98			 TYA
   738 5041 2C 09 D0		 BIT M1PL
   739 5044 F0 18		 BEQ NXCOLL
   740 5046 2C 0A D0		 BIT M2PL
   741 5049 F0 13		 BEQ NXCOLL
   742 504B A5 89		 LDA PMVPOS
   743 504D D5 85		 CMP M1VPOS,X
   744 504F B0 07		SBCMXV BCS PMBLMX
   745 5051 38			 SEC
   746 5052 B5 85		 LDA M1VPOS,X
   747 5054 E5 89		 SBC PMVPOS
   748 5056 D0 02		 BNE TSTMXC
   749 5058 F5 85		PMBLMX SBC M1VPOS,X
   750 505A C9 05		TSTMXC CMP #5
   751 505C 90 0B		 BCC STRCOL
   752 505E 98			NXCOLL TYA
   753 505F 0A			 ASL
   754 5060 A8			 TAY
   755 5061 E8			 INX
   756 5062 E0 04		 CPX #4
   757 5064 D0 D5		 BNE COLLLP
   758 5066 4C 2D 51		COLCX1 JMP COLCKX
   759 5069 B5 CE		STRCOL LDA M1STAT,X
   760 506B 30 03		 BMI ZAPGST
   761 506D 4C 1A 51		 JMP PMDEAD
   762 5070 A9 42		ZAPGST LDA #$42
   763 5072 95 CE		 STA M1STAT,X
   764 5074 86 E8		 STX GULPED
   765 5076 E6 E9		 INC GLPCNT
   766 5078 38			 SEC
   767 5079 A5 8E		 LDA PMHPOS
   768 507B E9 04		 SBC #4
   769 507D 8D 07 D0		 STA HPOSM3
   770 5080 18			 CLC
   771 5081 A0 02		 LDY #2
   772 5083 69 02		REPOSL ADC #2
   773 5085 99 04 D0		 STA HPOSM0,Y
   774 5088 88			 DEY
   775 5089 10 F8		 BPL REPOSL
   776 508B 69 02		 ADC #2
   777 508D 9D 00 D0		 STA HPOSP0,X
   778 5090 A9 DC		 LDA #$DC
   779 5092 85 40		 STA PACCLR
   780 5094 9D C0 02		 STA PCOLR0,X
   781 5097 A4 1F		 LDY ATSEQU
   782 5099 D0 03		 BNE CKOFFS
   783 509B 8D C7 02		 STA COLOR3
   784 509E A5 89		CKOFFS LDA PMVPOS
   785 				;
   786 50A0 D5 85		 CMP M1VPOS,X
   787 50A2 F0 0B		 BEQ NOOFFS
   788 50A4 90 04		 BCC OFFDWN
   789 50A6 A9 FE		 LDA #$FE
   790 50A8 30 02		 BMI STROFF
   791 50AA A9 02		OFFDWN LDA #2
   792 50AC 18			STROFF CLC
   793 50AD 65 89		 ADC PMVPOS
   794 				;
   795 50AF 85 38		NOOFFS STA SCNSC1
   796 50B1 85 3A		 STA SCNSC2
   797 50B3 A9 2B		 LDA #(>PMADDR)+3
   798 50B5 85 39		 STA SCNSC1+1
   799 50B7 8A			 TXA
   800 50B8 18			 CLC
   801 50B9 65 39		 ADC SCNSC1+1
   802 50BB 69 01		 ADC #1
   803 50BD 85 3B		 STA SCNSC2+1
   804 50BF A5 E9		 LDA GLPCNT
   805 50C1 0A			 ASL
   806 50C2 A8			 TAY
   807 50C3 B9 13 68		 LDA BLSADD,Y
   808 50C6 85 3C		 STA PIXGET
   809 50C8 C8			 INY
   810 50C9 B9 13 68		 LDA BLSADD,Y
   811 50CC 85 3D		 STA PIXGET+1
   812 50CE A0 0F		 LDY #$0F
   813 50D0 B1 3C		STBSCL LDA (PIXGET),Y
   814 50D2 91 38		 STA (SCNSC1),Y
   815 50D4 B9 56 67		 LDA BLUSC0,Y
   816 50D7 91 3A		 STA (SCNSC2),Y
   817 50D9 88			 DEY
   818 50DA 10 F4		 BPL STBSCL
   819 50DC A9 00		 LDA #0
   820 50DE 8D 03 D2		 STA AUDC2
   821 50E1 E6 E5		 INC VFREEZ
   822 50E3 A9 84		 LDA #$84
   823 50E5 85 E7		 STA VGLPC2
   824 50E7 A9 02		 LDA #2
   825 50E9 85 E6		 STA VGLPC1
   826 50EB A9 14		 LDA #$14
   827 50ED 8D 6F 02		 STA GPRIOR
   828 50F0 A5 1F		 LDA ATSEQU
   829 50F2 F0 03		 BEQ CKGPS0
   830 50F4 4C 83 51		 JMP CLRHIT
   831 50F7 A5 E9		CKGPS0 LDA GLPCNT
   832 50F9 D0 04		 BNE CKGPS1
   833 50FB A9 02		 LDA #2
   834 50FD D0 16		 BNE UDGPSC
   835 50FF C9 01		CKGPS1 CMP #1
   836 5101 D0 04		 BNE CKGPS2
   837 5103 A9 04		 LDA #4
   838 5105 D0 0E		 BNE UDGPSC
   839 5107 C9 02		CKGPS2 CMP #2
   840 5109 D0 04		 BNE CKGPS3
   841 510B A9 08		 LDA #8
   842 510D D0 06		 BNE UDGPSC
   843 510F A9 01		CKGPS3 LDA #1
   844 5111 85 96		 STA SCOREX+2
   845 5113 A9 06		 LDA #6
   846 5115 85 97		UDGPSC STA SCOREX+3
   847 5117 4C FD 5B		 JMP PSCORE
   848 511A A5 AA		PMDEAD LDA PMSTAT
   849 511C 09 80		 ORA #$80
   850 511E 85 AA		 STA PMSTAT
   851 5120 20 86 58		 JSR CLRAUD
   852 5123 A9 01		 LDA #1
   853 5125 85 AE		 STA MSTILL
   854 5127 85 ED		 STA VFIZST
   855 5129 A9 60		 LDA #$60
   856 512B 85 EE		 STA VFIZSQ
   857 512D A9 02		COLCKX LDA #2
   858 512F 2C 02 D0		 BIT M2PF
   859 5132 F0 4F		 BEQ CLRHIT
   860 5134 A6 2B		 LDX PLYNUM
   861 5136 B5 30		 LDA MAZCT1,X
   862 5138 C9 0C		 CMP #$0C
   863 513A 90 02		 BCC LOWFSI
   864 513C A9 0C		 LDA #$0C
   865 513E AA			LOWFSI TAX
   866 513F BD F8 6B		 LDA FSINDX,X
   867 5142 AA			 TAX
   868 5143 A0 00		 LDY #0
   869 5145 BD D0 6B		FSLOOP LDA FS0100,X
   870 5148 99 F1 15		 STA PACMAZ+$1F1,Y
   871 514B E8			 INX
   872 514C C8			 INY
   873 514D C0 05		 CPY #5
   874 514F D0 F4		 BNE FSLOOP
   875 5151 A9 01		 LDA #1
   876 5153 85 A1		 STA FRSCRF
   877 5155 A9 40		 LDA #$40
   878 5157 85 A2		 STA FRSCRT
   879 5159 A9 00		 LDA #0
   880 515B 85 9F		 STA FRUFLG
   881 515D 85 9D		 STA FRUTMR
   882 515F 85 9E		 STA FRUTMR+1
   883 5161 A9 01		 LDA #1
   884 5163 85 F7		 STA GOBBLD
   885 5165 A9 78		 LDA #$78
   886 5167 85 F8		 STA GOBBLF
   887 5169 A6 2B		 LDX PLYNUM
   888 516B B5 30		 LDA MAZCT1,X
   889 516D C9 0C		 CMP #$0C
   890 516F 90 02		 BCC LOWFRS
   891 5171 A9 0C		 LDA #$0C
   892 5173 0A			LOWFRS ASL
   893 5174 AA			 TAX
   894 5175 BD 8C 6B		 LDA FRSTAB,X
   895 5178 85 96		 STA SCOREX+2
   896 517A E8			 INX
   897 517B BD 8C 6B		 LDA FRSTAB,X
   898 517E 85 97		 STA SCOREX+3
   899 5180 20 FD 5B		 JSR PSCORE
   900 5183 8D 1E D0		CLRHIT STA HITCLR
   901 5186 60			 RTS
   902 				;
   903 5187 20 34 5D		VRESET JSR BLNKON
   904 518A A5 23		 LDA SWAPPF
   905 518C F0 6A		 BEQ VRSET1
   906 518E A6 25		 LDX RESETT
   907 5190 F0 03		 BEQ VSWAP1
   908 5192 C6 25		 DEC RESETT
   909 5194 60			 RTS
   910 5195 C9 01		VSWAP1 CMP #1
   911 5197 D0 26		 BNE VSWAP2
   912 				;
   913 5199 A2 00		 LDX #0
   914 519B BD 00 18		LODP1L LDA P1SAVE,X
   915 519E 9D 00 14		 STA PACMAZ,X
   916 51A1 BD 00 19		 LDA P1SAVE+$100,X
   917 51A4 9D 00 15		 STA PACMAZ+$100,X
   918 51A7 BD 00 1A		 LDA P1SAVE+$200,X
   919 51AA 9D 00 16		 STA PACMAZ+$200,X
   920 51AD BD 00 1B		 LDA P1SAVE+$300,X
   921 51B0 9D 00 17		 STA PACMAZ+$300,X
   922 51B3 E8			 INX
   923 51B4 D0 E5		 BNE LODP1L
   924 				;
   925 51B6 20 27 55		 JSR FLS2ON
   926 51B9 A9 00		 LDA #0
   927 51BB 85 2B		 STA PLYNUM
   928 51BD F0 34		 BEQ VSWAPX
   929 51BF C9 02		VSWAP2 CMP #2
   930 51C1 D0 26		 BNE VSWAP3
   931 				;
   932 51C3 A2 00		 LDX #0
   933 51C5 BD 00 1C		LODP2L LDA P2SAVE,X
   934 51C8 9D 00 14		 STA PACMAZ,X
   935 51CB BD 00 1D		 LDA P2SAVE+$100,X
   936 51CE 9D 00 15		 STA PACMAZ+$100,X
   937 51D1 BD 00 1E		 LDA P2SAVE+$200,X
   938 51D4 9D 00 16		 STA PACMAZ+$200,X
   939 51D7 BD 00 1F		 LDA P2SAVE+$300,X
   940 51DA 9D 00 17		 STA PACMAZ+$300,X
   941 51DD E8			 INX
   942 51DE D0 E5		 BNE LODP2L
   943 				;
   944 51E0 20 3F 55		 JSR FLS1ON
   945 51E3 A9 01		 LDA #1
   946 51E5 85 2B		 STA PLYNUM
   947 51E7 D0 0A		 BNE VSWAPX
   948 51E9 C9 03		VSWAP3 CMP #3
   949 51EB D0 67		 BNE VSWAP4
   950 51ED 20 34 5D		 JSR BLNKON
   951 51F0 4C 3B 52		 JMP RST1PG
   952 51F3 A9 03		VSWAPX LDA #3
   953 51F5 85 23		VSWPX1 STA SWAPPF
   954 51F7 60			 RTS
   955 51F8 A5 1A		VRSET1 LDA NUMPLY
   956 51FA F0 3F		 BEQ RST1PG
   957 51FC A5 2B		RST2PG LDA PLYNUM
   958 51FE D0 1D		 BNE RST2P2
   959 5200 A5 2D		RST2P1 LDA XPACP2
   960 5202 F0 37		 BEQ RST1PG;PLAYER 2 DEAD
   961 5204 A5 2C		 LDA XPACP1
   962 5206 D0 0A		 BNE SWAP12;GO SWAP PLAYERS
   963 5208 A9 02		 LDA #2
   964 520A 85 23		 STA SWAPPF;SHOW #1 GAME OVER
   965 520C A9 60		 LDA #$60
   966 520E 85 25		 STA RESETT
   967 5210 D0 49		 BNE VGMEND
   968 5212 20 FE 58		SWAP12 JSR SAVEP1
   969 5215 A9 40		 LDA #$40
   970 5217 85 25		 STA RESETT
   971 5219 A9 02		 LDA #2
   972 521B D0 D8		 BNE VSWPX1
   973 521D A5 2C		RST2P2 LDA XPACP1
   974 521F F0 1A		 BEQ RST1PG;PLAYER 1 DEAD
   975 5221 A5 2D		 LDA XPACP2
   976 5223 D0 0A		 BNE SWAP21;GO SWAP PLAYERS
   977 5225 A9 01		 LDA #1
   978 5227 85 23		 STA SWAPPF;SHOW #2 GAME OVER
   979 5229 A9 60		 LDA #$60
   980 522B 85 25		 STA RESETT
   981 522D D0 2C		 BNE VGMEND
   982 522F 20 1C 59		SWAP21 JSR SAVEP2
   983 5232 A9 40		 LDA #$40
   984 5234 85 25		 STA RESETT
   985 5236 A9 01		 LDA #1
   986 5238 85 23		 STA SWAPPF
   987 523A 60			VGGONE RTS
   988 523B A6 2B		RST1PG LDX PLYNUM
   989 523D B5 2C		 LDA XPACP1,X
   990 523F F0 1A		 BEQ VGMEND; GAME IS OVER
   991 5241 20 4F 55		 JSR SETUP
   992 5244 20 23 54		 JSR READY1
   993 5247 A5 1A		 LDA NUMPLY
   994 5249 F0 09		 BEQ VSWAP4
   995 524B A9 40		 LDA #$40
   996 524D 85 25		 STA RESETT
   997 524F A9 04		 LDA #4
   998 5251 85 23		 STA SWAPPF
   999 5253 60			 RTS
  1000 5254 A9 00		VSWAP4 LDA #0
  1001 5256 85 23		 STA SWAPPF
  1002 5258 4C A1 54		 JMP READY2
  1003 525B A9 AC		VGMEND LDA #$AC
  1004 525D A2 00		 LDX #0
  1005 525F 9D ED 15		GMOVLP STA PACMAZ+$1ED,X
  1006 5262 18			 CLC
  1007 5263 69 01		 ADC #1
  1008 5265 E8			 INX
  1009 5266 E0 0E		 CPX #$0E
  1010 5268 D0 F5		 BNE GMOVLP
  1011 526A A9 44		 LDA #$44
  1012 526C 8D C7 02		 STA COLOR3
  1013 526F 8D 19 D0		 STA COLPF3
  1014 5272 20 91 58		 JSR PLAYRS
  1015 5275 A5 23		 LDA SWAPPF
  1016 5277 D0 C1		 BNE VGGONE
  1017 5279 A2 2A		THEEND LDX #$2A
  1018 527B 20 95 52		 JSR CKHIGH
  1019 527E A2 47		 LDX #$47
  1020 5280 20 95 52		 JSR CKHIGH
  1021 5283 A9 00		 LDA #0
  1022 5285 85 24		 STA RESETF
  1023 5287 A9 01		 LDA #1
  1024 5289 85 20		 STA GMOVRF
  1025 528B A9 E2		 LDA #$E2
  1026 528D 85 1E		 STA ATTIMR
  1027 528F 20 3F 55		 JSR FLS1ON
  1028 5292 4C 34 5D		 JMP BLNKON
  1029 				;
  1030 5295 A0 00		CKHIGH LDY #0
  1031 5297 BD 00 28		CKHILP LDA TEXT,X
  1032 529A D9 39 28		 CMP TEXT+$39,Y
  1033 529D F0 04		 BEQ CHINXT
  1034 529F 90 15		 BCC CKHIGX
  1035 52A1 B0 07		 BCS STORHI
  1036 52A3 E8			CHINXT INX
  1037 52A4 C8			 INY
  1038 52A5 C0 06		 CPY #6
  1039 52A7 D0 EE		 BNE CKHILP
  1040 52A9 60			 RTS
  1041 52AA BD 00 28		STORHI LDA TEXT,X
  1042 52AD 99 39 28		 STA TEXT+$39,Y
  1043 52B0 E8			 INX
  1044 52B1 C8			 INY
  1045 52B2 C0 06		 CPY #6
  1046 52B4 D0 F4		 BNE STORHI
  1047 52B6 60			CKHIGX RTS
  1048 				;
  1049 				; TUNNEL LOGIC
  1050 				;
  1051 52B7 A2 04		TUNNEL LDX #4
  1052 52B9 B5 85		CTMSKL LDA M1VPOS,X
  1053 52BB C9 74		 CMP #$74
  1054 52BD D0 03		 BNE NXTMSK
  1055 52BF 20 C6 52		 JSR MSKTUN
  1056 52C2 CA			NXTMSK DEX
  1057 52C3 10 F4		 BPL CTMSKL
  1058 52C5 60			 RTS
  1059 				;
  1060 52C6 85 47		MSKTUN STA TUNLOC
  1061 52C8 8A			 TXA
  1062 52C9 C9 04		 CMP #4
  1063 52CB D0 02		 BNE TUNPLY
  1064 52CD A9 FF		 LDA #$FF
  1065 52CF 18			TUNPLY CLC
  1066 52D0 69 2C		 ADC #(>PMADDR)+4
  1067 52D2 85 48		 STA TUNLOC+1
  1068 52D4 A9 FF		 LDA #$FF
  1069 52D6 85 FE		 STA TUNMSK
  1070 52D8 B5 8A		 LDA M1HPOS,X
  1071 52DA 85 FF		 STA TUNCNT
  1072 52DC C9 C0		 CMP #$C0
  1073 52DE 90 24		 BCC TNMSK2
  1074 52E0 A9 C0		 LDA #$C0
  1075 52E2 C5 FF		TNMSL1 CMP TUNCNT
  1076 52E4 F0 46		 BEQ STTMSK
  1077 52E6 C6 FF		 DEC TUNCNT
  1078 52E8 06 FE		 ASL TUNMSK
  1079 52EA B0 F6		 BCS TNMSL1
  1080 52EC B5 8A		 LDA M1HPOS,X
  1081 52EE C9 CA		 CMP #$CA
  1082 52F0 90 3A		 BCC STTMSK
  1083 52F2 B5 8F		 LDA M1DIRT,X
  1084 52F4 C9 08		 CMP #8
  1085 52F6 D0 34		 BNE STTMSK
  1086 52F8 A9 2A		 LDA #$2A
  1087 52FA 95 8A		 STA M1HPOS,X
  1088 52FC E0 04		 CPX #4
  1089 52FE D0 2C		 BNE STTMSK
  1090 5300 A9 8F		 LDA #$8F
  1091 5302 D0 26		 BNE TFXPAC
  1092 5304 C9 39		TNMSK2 CMP #$39
  1093 5306 B0 2F		 BCS TNMSKX
  1094 5308 A9 38		TNMSL2 LDA #$38
  1095 530A C5 FF		 CMP TUNCNT
  1096 530C F0 1E		 BEQ STTMSK
  1097 530E E6 FF		 INC TUNCNT
  1098 5310 46 FE		 LSR TUNMSK
  1099 5312 B0 F4		 BCS TNMSL2
  1100 5314 B5 8A		 LDA M1HPOS,X
  1101 5316 C9 2A		 CMP #$2A
  1102 5318 D0 12		 BNE STTMSK
  1103 531A B5 8F		 LDA M1DIRT,X
  1104 531C C9 04		 CMP #4
  1105 531E D0 0C		 BNE STTMSK
  1106 5320 A9 CA		 LDA #$CA
  1107 5322 95 8A		 STA M1HPOS,X
  1108 5324 E0 04		 CPX #4
  1109 5326 D0 04		 BNE STTMSK
  1110 5328 A9 B7		 LDA #$B7
  1111 532A 85 80		TFXPAC STA PACSCN
  1112 532C A0 0F		STTMSK LDY #$0F
  1113 532E B1 47		STTMSL LDA (TUNLOC),Y
  1114 5330 25 FE		 AND TUNMSK
  1115 5332 91 47		 STA (TUNLOC),Y
  1116 5334 88			 DEY
  1117 5335 10 F7		 BPL STTMSL
  1118 5337 60			TNMSKX RTS
  1119 				;
   631 				; EJECT
   632 5338			  ICL "PAC2.ASM"
Source: D:\!Delphi\mads\examples\pacman\PAC2.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;
     4 				; PAC-MAN GAME SUBROUTINES
     5 				;
     6 5338 A6 F7		GOBBLE LDX GOBBLD
     7 533A F0 37		 BEQ GOBBLX
     8 533C A5 F8		 LDA GOBBLF
     9 533E A0 A5		 LDY #$A5
    10 5340 E0 07		 CPX #7
    11 5342 B0 0F		 BCS GOBBD2
    12 5344 C9 B4		 CMP #$B4
    13 5346 F0 05		 BEQ SAMGOB
    14 5348 18			 CLC
    15 5349 69 05		 ADC #5
    16 534B D0 1E		 BNE STRGOB
    17 534D E6 F7		SAMGOB INC GOBBLD
    18 534F A0 A3		 LDY #$A3
    19 5351 D0 18		 BNE STRGOB
    20 5353 E0 09		GOBBD2 CPX #9
    21 5355 D0 04		 BNE GOBBD3
    22 5357 E6 F7		 INC GOBBLD
    23 5359 D0 02		 BNE DECGOB
    24 535B A0 A3		GOBBD3 LDY #$A3
    25 535D 38			DECGOB SEC
    26 535E C9 78		 CMP #$78
    27 5360 D0 07		 BNE GOBDEC
    28 5362 A9 00		 LDA #0
    29 5364 85 F7		 STA GOBBLD
    30 5366 A8			 TAY
    31 5367 F0 02		 BEQ STRGOB
    32 5369 E9 05		GOBDEC SBC #5
    33 536B 85 F8		STRGOB STA GOBBLF
    34 536D 8D 00 D2		 STA $D200
    35 5370 8C 01 D2		 STY $D201
    36 5373 60			GOBBLX RTS
    37 				;
    38 5374 A5 14		SKIRTS LDA RTCLOK+2
    39 5376 29 0F		 AND #$0F
    40 5378 D0 0C		 BNE SKIRTX
    41 537A A5 AF		 LDA MSKIRT
    42 537C F0 06		 BEQ ISKIRT
    43 537E A9 00		 LDA #0
    44 5380 85 AF		 STA MSKIRT
    45 5382 F0 02		 BEQ SKIRTX
    46 5384 E6 AF		ISKIRT INC MSKIRT
    47 5386 60			SKIRTX RTS
    48 				;
    49 				; RERACK WILL RESET MAZE AFTER
    50 				; A PLAYER HAS CLEARED ALL DOTS
    51 				;
    52 5387 A5 27		RERACK LDA RRSEQU
    53 5389 D0 0D		 BNE TSTRRS
    54 538B 20 86 58		 JSR CLRAUD
    55 538E 20 E6 54		 JSR DRAWIT
    56 5391 A9 40		 LDA #$40
    57 5393 85 28		RRKXX1 STA RRTIMR
    58 5395 E6 27		RRKXX2 INC RRSEQU
    59 5397 60			 RTS
    60 5398 C9 01		TSTRRS CMP #1
    61 539A D0 1E		 BNE TSTRR2
    62 539C A5 28		 LDA RRTIMR
    63 539E D0 17		 BNE DRRWTM; DEC RERACK WAIT TIMER
    64 53A0 A9 00		 LDA #0
    65 53A2 A2 03		 LDX #3
    66 53A4 9D 00 D0		TSRR1L STA HPOSP0,X
    67 53A7 CA			 DEX
    68 53A8 10 FA		 BPL TSRR1L
    69 53AA A9 0C		 LDA #$0C
    70 53AC 8D C4 02		 STA COLOR0
    71 53AF A9 07		 LDA #$07
    72 53B1 85 29		 STA RRFLCT; RERACK FLASH COUNT
    73 53B3 A9 10		 LDA #$10
    74 53B5 D0 DC		 BNE RRKXX1
    75 53B7 C6 28		DRRWTM DEC RRTIMR
    76 53B9 60			 RTS
    77 53BA C9 02		TSTRR2 CMP #2
    78 53BC D0 1C		 BNE TSTRR3
    79 53BE A5 28		 LDA RRTIMR
    80 53C0 D0 F5		 BNE DRRWTM; DEC RERACK COLOR TIMER
    81 53C2 C6 29		 DEC RRFLCT
    82 53C4 F0 CF		 BEQ RRKXX2
    83 53C6 A5 29		ALTCLR LDA RRFLCT
    84 53C8 18			 CLC
    85 53C9 4A			 LSR
    86 53CA 90 04		 BCC ALTBLU
    87 53CC A9 0C		 LDA #$0C
    88 53CE D0 02		 BNE SETRRC
    89 53D0 A9 86		ALTBLU LDA #$86
    90 53D2 8D C4 02		SETRRC STA COLOR0
    91 53D5 A9 10		 LDA #$10
    92 53D7 85 28		 STA RRTIMR
    93 53D9 60			 RTS
    94 53DA C9 03		TSTRR3 CMP #3
    95 53DC D0 0A		 BNE TSTRR4
    96 53DE A9 00		 LDA #0
    97 53E0 85 62		 STA INTCNT
    98 53E2 A9 E0		 LDA #>CHRORG
    99 53E4 8D 09 D4		 STA CHBASE
   100 53E7 60			TSTR3X RTS
   101 53E8 C9 04		TSTRR4 CMP #4
   102 53EA D0 17		 BNE TSTRR5
   103 53EC 20 A2 55		 JSR NEWBRD
   104 53EF A6 2B		 LDX PLYNUM
   105 53F1 F6 2C		 INC XPACP1,X
   106 53F3 F6 30		 INC MAZCT1,X
   107 53F5 20 23 54		 JSR READY1
   108 53F8 E6 27		 INC RRSEQU
   109 53FA A5 1A		 LDA NUMPLY
   110 53FC F0 E9		 BEQ TSTR3X
   111 53FE A9 30		 LDA #$30
   112 5400 85 28		 STA RRTIMR
   113 5402 60			 RTS
   114 5403 C9 05		TSTRR5 CMP #5
   115 5405 D0 0A		 BNE TSTRR6
   116 5407 A5 28		 LDA RRTIMR
   117 5409 D0 03		 BNE DTMRR5
   118 540B E6 27		 INC RRSEQU
   119 540D 60			 RTS
   120 540E C6 28		DTMRR5 DEC RRTIMR
   121 5410 60			 RTS
   122 5411 20 A1 54		TSTRR6 JSR READY2
   123 5414 A9 00		 LDA #0
   124 5416 85 26		 STA RRFLAG
   125 5418 85 27		 STA RRSEQU
   126 541A A9 02		 LDA #2
   127 541C 85 24		 STA RESETF
   128 541E A9 40		 LDA #$40
   129 5420 85 25		 STA RESETT
   130 5422 60			 RTS
   131 				;
   132 				; GET READY TO PLAY
   133 				;
   134 5423 A9 A2		READY1 LDA #$A2
   135 5425 A2 00		 LDX #0
   136 5427 9D EF 15		REDYLP STA PACMAZ+$1EF,X
   137 542A 18			 CLC
   138 542B 69 01		 ADC #1
   139 542D E8			 INX
   140 542E E0 0A		 CPX #$0A
   141 5430 D0 F5		 BNE REDYLP
   142 5432 20 91 58		 JSR PLAYRS
   143 5435 A6 2B		 LDX PLYNUM
   144 5437 B5 30		 LDA MAZCT1,X
   145 5439 C9 06		 CMP #6
   146 543B 90 08		 BCC SETRED
   147 543D C9 0A		 CMP #$0A
   148 543F B0 04		 BCS SETRED
   149 5441 A0 DA		 LDY #$DA; SET UP FOR GREEN FRUITS
   150 5443 D0 02		 BNE SETFRC
   151 5445 A0 44		SETRED LDY #$44
   152 5447 84 A0		SETFRC STY FRUCLR
   153 5449 A0 00		 LDY #0
   154 544B C9 06		 CMP #6
   155 544D B0 25		 BCS HFRUTS
   156 544F 85 2A		 STA TEMLOC
   157 5451 A9 92		 LDA #$92
   158 5453 85 3E		 STA PIXPUT
   159 5455 A9 17		 LDA #(>PACMAZ)+3
   160 5457 85 3F		 STA PIXPUT+1
   161 5459 A2 00		 LDX #0
   162 545B BD 69 68		FRUTLP LDA FRUCHR,X
   163 545E 91 3E		 STA (PIXPUT),Y
   164 5460 E6 3E		 INC PIXPUT
   165 5462 18			 CLC
   166 5463 69 01		 ADC #1
   167 5465 91 3E		 STA (PIXPUT),Y
   168 5467 E4 2A		 CPX TEMLOC
   169 5469 F0 35		 BEQ FSPLIT
   170 546B E8			FRUTS1 INX
   171 546C C6 3E		 DEC PIXPUT
   172 546E C6 3E		 DEC PIXPUT
   173 5470 C6 3E		 DEC PIXPUT
   174 5472 D0 E7		 BNE FRUTLP
   175 5474 C9 12		HFRUTS CMP #18
   176 5476 90 02		 BCC HFRUT1
   177 5478 A9 12		 LDA #18
   178 547A 38			HFRUT1 SEC
   179 547B E9 06		 SBC #6
   180 547D 85 2A		 STA TEMLOC
   181 547F 38			 SEC
   182 5480 A9 81		 LDA #<HIFRUT
   183 5482 E5 2A		 SBC TEMLOC
   184 5484 85 3C		 STA PIXGET
   185 5486 A9 68		 LDA #>HIFRUT
   186 5488 E9 00		 SBC #0
   187 548A 85 3D		 STA PIXGET+1
   188 548C A2 00		 LDX #0
   189 548E B1 3C		HFRUTL LDA (PIXGET),Y
   190 5490 9D 86 17		 STA PACMAZ+$386,X
   191 5493 18			 CLC
   192 5494 69 01		 ADC #1
   193 5496 9D 87 17		 STA PACMAZ+$387,X
   194 5499 E8			 INX
   195 549A E8			 INX
   196 549B C8			 INY
   197 549C C0 07		 CPY #$7
   198 549E D0 EE		 BNE HFRUTL
   199 54A0 60			FSPLIT RTS
   200 				;
   201 54A1 A2 0B		READY2 LDX #$0B
   202 54A3 A9 00		 LDA #0
   203 54A5 9D 4E 15		RED2LP STA PACMAZ+$14E,X
   204 54A8 CA			 DEX
   205 54A9 10 FA		 BPL RED2LP
   206 54AB 20 E6 54		 JSR DRAWIT
   207 54AE A6 2B		 LDX PLYNUM
   208 54B0 D6 2C		 DEC XPACP1,X
   209 				;
   210 54B2 A6 2B		UDXPACS LDX PLYNUM
   211 54B4 B5 2C		 LDA XPACP1,X
   212 54B6 A2 00		 LDX #0
   213 54B8 A0 9B		 LDY #$9B
   214 54BA C9 03		 CMP #3
   215 54BC D0 0A		 BNE TWOPAC
   216 54BE 8C 78 17		 STY PACMAZ+$378
   217 54C1 8C 76 17		UDXPC2 STY PACMAZ+$376
   218 54C4 8C 74 17		UDXPC1 STY PACMAZ+$374
   219 54C7 60			 RTS
   220 54C8 C9 02		TWOPAC CMP #2
   221 54CA D0 06		 BNE ONEPAC
   222 54CC 20 E2 54		 JSR UDNPC2
   223 54CF 4C C1 54		 JMP UDXPC2
   224 54D2 C9 01		ONEPAC CMP #1
   225 54D4 D0 06		 BNE NOPACS
   226 54D6 20 DF 54		 JSR UDNPC1
   227 54D9 4C C4 54		 JMP UDXPC1
   228 54DC 8E 74 17		NOPACS STX PACMAZ+$374
   229 54DF 8E 76 17		UDNPC1 STX PACMAZ+$376
   230 54E2 8E 78 17		UDNPC2 STX PACMAZ+$378
   231 54E5 60			 RTS
   232 				;
   233 54E6 A9 01		DRAWIT LDA #1
   234 54E8 85 AE		 STA MSTILL
   235 54EA A2 03		 LDX #3
   236 54EC B5 8F		GREADL LDA M1DIRT,X
   237 54EE 20 DC 60		 JSR MONHND
   238 54F1 CA			 DEX
   239 54F2 10 F8		 BPL GREADL
   240 54F4 A9 00		 LDA #0
   241 54F6 85 AE		 STA MSTILL
   242 54F8 4C A8 5A		 JMP PACSTP
   243 				;
   244 54FB A2 0D		READY3 LDX #$0D
   245 54FD A9 00		 LDA #0
   246 54FF 9D 4D 15		REDY3L STA PACMAZ+$14D,X
   247 5502 9D ED 15		 STA PACMAZ+$1ED,X
   248 5505 CA			 DEX
   249 5506 10 F7		 BPL REDY3L
   250 5508 60			 RTS
   251 				;
   252 5509 A5 14		FLSHXU LDA RTCLOK+2
   253 550B 29 0F		 AND #$0F
   254 550D D0 3F		 BNE FLSHXX
   255 550F A5 FA		 LDA FLSHUP
   256 5511 D0 04		 BNE FLSRST
   257 5513 E6 FA		 INC FLSHUP
   258 5515 D0 04		 BNE FLSHER
   259 5517 A9 00		FLSRST LDA #0
   260 5519 85 FA		 STA FLSHUP
   261 551B A5 2B		FLSHER LDA PLYNUM
   262 551D F0 18		 BEQ FLSPL1
   263 551F A5 FA		 LDA FLSHUP
   264 5521 D0 04		 BNE FLS2ON
   265 5523 AA			 TAX
   266 5524 A8			 TAY
   267 5525 F0 06		 BEQ F2STOR
   268 5527 A9 12		FLS2ON LDA #$12
   269 5529 A2 35		 LDX #$35
   270 552B A0 30		 LDY #$30
   271 552D 8D 21 28		F2STOR STA TEXT+$21
   272 5530 8E 22 28		 STX TEXT+$22
   273 5533 8C 23 28		 STY TEXT+$23
   274 5536 60			 RTS
   275 5537 A5 FA		FLSPL1 LDA FLSHUP
   276 5539 D0 04		 BNE FLS1ON
   277 553B AA			 TAX
   278 553C A8			 TAY
   279 553D F0 06		 BEQ F1STOR
   280 553F A9 11		FLS1ON LDA #$11
   281 5541 A2 35		 LDX #$35
   282 5543 A0 30		 LDY #$30
   283 5545 8D 04 28		F1STOR STA TEXT+4
   284 5548 8E 05 28		 STX TEXT+5
   285 554B 8C 06 28		 STY TEXT+6
   286 554E 60			FLSHXX RTS
   287 				;
   288 				; SET UP MONSTER AND PACMAN
   289 				; START POSITIONS
   290 				;
   291 554F 20 B2 58		SETUP JSR INITPM;CLEAR P/M GRAPHICS
   292 5552 A2 7F		SETUP1 LDX #$7F
   293 5554 95 80		CLRPGZ STA $80,X
   294 5556 CA			 DEX
   295 5557 10 FB		 BPL CLRPGZ
   296 5559 20 D4 58		 JSR SETCLR;INIT COLOR REGS
   297 				;
   298 				; SPEED INITIALIZATION
   299 				;
   300 555C A6 2B		SPDINI LDX PLYNUM
   301 555E B5 30		 LDA MAZCT1,X
   302 5560 C9 06		 CMP #6
   303 5562 90 02		 BCC LOWINI
   304 5564 A9 06		 LDA #6
   305 5566 A8			LOWINI TAY
   306 5567 B9 88 68		 LDA PACSPD,Y
   307 556A AA			 TAX
   308 556B BD A6 6B		 LDA SPEED1,X
   309 556E 85 B9		 STA PMSPCT
   310 5570 B9 8F 68		 LDA MONSPD,Y
   311 5573 A8			 TAY
   312 5574 A2 03		 LDX #3
   313 5576 B9 A6 6B		SPINIL LDA SPEED1,Y
   314 5579 95 B5		 STA M1SPCT,X
   315 557B CA			 DEX
   316 557C 10 F8		 BPL SPINIL
   317 				;
   318 557E A2 13		 LDX #$13
   319 5580 BD B2 66		INDATL LDA INIDAT,X
   320 5583 95 80		 STA PACSCN,X
   321 5585 CA			 DEX
   322 5586 10 F8		 BPL INDATL
   323 5588 A0 00		 LDY #0
   324 558A 20 CB 55		 JSR MSTIMR
   325 558D 8D 1E D0		 STA HITCLR
   326 5590 60			 RTS
   327 5591 A9 03		NEWGAM LDA #3
   328 5593 85 2C		 STA XPACP1;DO AT GAME START
   329 5595 85 2D		 STA XPACP2
   330 5597 A5 1B		 LDA DIFOPT
   331 5599 85 30		 STA MAZCT1
   332 559B 85 31		 STA MAZCT2
   333 559D A2 01		 LDX #1
   334 559F 20 BE 55		 JSR NEWBD1
   335 55A2 20 E0 58		NEWBRD JSR P1INIT; DO AT SCREEN START
   336 55A5 20 B2 54		 JSR UDXPACS
   337 55A8 A6 2B		 LDX PLYNUM
   338 55AA B5 30		 LDA MAZCT1,X
   339 55AC A8			 TAY
   340 55AD D0 0A		 BNE NEWRK2
   341 55AF A5 14		 LDA RTCLOK+2
   342 55B1 10 06		 BPL NEWRK2
   343 55B3 20 CB 55		NEWRK1 JSR MSTIMR
   344 55B6 4C BC 55		 JMP NEWBD0
   345 55B9 C8			NEWRK2 INY
   346 55BA D0 F7		 BNE NEWRK1
   347 55BC A6 2B		NEWBD0 LDX PLYNUM
   348 55BE A9 0F		NEWBD1 LDA #$0F
   349 55C0 95 32		 STA BIGDT1,X
   350 55C2 A9 00		 LDA #0
   351 55C4 95 43		 STA FRUTP1,X
   352 55C6 95 34		 STA DTCTL1,X
   353 55C8 95 36		 STA DTCTM1,X
   354 55CA 60			 RTS
   355 				;
   356 55CB C0 03		MSTIMR CPY #3
   357 55CD 90 02		 BCC LDMSTM
   358 55CF A0 03		 LDY #3
   359 55D1 A2 02		LDMSTM LDX #2
   360 55D3 B9 35 67		LDMSTL LDA STARTV,Y
   361 55D6 95 CB		 STA M2TIMR,X
   362 55D8 C8			 INY
   363 55D9 CA			 DEX
   364 55DA 10 F7		 BPL LDMSTL
   365 55DC 60			 RTS
   366 				;
   367 				; VFIZZL IS THE FOLD-UP
   368 				; SEQUENCE FOR THE PACMAN
   369 				;
   370 				; VFIZST IS THE STATUS
   371 				;
   372 				; 0 = NO ACTION
   373 				; 1 = WIGGLE SKIRTS
   374 				; 2 = CLEAR MONSTERS & INIT SOUNDS
   375 				; 3 = SOUND FREQ INCREASING
   376 				; 4 = SOUND FREQ DECREASING
   377 				; 5 = FADE OUT SOUND
   378 				; 6 = SHOW BLANK SCREEN
   379 				;
   380 55DD A5 ED		VFIZZL LDA VFIZST
   381 55DF C9 01		 CMP #1
   382 55E1 D0 18		 BNE INICLR
   383 55E3 A5 EE		 LDA VFIZSQ
   384 55E5 F0 10		 BEQ NXTFSQ
   385 55E7 20 74 53		 JSR SKIRTS
   386 55EA A2 03		 LDX #3
   387 55EC B5 8F		UDMFLP LDA M1DIRT,X
   388 55EE 20 DC 60		 JSR MONHND
   389 55F1 CA			 DEX
   390 55F2 10 F8		 BPL UDMFLP
   391 55F4 C6 EE		 DEC VFIZSQ
   392 55F6 60			 RTS
   393 55F7 E6 ED		NXTFSQ INC VFIZST
   394 55F9 A5 ED		 LDA VFIZST
   395 55FB C9 02		INICLR CMP #2
   396 55FD D0 23		 BNE FIZCHK
   397 55FF A2 03		 LDX #3
   398 5601 A9 00		 LDA #0
   399 5603 9D 00 D0		MONCLR STA HPOSP0,X
   400 5606 CA			 DEX
   401 5607 10 FA		 BPL MONCLR
   402 5609 A9 35		 LDA #$35
   403 560B 85 F0		 STA VFIZFQ
   404 560D 85 EF		 STA VFIZBS
   405 560F 20 86 58		 JSR CLRAUD
   406 5612 85 F1		 STA VFIZCT
   407 5614 85 EB		 STA FIZPTR
   408 5616 E6 EA		 INC FIZZLE
   409 5618 A9 07		 LDA #$07
   410 561A 85 EC		 STA FIZTIM
   411 561C A9 03		 LDA #3
   412 561E 85 ED		 STA VFIZST
   413 5620 D0 10		 BNE VFIZUP
   414 5622 C9 03		FIZCHK CMP #3
   415 5624 F0 0C		 BEQ VFIZUP
   416 5626 C9 04		 CMP #4
   417 5628 F0 21		 BEQ VFIZDN
   418 562A C9 05		 CMP #5
   419 562C F0 42		 BEQ VFIZFZ
   420 562E C9 06		 CMP #6
   421 5630 F0 5B		 BEQ FZWAIT
   422 5632 A9 A8		VFIZUP LDA #$A8
   423 5634 8D 01 D2		 STA AUDC1
   424 5637 A5 F0		 LDA VFIZFQ
   425 5639 8D 00 D2		 STA AUDF1
   426 563C 18			 CLC
   427 563D 69 08		 ADC #8
   428 563F 85 F0		 STA VFIZFQ
   429 5641 E6 F1		 INC VFIZCT
   430 5643 A5 F1		 LDA VFIZCT
   431 5645 C9 04		 CMP #4
   432 5647 D0 43		 BNE VBFIZX
   433 5649 F0 22		 BEQ SVFIZS
   434 564B A9 A8		VFIZDN LDA #$A8
   435 564D 8D 01 D2		 STA AUDC1
   436 5650 A5 F0		 LDA VFIZFQ
   437 5652 8D 00 D2		 STA AUDF1
   438 5655 38			 SEC
   439 5656 E9 08		 SBC #8
   440 5658 85 F0		 STA VFIZFQ
   441 565A C6 F1		 DEC VFIZCT
   442 565C D0 2E		 BNE VBFIZX
   443 565E A5 EF		 LDA VFIZBS
   444 5660 C9 6D		 CMP #$6D
   445 5662 F0 26		 BEQ VBFIZI
   446 5664 18			VFIZSW CLC
   447 5665 69 04		 ADC #4
   448 5667 85 EF		 STA VFIZBS
   449 5669 85 F0		 STA VFIZFQ
   450 566B A9 03		 LDA #3
   451 566D 85 ED		SVFIZS STA VFIZST
   452 566F 60			 RTS
   453 5670 A9 A8		VFIZFZ LDA #$A8
   454 5672 8D 01 D2		 STA AUDC1
   455 5675 A5 EF		 LDA VFIZBS
   456 5677 8D 00 D2		 STA AUDF1
   457 567A 38			 SEC
   458 567B E9 08		 SBC #8
   459 567D 85 EF		 STA VFIZBS
   460 567F C9 25		 CMP #$25
   461 5681 D0 09		 BNE VBFIZX
   462 5683 20 86 58		 JSR CLRAUD
   463 5686 A9 80		 LDA #$80
   464 5688 85 F1		 STA VFIZCT
   465 568A E6 ED		VBFIZI INC VFIZST
   466 568C 60			VBFIZX RTS
   467 				;
   468 568D A5 F1		FZWAIT LDA VFIZCT
   469 568F D0 03		 BNE DECFCW
   470 5691 E6 24		 INC RESETF
   471 5693 60			 RTS
   472 5694 C6 F1		DECFCW DEC VFIZCT
   473 5696 60			 RTS
   474 				;
   475 				; FIZZIE WILL DRAW THE PACMAN
   476 				; FOLDING UP IN SEQUENCE
   477 				;
   478 5697 A5 EA		FIZZIE LDA FIZZLE
   479 5699 F0 58		 BEQ FIZZIX
   480 569B A5 89		 LDA PMVPOS
   481 569D 85 3E		 STA PIXPUT
   482 569F A9 2B		 LDA #(>PMADDR)+3
   483 56A1 85 3F		 STA PIXPUT+1
   484 56A3 A5 EC		 LDA FIZTIM
   485 56A5 F0 04		 BEQ RSTFIZ
   486 56A7 C6 EC		 DEC FIZTIM
   487 56A9 10 0C		 BPL STRFIZ
   488 56AB A5 EB		RSTFIZ LDA FIZPTR
   489 56AD C9 0F		 CMP #$0F
   490 56AF F0 37		 BEQ CLRFIZ
   491 56B1 E6 EB		 INC FIZPTR
   492 56B3 A9 07		 LDA #$07
   493 56B5 85 EC		 STA FIZTIM
   494 56B7 A5 EB		STRFIZ LDA FIZPTR
   495 56B9 F0 11		 BEQ FIZSTR
   496 56BB C9 0F		 CMP #$0F
   497 56BD F0 1B		 BEQ EXPPAC
   498 56BF AA			 TAX
   499 56C0 CA			 DEX
   500 56C1 BD F8 69		 LDA FIZIDX,X
   501 56C4 A8			 TAY
   502 56C5 88			 DEY
   503 56C6 BD 9A 66		 LDA FIZDAT,X
   504 56C9 91 3E		 STA (PIXPUT),Y
   505 56CB 60			 RTS
   506 56CC A0 0C		FIZSTR LDY #$0C
   507 56CE A2 09		 LDX #9
   508 56D0 BD 7B 66		FIZSTL LDA PACDIE,X
   509 56D3 91 3E		 STA (PIXPUT),Y
   510 56D5 88			 DEY
   511 56D6 CA			 DEX
   512 56D7 10 F7		 BPL FIZSTL
   513 56D9 60			 RTS
   514 56DA A0 0F		EXPPAC LDY #$0F
   515 56DC A2 0F		 LDX #$0F
   516 56DE BD 4A 67		EXPPCL LDA PACEXP,X
   517 56E1 91 3E		 STA (PIXPUT),Y
   518 56E3 88			 DEY
   519 56E4 CA			 DEX
   520 56E5 10 F7		 BPL EXPPCL
   521 56E7 60			 RTS
   522 56E8 A0 0F		CLRFIZ LDY #$0F
   523 56EA A9 00		 LDA #0
   524 56EC 91 3E		CLRFZL STA (PIXPUT),Y
   525 56EE 88			 DEY
   526 56EF 10 FB		 BPL CLRFZL
   527 56F1 85 EA		 STA FIZZLE
   528 56F3 60			FIZZIX RTS
   529 				;
   530 56F4 A5 FC		FLITEC LDA FLASHC
   531 56F6 F0 10		 BEQ NOFLIT
   532 56F8 A5 F2		 LDA TWEETR
   533 56FA D0 03		 BNE CKFLTM
   534 56FC 20 77 57		 JSR VRVERB
   535 56FF A5 FD		CKFLTM LDA FLITMR
   536 5701 F0 0C		 BEQ FLSHSQ
   537 5703 C6 FD		 DEC FLITMR
   538 5705 4C 5E 57		 JMP SETFLC
   539 5708 A5 F2		NOFLIT LDA TWEETR
   540 570A D0 E7		 BNE FIZZIX
   541 570C 4C E2 5C		 JMP VCHASE
   542 570F A6 2B		FLSHSQ LDX PLYNUM
   543 5711 B5 30		 LDA MAZCT1,X
   544 5713 AA			 TAX
   545 5714 BD 6A 6A		 LDA FLSTIM,X
   546 5717 C5 FC		 CMP FLASHC
   547 5719 D0 37		 BNE NXTFLS
   548 571B A2 03		 LDX #3
   549 571D B5 CE		RSCLLP LDA M1STAT,X
   550 571F 10 06		 BPL NXTRSC
   551 5721 BD 25 67		 LDA COLORS,X
   552 5724 9D C0 02		 STA PCOLR0,X
   553 5727 CA			NXTRSC DEX
   554 5728 10 F3		 BPL RSCLLP
   555 572A A2 03		 LDX #3
   556 572C B5 CE		RSTCHL LDA M1STAT,X
   557 572E 10 12		 BPL NXRSTC
   558 5730 C9 80		 CMP #$80
   559 5732 F0 06		 BEQ RSTBOX
   560 5734 29 BB		 AND #$BB
   561 5736 F0 0A		 BEQ NXRSTC
   562 5738 D0 04		 BNE RSTCHS
   563 573A A9 00		RSTBOX LDA #0
   564 573C F0 02		 BEQ RSSTAT
   565 573E A9 20		RSTCHS LDA #$20
   566 5740 95 CE		RSSTAT STA M1STAT,X
   567 5742 CA			NXRSTC DEX
   568 5743 10 E7		 BPL RSTCHL
   569 5745 A9 00		 LDA #0
   570 5747 85 FC		 STA FLASHC
   571 5749 85 FB		 STA FLASHT
   572 574B 85 E4		 STA VFLITS
   573 574D A9 A0		 LDA #$A0
   574 574F 85 AD		 STA CHASET
   575 5751 60			 RTS
   576 5752 A5 FB		NXTFLS LDA FLASHT
   577 5754 D0 06		 BNE DECFTM
   578 5756 E6 FC		 INC FLASHC
   579 5758 A9 18		 LDA #$18
   580 575A 85 FB		 STA FLASHT
   581 575C C6 FB		DECFTM DEC FLASHT
   582 575E A5 FC		SETFLC LDA FLASHC
   583 5760 4A			 LSR; ALTERNATE BLUE & WHITE
   584 5761 90 04		 BCC FWHITE
   585 5763 A0 84		 LDY #$84; DARK BLUE
   586 5765 D0 02		 BNE FSTORE
   587 5767 A0 0C		FWHITE LDY #$0C; WHITE
   588 5769 A2 03		FSTORE LDX #3
   589 576B B5 CE		FSTORL LDA M1STAT,X
   590 576D 10 04		 BPL NXFSTR
   591 576F 98			 TYA
   592 5770 9D C0 02		 STA PCOLR0,X
   593 5773 CA			NXFSTR DEX
   594 5774 10 F5		 BPL FSTORL
   595 5776 60			FLITCX RTS
   596 				;
   597 				;
   598 5777 A5 E4		VRVERB LDA VFLITS
   599 5779 D0 0E		 BNE VFLRDY
   600 577B A9 05		 LDA #5
   601 577D 85 E3		 STA VFLITV
   602 577F A9 02		 LDA #2
   603 5781 85 E2		 STA VFLITD
   604 5783 E6 E4		 INC VFLITS
   605 5785 A9 90		 LDA #$90
   606 5787 85 E1		 STA VFLITF
   607 5789 A5 E2		VFLRDY LDA VFLITD
   608 578B C9 01		 CMP #1
   609 578D D0 1F		 BNE VFLIDN
   610 578F A5 E1		 LDA VFLITF
   611 5791 C9 90		 CMP #$90
   612 5793 D0 12		 BNE VFUPOK
   613 5795 A5 E3		 LDA VFLITV
   614 5797 C9 03		 CMP #3
   615 5799 D0 04		 BNE VFVDEC
   616 579B A9 05		 LDA #5
   617 579D 85 E3		 STA VFLITV
   618 579F C6 E3		VFVDEC DEC VFLITV
   619 57A1 A9 02		 LDA #2
   620 57A3 85 E2		 STA VFLITD
   621 57A5 D0 13		 BNE VFDNOK
   622 57A7 18			VFUPOK CLC
   623 57A8 A5 E1		 LDA VFLITF
   624 57AA 69 10		 ADC #$10
   625 57AC D0 11		 BNE VRBSTR
   626 57AE A5 E1		VFLIDN LDA VFLITF
   627 57B0 C9 40		 CMP #$40
   628 57B2 D0 06		 BNE VFDNOK
   629 57B4 A9 01		 LDA #1
   630 57B6 85 E2		 STA VFLITD
   631 57B8 D0 ED		 BNE VFUPOK
   632 57BA 38			VFDNOK SEC
   633 57BB A5 E1		 LDA VFLITF
   634 57BD E9 10		 SBC #$10
   635 57BF 85 E1		VRBSTR STA VFLITF
   636 57C1 8D 02 D2		 STA AUDF2
   637 57C4 A5 E3		 LDA VFLITV
   638 57C6 09 A0		 ORA #$A0
   639 57C8 8D 03 D2		VRVBX1 STA AUDC2
   640 57CB 60			VRVRBX RTS
   641 				;
   642 57CC A5 F3		VTWEET LDA TWEETF
   643 57CE D0 06		 BNE CTWEET
   644 57D0 A9 0C		 LDA #$0C
   645 57D2 85 F3		 STA TWEETF
   646 57D4 D0 08		 BNE ITWEET
   647 57D6 C9 17		CTWEET CMP #$17
   648 57D8 D0 04		 BNE ITWEET
   649 57DA A9 0C		 LDA #$0C
   650 57DC 85 F3		 STA TWEETF
   651 57DE E6 F3		ITWEET INC TWEETF
   652 57E0 A5 F3		STWEET LDA TWEETF
   653 57E2 8D 02 D2		 STA AUDF2
   654 57E5 A9 A4		 LDA #$A4
   655 57E7 D0 DF		 BNE VRVBX1
   656 				;
   657 57E9 C6 E6		VGULPR DEC VGLPC1
   658 57EB F0 1A		 BEQ DISTRT
   659 57ED 38			 SEC
   660 57EE A5 E7		 LDA VGLPC2
   661 57F0 E9 04		 SBC #4
   662 57F2 85 E7		 STA VGLPC2
   663 57F4 C9 10		 CMP #$10
   664 57F6 F0 2D		 BEQ GLPOFF
   665 57F8 8D 00 D2		 STA AUDF1
   666 57FB 8D 06 D2		 STA AUDF4
   667 57FE A9 84		 LDA #$84
   668 5800 8D 08 D2		 STA AUDCTL
   669 5803 A9 A4		 LDA #$A4
   670 5805 D0 19		 BNE GBRNCH
   671 5807 A9 02		DISTRT LDA #2
   672 5809 85 E6		 STA VGLPC1
   673 580B 38			 SEC
   674 580C A5 E7		 LDA VGLPC2
   675 580E E9 03		 SBC #3
   676 5810 85 E7		 STA VGLPC2
   677 5812 8D 00 D2		 STA AUDF1
   678 5815 8D 04 D2		 STA AUDF3
   679 5818 8D 06 D2		 STA AUDF4
   680
   681 				 .if VERSION=ORIGINAL
   682 581B A9 A8		   LDA #$A8
   683 				 .elseif VERSION=ROKLAN
   684 				   LDA #$A3
   685 				 .elseif VERSION=ATARI82
   686 				   LDA #$A3
   687 				 .else
   688 				   .error "Invalid version ", VERSION
   689 				 .endif
   690
   691 581D 8D 05 D2		 STA AUDC3
   692 5820 8D 07 D2		GBRNCH STA AUDC4
   693 5823 D0 5D		 BNE VEATRS
   694 5825 20 86 58		GLPOFF JSR CLRAUD
   695 5828 8D 08 D2		 STA AUDCTL
   696 582B 85 E5		 STA VFREEZ
   697 582D 85 A7		 STA PACCNT
   698 582F 84 E8		 STY GULPED
   699 5831 A9 2A		 LDA #$2A
   700 5833 8D C7 02		 STA COLOR3
   701 5836 A9 11		 LDA #$11
   702 5838 8D 6F 02		 STA GPRIOR
   703 583B A2 03		 LDX #3
   704 583D BD C0 02		RSTPCL LDA PCOLR0,X
   705 5840 C9 DC		 CMP #$DC
   706 5842 F0 04		 BEQ RSTPLC
   707 5844 CA			 DEX 
   708 5845 10 F6		 BPL RSTPCL
   709 5847 60			 RTS
   710 5848 A9 0C		RSTPLC LDA #$0C
   711 584A 9D C0 02		 STA PCOLR0,X
   712 584D 8D 1E D0		 STA HITCLR
   713 5850 A9 00		 LDA #0
   714 5852 85 A7		 STA PACCNT
   715 5854 20 3A 59		 JSR PMSTIK
   716 5857 E6 A8		 INC PACADV
   717 5859 4C 14 5B		 JMP MUNCHY
   718 				;
   719 585C A5 F4		VEATER LDA EATERF
   720 585E F0 25		 BEQ VEATRX
   721 5860 A6 F5		 LDX EATERC
   722 5862 E0 06		 CPX #6
   723 5864 D0 08		 BNE CEATER
   724 5866 A9 00		 LDA #0
   725 5868 85 F4		 STA EATERF
   726 586A 85 F5		 STA EATERC
   727 586C F0 14		 BEQ VEATRS
   728 586E A5 F6		CEATER LDA EATERT
   729 5870 D0 06		 BNE EATER2
   730 5872 BD 1B 68		 LDA E1DATA,X
   731 5875 4C 7B 58		 JMP STREAT
   732 5878 BD 22 68		EATER2 LDA E2DATA,X
   733 587B E6 F5		STREAT INC EATERC
   734 587D 8D 00 D2		 STA AUDF1
   735
   736 				 .if VERSION=ORIGINAL
   737 5880 A9 A4		   LDA #$A4
   738 				 .elseif VERSION=ROKLAN
   739 				   LDA #$A4
   740 				 .elseif VERSION=ATARI82
   741 				   LDA #$C2
   742 				 .else
   743 				   .error "Invalid version ", VERSION
   744 				 .endif
   745 5882 8D 01 D2		VEATRS STA AUDC1
   746 5885 60			VEATRX RTS
   747 				;
   748 5886 A0 07		CLRAUD LDY #7
   749 5888 A9 00		 LDA #0
   750 588A 99 00 D2		CLRAUL STA AUDF1,Y
   751 588D 88			 DEY
   752 588E 10 FA		 BPL CLRAUL
   753 5890 60			CLRAUX RTS
   754 				;
   755 5891 A5 1A		PLAYRS LDA NUMPLY
   756 5893 F0 FB		 BEQ CLRAUX
   757 5895 A9 65		 LDA #$65
   758 5897 A2 00		 LDX #0
   759 5899 9D 4E 15		PLYRLP STA PACMAZ+$14E,X
   760 589C 18			 CLC
   761 589D 69 01		 ADC #1
   762 589F E8			 INX
   763 58A0 E0 0C		 CPX #$0C
   764 58A2 D0 F5		 BNE PLYRLP
   765 58A4 A5 2B		 LDA PLYNUM
   766 58A6 F0 E8		 BEQ CLRAUX
   767 58A8 A2 71		 LDX #$71
   768 58AA 8E 58 15		 STX PACMAZ+$158
   769 58AD E8			 INX
   770 58AE 8E 59 15		 STX PACMAZ+$159
   771 58B1 60			 RTS
   772 				;
   633 				; EJECT
   634 58B2			  ICL "PAC3.ASM"
Source: D:\!Delphi\mads\examples\pacman\PAC3.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3
     4 				;
     5 				; PAC-MAN GAME SUBROUTINES
     6 				;
     7 				; INITIALIZE PLAYER/MISSILE MEMORY
     8 				;
     9 				; THIS SUBR CLEARS P/M AREA
    10 				;
    11 58B2 A2 00		INITPM LDX #0
    12 58B4 8A			 TXA
    13 58B5 20 C1 58		 JSR INITPL
    14 58B8 A9 FE		 LDA #$FE
    15 58BA A2 F0		 LDX #$F0
    16 58BC 20 C1 58		 JSR INITPL
    17 58BF 8A			 TXA
    18 58C0 60			 RTS
    19 58C1 9D 00 2B		INITPL STA PMADDR+$300,X
    20 58C4 9D 00 2C		 STA PMADDR+$400,X
    21 58C7 9D 00 2D		 STA PMADDR+$500,X
    22 58CA 9D 00 2E		 STA PMADDR+$600,X
    23 58CD 9D 00 2F		 STA PMADDR+$700,X
    24 58D0 E8			 INX
    25 58D1 D0 EE		 BNE INITPL
    26 58D3 60			 RTS
    27 				;
    28 				; SETCOLOR SUBROUTINE WILL
    29 				; INITIALIZE $2C0 - $2C7
    30 				; (COLOR REGISTERS)
    31 				;
    32 58D4 A2 07		SETCLR LDX #7
    33 58D6 BD 25 67		SETCLL LDA COLORS,X
    34 58D9 9D C0 02		 STA PCOLR0,X
    35 58DC CA			 DEX
    36 58DD 10 F7		 BPL SETCLL
    37 58DF 60			 RTS
    38 				;
    39 				;
    40 58E0 A2 00		P1INIT LDX #0
    41 58E2 BD 98 43		P1INIL LDA DATMAZ,X
    42 58E5 9D 00 14		 STA PACMAZ,X
    43 58E8 BD 98 44		 LDA DATMAZ+$100,X
    44 58EB 9D 00 15		 STA PACMAZ+$100,X
    45 58EE BD 98 45		 LDA DATMAZ+$200,X
    46 58F1 9D 00 16		 STA PACMAZ+$200,X
    47 58F4 BD 98 46		 LDA DATMAZ+$300,X
    48 58F7 9D 00 17		 STA PACMAZ+$300,X
    49 58FA E8			 INX
    50 58FB D0 E5		 BNE P1INIL
    51 58FD 60			 RTS
    52 				;
    53 58FE A2 00		SAVEP1 LDX #0
    54 5900 BD 00 14		SAVP1L LDA PACMAZ,X
    55 5903 9D 00 18		 STA P1SAVE,X
    56 5906 BD 00 15		 LDA PACMAZ+$100,X
    57 5909 9D 00 19		 STA P1SAVE+$100,X
    58 590C BD 00 16		 LDA PACMAZ+$200,X
    59 590F 9D 00 1A		 STA P1SAVE+$200,X
    60 5912 BD 00 17		 LDA PACMAZ+$300,X
    61 5915 9D 00 1B		 STA P1SAVE+$300,X
    62 5918 E8			 INX
    63 5919 D0 E5		 BNE SAVP1L
    64 591B 60			 RTS
    65 				;
    66 591C A2 00		SAVEP2 LDX #0
    67 591E BD 00 14		SAVP2L LDA PACMAZ,X
    68 5921 9D 00 1C		 STA P2SAVE,X
    69 5924 BD 00 15		 LDA PACMAZ+$100,X
    70 5927 9D 00 1D		 STA P2SAVE+$100,X
    71 592A BD 00 16		 LDA PACMAZ+$200,X
    72 592D 9D 00 1E		 STA P2SAVE+$200,X
    73 5930 BD 00 17		 LDA PACMAZ+$300,X
    74 5933 9D 00 1F		 STA P2SAVE+$300,X
    75 5936 E8			 INX
    76 5937 D0 E5		 BNE SAVP2L
    77 5939 60			SAV2PX RTS
    78
    79 				;
    80 				; PMSTIK SUBROUTINE WILL TEST
    81 				; JOYTICK INPUT AND DETERMINE
    82 				; IF DIRECTION CHOSEN IS VALID.
    83 				;   THE PACMAN WILL THEN MOVE
    84 				; IN THE PROPER DIRECTION WITH
    85 				; IT'S MOUTH OPENING AND CLOSING.
    86 				;
    87 				; THIS CODE IS CALLED DURING
    88 				; VBLANK AND INITIATES MOTION
    89 				; DURING ALTERNATE OCCURANCES
    90 				; OF VBLANK.  MOUTH ANIMATION
    91 				; IS PERFORMED EVERY VBLANK.
    92 				;
    93 				;
    94 593A A5 AA		PMSTIK LDA PMSTAT
    95 593C 30 FB		 BMI SAV2PX
    96 593E A2 04		PUDSTK LDX #4
    97 5940 20 68 5C		 JSR MAZHND
    98 5943 18			 CLC
    99 5944 A5 AC		 LDA PMNDIR;SEE IF WE CHANGE DIR.
   100 5946 24 2A		 BIT TEMLOC;IS IT VALID ?
   101 5948 F0 16		 BEQ PMUDST;NO
   102 594A C5 93		 CMP PMODIR
   103 594C F0 0E		 BEQ PUDSAM
   104 594E 05 93		 ORA PMODIR
   105 5950 A8			 TAY
   106 5951 29 03		 AND #3
   107 5953 F0 07		 BEQ PUDSAM
   108 5955 98			 TYA
   109 5956 29 0C		 AND #$0C
   110 5958 F0 02		 BEQ PUDSAM
   111 595A 84 A8		 STY PACADV
   112 595C A5 AC		PUDSAM LDA PMNDIR
   113 595E 85 93		 STA PMODIR
   114 5960 A6 2B		PMUDST LDX PLYNUM
   115 5962 BD 78 02		 LDA STICK0,X
   116 5965 49 0F		 EOR #$0F
   117 5967 F0 1C		 BEQ PMSAME
   118
   119 5969			 ORG $5969
   120 				 .if VERSION=ORIGINAL 
   121 5969			   ICL "PAC3-$5969-ORIGINAL.asm"
Source: D:\!Delphi\mads\examples\pacman\PAC3-$5969-ORIGINAL.asm
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 5969 48			 PHA
     4 596A A2 03		 LDX #3
     5 596C A0 00		 LDY #0
     6
     7 596E 18			PMTST2 CLC
     8 596F 4A			 LSR
     9 5970 90 01		 BCC NXPTS2
    10 5972 C8			 INY
    11 5973 CA			NXPTS2 DEX
    12 5974 10 F8		 BPL PMTST2
    13 5976 68			 PLA
    14 5977 C0 02		 CPY #2
    15 5979 F0 0A		 BEQ PMSAME
    16
    17 597B 85 4D		PDRTST STA ATRACT
   122 				 .elseif VERSION=ROKLAN 
   123 				   ICL "PAC3-$5969-ROKLAN.asm"
   124 				 .elseif VERSION=ATARI82
   125 				   ICL "PAC3-$5969-ATARI82.asm"
   126 				  .else
   127 				   .error "Invalid version ", VERSION
   128 				 .endif
   129
   130 597D 85 AC		 STA PMNDIR
   131 597F 24 2A		 BIT TEMLOC
   132 5981 F0 02		 BEQ PMSAME
   133 5983 85 93		 STA PMODIR
   134 5985 A5 93		PMSAME LDA PMODIR
   135 5987 24 2A		 BIT TEMLOC
   136 5989 D0 03		 BNE PACTST
   137 598B 4C 84 5A		 JMP PACOPN
   138 598E C9 01		PACTST CMP #1
   139 5990 F0 12		 BEQ PACUP
   140 5992 C9 02		 CMP #2
   141 5994 F0 3C		 BEQ PACDN
   142 5996 C9 04		 CMP #4
   143 5998 D0 03		 BNE PACRTV
   144 599A 4C 4B 5A		 JMP PACLF
   145 599D C9 08		PACRTV CMP #8
   146 599F F0 78		 BEQ PACRT
   147 59A1 4C A8 5A		 JMP PACSTP
   148 59A4 A5 A7		PACUP LDA PACCNT
   149 59A6 D0 25		 BNE PACUPS
   150 59A8 C6 89		 DEC PMVPOS
   151 59AA C6 89		 DEC PMVPOS
   152 59AC A5 A6		 LDA PACMAP
   153 59AE D0 06		 BNE DECPMP
   154 59B0 A9 03		 LDA #3
   155 59B2 85 A6		 STA PACMAP
   156 59B4 D0 17		 BNE PACUPS
   157 59B6 C6 A6		DECPMP DEC PACMAP
   158 59B8 D0 13		 BNE PACUPS
   159 59BA A5 89		 LDA PMVPOS
   160 59BC C5 83		 CMP PVSAVE
   161 59BE F0 0D		 BEQ PACUPS
   162 59C0 38			 SEC
   163 59C1 A5 80		 LDA PACSCN
   164 59C3 E9 28		 SBC #$28
   165 59C5 85 80		 STA PACSCN
   166 59C7 A5 81		 LDA PACSCN+1
   167 59C9 E9 00		 SBC #0
   168 59CB 85 81		 STA PACSCN+1
   169 59CD A0 06		PACUPS LDY #6;POINT TO PACTOP
   170 59CF 4C AD 5A		 JMP MOVPAC
   171 59D2 A5 A7		PACDN LDA PACCNT
   172 59D4 D0 25		 BNE PACDNS
   173 59D6 E6 89		 INC PMVPOS
   174 59D8 E6 89		 INC PMVPOS
   175 59DA A5 A6		 LDA PACMAP
   176 59DC C9 03		 CMP #3
   177 59DE D0 19		 BNE INCPMP
   178 59E0 A9 00		 LDA #0
   179 59E2 85 A6		 STA PACMAP
   180 59E4 A5 89		 LDA PMVPOS
   181 59E6 C5 83		 CMP PVSAVE
   182 59E8 F0 11		 BEQ PACDNS
   183 59EA 18			 CLC
   184 59EB A5 80		 LDA PACSCN
   185 59ED 69 28		 ADC #$28
   186 59EF 85 80		 STA PACSCN
   187 59F1 A5 81		 LDA PACSCN+1
   188 59F3 69 00		 ADC #0
   189 59F5 85 81		 STA PACSCN+1
   190 59F7 D0 02		 BNE PACDNS
   191 59F9 E6 A6		INCPMP INC PACMAP
   192 59FB A0 08		PACDNS LDY #8;POINT TO PACBOT
   193 59FD 4C AD 5A		 JMP MOVPAC
   194 5A00			 ORG $5A19	;Force alignment JAC!
   195
   196 5A19 A5 A7		PACRT LDA PACCNT
   197 5A1B D0 2A		 BNE PACRTS
   198 				;
   199 5A1D A5 8E		 LDA PMHPOS
   200 5A1F C9 CA		 CMP #$CA
   201 5A21 D0 08		 BNE NORTTN
   202 5A23 A9 2A		 LDA #$2A
   203 5A25 85 8E		 STA PMHPOS
   204 5A27 A9 8F		 LDA #$8F
   205 5A29 85 80		 STA PACSCN
   206 				;
   207 5A2B E6 8E		NORTTN INC PMHPOS
   208 5A2D A5 82		 LDA PACBYT
   209 5A2F C9 03		 CMP #3
   210 5A31 D0 12		 BNE INCPBY
   211 5A33 A9 00		 LDA #0
   212 5A35 85 82		 STA PACBYT
   213 5A37 A5 8E		 LDA PMHPOS
   214 5A39 C5 84		 CMP PHSAVE
   215 5A3B F0 0A		 BEQ PACRTS
   216 5A3D E6 80		 INC PACSCN
   217 5A3F D0 06		 BNE PACRTS
   218 5A41 E6 81		 INC PACSCN+1
   219 5A43 D0 02		 BNE PACRTS
   220 5A45 E6 82		INCPBY INC PACBYT
   221 5A47 A0 02		PACRTS LDY #2;POINT TO PACRGT
   222 5A49 D0 62		 BNE MOVPAC
   223
   224 5A4B A5 A7		PACLF LDA PACCNT
   225 5A4D D0 31		 BNE PACLFS
   226 				;
   227 5A4F A5 8E		 LDA PMHPOS
   228 5A51 C9 2A		 CMP #$2A
   229 5A53 D0 08		 BNE NOLFTN
   230 5A55 A9 CA		 LDA #$CA
   231 5A57 85 8E		 STA PMHPOS
   232 5A59 A9 B7		 LDA #$B7
   233 5A5B 85 80		 STA PACSCN
   234 				;
   235 5A5D C6 8E		NOLFTN DEC PMHPOS
   236 5A5F A5 82		 LDA PACBYT
   237 5A61 D0 06		 BNE DECPBY
   238 5A63 A9 03		 LDA #3
   239 5A65 85 82		 STA PACBYT
   240 5A67 D0 17		 BNE PACLFS
   241 5A69 C6 82		DECPBY DEC PACBYT
   242 5A6B D0 13		 BNE PACLFS
   243 5A6D A5 8E		 LDA PMHPOS
   244 5A6F C5 84		 CMP PHSAVE
   245 5A71 F0 0D		 BEQ PACLFS
   246 5A73 38			 SEC
   247 5A74 A5 80		 LDA PACSCN
   248 5A76 E9 01		 SBC #1
   249 5A78 85 80		 STA PACSCN
   250 5A7A A5 81		 LDA PACSCN+1
   251 5A7C E9 00		 SBC #0
   252 5A7E 85 81		 STA PACSCN+1
   253 5A80 A0 04		PACLFS LDY #4;POINT TO PACLFT
   254 5A82 D0 29		 BNE MOVPAC
   255 5A84 A5 93		PACOPN LDA PMODIR
   256 5A86 C9 01		 CMP #1
   257 5A88 D0 04		 BNE POPNDN
   258 5A8A A0 06		 LDY #6; UP
   259 5A8C D0 16		 BNE SETOPN
   260 5A8E C9 02		POPNDN CMP #2
   261 5A90 D0 04		 BNE POPNLF
   262 5A92 A0 08		 LDY #8; DOWN
   263 5A94 D0 0E		 BNE SETOPN
   264 5A96 C9 04		POPNLF CMP #4
   265 5A98 D0 04		 BNE POPNRT
   266 5A9A A0 04		 LDY #4; LEFT
   267 5A9C D0 06		 BNE SETOPN
   268 5A9E C9 08		POPNRT CMP #8
   269 5AA0 D0 06		 BNE PACSTP
   270 5AA2 A0 02		 LDY #2
   271 5AA4 A9 0A		SETOPN LDA #$0A
   272 5AA6 D0 1B		 BNE STRPAC
   273 5AA8 A0 00		PACSTP LDY #0;POINT TO PACDOT
   274 5AAA 98			 TYA
   275 5AAB F0 16		 BEQ STRPAC
   276 5AAD A6 AB		MOVPAC LDX PMSEQU
   277 5AAF D0 04		 BNE PACSID
   278 5AB1 E6 AB		 INC PMSEQU
   279 5AB3 D0 F3		 BNE PACSTP
   280 5AB5 CA			PACSID DEX
   281 5AB6 BD 98 66		 LDA PACIDX,X
   282 5AB9 E0 02		 CPX #2
   283 5ABB D0 04		 BNE INCPSQ
   284 5ABD A2 FF		 LDX #$FF
   285 5ABF 86 AB		 STX PMSEQU
   286 5AC1 E6 AB		INCPSQ INC PMSEQU
   287 5AC3 AA			STRPAC TAX
   288 5AC4 B9 A8 66		 LDA PACADD,Y
   289 5AC7 85 3C		 STA PIXGET
   290 5AC9 C8			 INY
   291 5ACA B9 A8 66		 LDA PACADD,Y
   292 5ACD 85 3D		 STA PIXGET+1
   293 5ACF 8A			 TXA
   294 5AD0 18			 CLC
   295 5AD1 65 3C		 ADC PIXGET
   296 5AD3 85 3C		 STA PIXGET
   297 5AD5 A9 00		 LDA #0
   298 5AD7 65 3D		 ADC PIXGET+1
   299 5AD9 85 3D		 STA PIXGET+1
   300 5ADB A0 09		 LDY #9
   301 5ADD B1 3C		PMBFLP LDA (PIXGET),Y
   302 5ADF 99 03 06		 STA PACBUF+3,Y
   303 5AE2 88			 DEY
   304 5AE3 10 F8		 BPL PMBFLP
   305 5AE5 A9 00		 LDA #<PACBUF
   306 5AE7 85 3C		 STA PIXGET
   307 5AE9 A9 06		 LDA #>PACBUF
   308 5AEB 85 3D		 STA PIXGET+1
   309 5AED A5 89		 LDA PMVPOS
   310 5AEF 85 3E		 STA PIXPUT
   311 5AF1 A9 2B		 LDA #(>PMADDR)+3
   312 5AF3 85 3F		 STA PIXPUT+1
   313 5AF5 18			 CLC
   314 5AF6 A5 8E		 LDA PMHPOS
   315 5AF8 8D 07 D0		 STA HPOSM3
   316 5AFB 69 02		 ADC #2
   317 5AFD 8D 06 D0		 STA HPOSM2
   318 5B00 69 02		 ADC #2
   319 5B02 8D 05 D0		 STA HPOSM1
   320 5B05 69 02		 ADC #2
   321 5B07 8D 04 D0		 STA HPOSM0
   322 5B0A A0 0F		 LDY #$0F
   323 5B0C B1 3C		PPLOOP LDA (PIXGET),Y
   324 5B0E 91 3E		 STA (PIXPUT),Y
   325 5B10 88			 DEY
   326 5B11 10 F9		 BPL PPLOOP
   327 5B13 60			PMSIXX RTS
   328
   329 				;
   330 				; MUNCHY SUBROUTINE EATS DOTS
   331 				;
   332 5B14 A5 82		MUNCHY LDA PACBYT
   333 5B16 D0 60		 BNE MUNCHX
   334 5B18 A5 A6		 LDA PACMAP
   335 5B1A D0 5C		 BNE MUNCHX
   336 5B1C A5 8E		 LDA PMHPOS
   337 5B1E C5 84		 CMP PHSAVE
   338 5B20 D0 06		 BNE NWPREF
   339 5B22 A5 89		 LDA PMVPOS
   340 5B24 C5 83		 CMP PVSAVE
   341 5B26 F0 EB		 BEQ PMSIXX
   342 5B28 A5 89		NWPREF LDA PMVPOS
   343 5B2A 85 83		 STA PVSAVE
   344 5B2C A5 8E		 LDA PMHPOS
   345 5B2E 85 84		 STA PHSAVE
   346 5B30 A0 00		 LDY #0
   347 5B32 B1 80		 LDA (PACSCN),Y
   348 5B34 C9 01		 CMP #1
   349 5B36 F0 08		 BEQ EATSML
   350 5B38 C9 02		 CMP #2
   351 5B3A D0 3C		 BNE MUNCHX
   352 5B3C 98			 TYA
   353 5B3D 91 80		 STA (PACSCN),Y	
   354 5B3F 60			 RTS
   355 				 
   356 5B40 85 98		EATSML STA SCOREX+4
   357 5B42 20 FD 5B		 JSR PSCORE
   358 5B45 A9 01		 LDA #1
   359 5B47 85 F4		 STA EATERF
   360 5B49 85 A9		 STA PACDLY
   361 5B4B A9 00		 LDA #0
   362 5B4D 85 F5		 STA EATERC
   363 5B4F A5 F6		 LDA EATERT
   364 5B51 D0 04		 BNE ZEATER
   365 5B53 A9 01		 LDA #1
   366 5B55 D0 02		 BNE SEATER
   367 5B57 A9 00		ZEATER LDA #0
   368 5B59 85 F6		SEATER STA EATERT
   369 5B5B A9 00		 LDA #0
   370 5B5D A8			 TAY
   371 5B5E 91 80		 STA (PACSCN),Y
   372 5B60 A6 2B		INCDOT LDX PLYNUM
   373 5B62 F6 34		 INC DTCTL1,X
   374 5B64 D0 02		 BNE CHKMAX
   375 5B66 F6 36		 INC DTCTM1,X
   376 5B68 A6 2B		CHKMAX LDX PLYNUM
   377 				  .if INTERMISSION_DEMO=1
   378 				:10 NOP
   379 				 .else
   380 5B6A B5 36		 LDA DTCTM1,X
   381 5B6C F0 0A		 BEQ MUNCHX
   382 5B6E B5 34		 LDA DTCTL1,X
   383 5B70 C9 04		 CMP #4
   384 5B72 D0 04		 BNE MUNCHX
   385 				 .endif
   386 				 
   387 5B74 A9 01		 LDA #1
   388 5B76 85 26		 STA RRFLAG
   389 5B78 60			MUNCHX RTS
   390 				;
   391 5B79 A6 2B		DOTTST LDX PLYNUM
   392 5B7B B5 32		 LDA BIGDT1,X
   393 5B7D 85 2A		 STA TEMLOC
   394 5B7F A6 89		 LDX PMVPOS
   395 5B81 A4 8E		 LDY PMHPOS
   396 5B83 A9 01		 LDA #1
   397 5B85 24 2A		 BIT TEMLOC
   398 5B87 F0 08		 BEQ DT2TST
   399 5B89 E0 3C		 CPX #$3C
   400 5B8B D0 04		 BNE DT2TST
   401 5B8D C0 3A		 CPY #$3A
   402 5B8F F0 27		 BEQ DOTFND
   403 5B91 0A			DT2TST ASL
   404 5B92 24 2A		 BIT TEMLOC
   405 5B94 F0 08		 BEQ DT3TST
   406 5B96 E0 3C		 CPX #$3C
   407 5B98 D0 04		 BNE DT3TST
   408 5B9A C0 BE		 CPY #$BE
   409 5B9C F0 1A		 BEQ DOTFND
   410 5B9E 0A			DT3TST ASL
   411 5B9F 24 2A		 BIT TEMLOC
   412 5BA1 F0 08		 BEQ DT4TST
   413 5BA3 E0 A4		 CPX #$A4
   414 5BA5 D0 04		 BNE DT4TST
   415 5BA7 C0 3A		 CPY #$3A
   416 5BA9 F0 0D		 BEQ DOTFND
   417 5BAB 0A			DT4TST ASL
   418 5BAC 24 2A		 BIT TEMLOC
   419 5BAE F0 C8		 BEQ MUNCHX
   420 5BB0 E0 A4		 CPX #$A4
   421 5BB2 D0 C4		 BNE MUNCHX
   422 5BB4 C0 BE		 CPY #$BE
   423 5BB6 D0 C0		 BNE MUNCHX
   424 5BB8 49 0F		DOTFND EOR #$0F
   425 5BBA 25 2A		 AND TEMLOC
   426 5BBC A6 2B		 LDX PLYNUM
   427 5BBE 95 32		 STA BIGDT1,X
   428 5BC0 A9 05		 LDA #5
   429 5BC2 85 98		 STA SCOREX+4
   430 5BC4 20 FD 5B		 JSR PSCORE
   431 5BC7 A9 01		 LDA #1; SET UP FOR BLUE MONSTERS
   432 5BC9 85 FC		 STA FLASHC
   433 5BCB A9 FF		 LDA #$FF
   434 5BCD 85 E9		 STA GLPCNT
   435 5BCF A6 2B		 LDX PLYNUM
   436 5BD1 B5 30		 LDA MAZCT1,X
   437 5BD3 AA			 TAX
   438 5BD4 BD 3B 67		 LDA BLUTIM,X
   439 5BD7 85 FD		 STA FLITMR
   440 5BD9 A2 03		 LDX #3
   441 5BDB B5 CE		SETFLL LDA M1STAT,X
   442 5BDD 0A			 ASL
   443 5BDE 30 17		 BMI NXTFLL
   444 5BE0 B5 CE		 LDA M1STAT,X
   445 5BE2 09 80		 ORA #$80; SET STATUS = FLIGHT
   446 5BE4 95 CE		 STA M1STAT,X
   447 5BE6 4A			 LSR
   448 5BE7 4A			 LSR
   449 5BE8 4A			 LSR
   450 5BE9 B0 0C		 BCS NXTFLL
   451 				;
   452 5BEB 29 3B		 AND #$3B
   453 5BED F0 08		 BEQ NXTFLL
   454 5BEF B5 8F		 LDA M1DIRT,X
   455 5BF1 A8			 TAY
   456 5BF2 B9 C7 6B		 LDA BLUREV,Y
   457 5BF5 95 8F		 STA M1DIRT,X
   458 				;
   459 5BF7 CA			NXTFLL DEX
   460 5BF8 10 E1		 BPL SETFLL
   461 5BFA 4C 60 5B		 JMP INCDOT
   462 				;
   463 				; PSCORE WILL ADD ANY POINTS
   464 				; SCORED TO THE PLAYERS' SCORE
   465 				;
   466 5BFD A9 00		PSCORE LDA #0;PSCORE SUBR
   467 5BFF 85 9A		 STA CARRYB
   468 5C01 F8			 SED
   469 5C02 A5 2B		 LDA PLYNUM
   470 5C04 F0 04		 BEQ PSCOR1
   471 5C06 A2 4C		 LDX #$4C
   472 5C08 D0 02		 BNE PSCORX
   473 5C0A A2 2F		PSCOR1 LDX #$2F
   474 5C0C A0 05		PSCORX LDY #5
   475 5C0E 18			KSCORE CLC
   476 5C0F BD 00 28		 LDA TEXT,X
   477 5C12 29 0F		 AND #$0F
   478 5C14 65 9A		 ADC CARRYB
   479 5C16 79 94 00		 ADC SCOREX,Y
   480 5C19 48			 PHA
   481 5C1A 29 10		 AND #$10
   482 5C1C F0 02		 BEQ NOCARY
   483 5C1E A9 01		 LDA #1
   484 5C20 85 9A		NOCARY STA CARRYB
   485 5C22 68			 PLA
   486 5C23 09 10		 ORA #$10
   487 5C25 C9 10		 CMP #$10
   488 5C27 D0 12		 BNE STRSCR
   489 5C29 C0 00		 CPY #0
   490 5C2B D0 03		 BNE TESLED
   491 5C2D 98			 TYA
   492 5C2E F0 0B		 BEQ STRSCR
   493 5C30 BD FF 27		TESLED LDA TEXT-1,X
   494 5C33 D0 04		 BNE NOLEAD
   495 5C35 A5 9A		 LDA CARRYB
   496 5C37 F0 02		 BEQ STRSCR
   497 5C39 A9 10		NOLEAD LDA #$10
   498 5C3B 9D 00 28		STRSCR STA TEXT,X
   499 5C3E CA			 DEX
   500 5C3F 88			 DEY
   501 5C40 10 CC		 BPL KSCORE
   502 5C42 D8			 CLD
   503 5C43 A2 05		 LDX #5
   504 5C45 A9 00		 LDA #0
   505 5C47 95 94		CLRSCR STA SCOREX,X
   506 5C49 CA			 DEX
   507 5C4A 10 FB		 BPL CLRSCR
   508 5C4C A6 2B		CKBONS LDX PLYNUM
   509 5C4E B5 2E		 LDA BPACP1,X
   510 5C50 D0 09		 BNE NOBONS
   511 5C52 E0 00		 CPX #0
   512 5C54 D0 06		 BNE CKBON2
   513 5C56 AD 2B 28		 LDA TEXT+$2B
   514 5C59 D0 06		 BNE BONUSP
   515 5C5B 60			NOBONS RTS
   516 5C5C AD 48 28		CKBON2 LDA TEXT+$48
   517 5C5F F0 FA		 BEQ NOBONS
   518 5C61 F6 2E		BONUSP INC BPACP1,X
   519 5C63 F6 2C		 INC XPACP1,X
   520 5C65 4C B2 54		 JMP UDXPACS
   521 				;
   522 				; MAZE HANDLER SUBROUTINE
   523 				;
   524 				; ENTRY:
   525 				; A REG VALUE EQUALS VPOS
   526 				; Y REG VALUE EQUALS HPOS
   527 				;
   528 				; EXIT:
   529 				; A REG VALUE EQUALS PERMISSIBLE
   530 				; DIRECTIONS FOR ANY OBJECT FROM
   531 				; ANY POSITION
   532 				;
   533 				; BIT 0 SET - UP OK
   534 				; BIT 1 SET - DN OK
   535 				; BIT 2 SET - RT OK
   536 				; BIT 3 SET - LF OK
   537 				;
   538 				; CARRY BIT IS SET IF
   539 				; DECISION POINT WAS REACHED
   540 				; OTHERWISE IT IS CLEARED.
   541 				;
   542 5C68 B5 8A		MAZHND LDA M1HPOS,X
   543 5C6A 85 A5		 STA HSAVER
   544 5C6C B5 85		 LDA M1VPOS,X
   545 5C6E 86 2A		 STX TEMLOC
   546 5C70 A2 09		 LDX #9
   547 5C72 DD C6 66		MHORLP CMP VTABLE,X;SEARCH VPOS
   548 5C75 F0 0F		 BEQ VRTFND;MATCH FOUND
   549 5C77 CA			 DEX
   550 5C78 10 F8		 BPL MHORLP;KEEP LOOKING
   551 5C7A A5 A5		 LDA HSAVER;NONE FOUND SO TRY HPOS
   552 5C7C A0 09		 LDY #9
   553 5C7E D9 D0 66		MVRTLP CMP HTABLE,Y;SEARCH HPOS
   554 5C81 F0 14		 BEQ HORFND;MATCH FOUND
   555 5C83 88			 DEY
   556 5C84 10 F8		 BPL MVRTLP
   557 5C86 A0 09		VRTFND LDY #9;NOW WE CHECK HPOS TABLE
   558 5C88 A5 A5		 LDA HSAVER;  TO SEE IF DECISION PT.
   559 5C8A D9 D0 66		VRTFNL CMP HTABLE,Y
   560 5C8D F0 0D		 BEQ CHOICE;YES - MAKE CHOICE
   561 5C8F 88			 DEY
   562 5C90 10 F8		 BPL VRTFNL
   563 5C92 A9 0C		 LDA #$0C;NO - KEEP GOING
   564 5C94 18			 CLC
   565 5C95 90 16		 BCC MAZHNX
   566 5C97 A9 03		HORFND LDA #3; ONLY ONE MATCH FOUND
   567 5C99 18			 CLC
   568 5C9A 90 11		 BCC MAZHNX
   569 5C9C 8A			CHOICE TXA;NOW INDEX INTO TABLE
   570 5C9D 0A			 ASL
   571 5C9E AA			 TAX
   572 5C9F BD DA 66		 LDA HTBADD,X
   573 5CA2 85 3C		 STA PIXGET
   574 5CA4 E8			 INX
   575 5CA5 BD DA 66		 LDA HTBADD,X
   576 5CA8 85 3D		 STA PIXGET+1
   577 5CAA B1 3C		 LDA (PIXGET),Y
   578 5CAC 38			 SEC
   579 5CAD A6 2A		MAZHNX LDX TEMLOC
   580 5CAF 85 2A		 STA TEMLOC
   581 5CB1 08			 PHP
   582 5CB2 E0 04		 CPX #4
   583 5CB4 F0 28		 BEQ MAZHX1
   584 5CB6 B5 8F		 LDA M1DIRT,X
   585 5CB8 A8			 TAY
   586 5CB9 A5 2A		 LDA TEMLOC
   587 5CBB 39 BE 6B		 AND REVTAB,Y
   588 5CBE 85 2A		 STA TEMLOC
   589 5CC0 B5 85		 LDA M1VPOS,X
   590 5CC2 C9 64		 CMP #$64
   591 5CC4 D0 18		 BNE MAZHX1
   592 5CC6 B5 8A		 LDA M1HPOS,X
   593 5CC8 C9 76		 CMP #$76
   594 5CCA F0 04		 BEQ MASKIT
   595 5CCC C9 82		NEXTMU CMP #$82
   596 5CCE D0 0E		 BNE MAZHX1
   597 5CD0 B5 CE		MASKIT LDA M1STAT,X
   598 5CD2 30 06		 BMI MASKSD
   599 5CD4 A5 2A		 LDA TEMLOC
   600 5CD6 29 0E		 AND #$0E
   601 5CD8 D0 02		 BNE MASKUP
   602 5CDA A9 01		MASKSD LDA #1
   603 5CDC 85 2A		MASKUP STA TEMLOC
   604 5CDE A5 2A		MAZHX1 LDA TEMLOC
   605 5CE0 28			 PLP
   606 5CE1 60			 RTS
   607 				;
   608 5CE2 A9 00		VCHASE LDA #0
   609 5CE4 85 E4		 STA VFLITS
   610 5CE6 A5 E0		 LDA VCHASS
   611 5CE8 D0 0A		 BNE VCHDIR
   612 5CEA A9 28		 LDA #$28
   613 5CEC 85 DE		 STA VCHASF
   614 5CEE A9 01		 LDA #1
   615 5CF0 85 E0		 STA VCHASS
   616 5CF2 85 DF		 STA VCHASD
   617 5CF4 A5 DF		VCHDIR LDA VCHASD
   618 5CF6 C9 01		 CMP #1
   619 5CF8 D0 13		 BNE VCHADN
   620 5CFA A5 DE		 LDA VCHASF
   621 5CFC C9 40		 CMP #$40
   622 5CFE 90 06		 BCC VCUPOK
   623 5D00 A9 02		 LDA #2
   624 5D02 85 DF		 STA VCHASD
   625 5D04 D0 13		 BNE VCDNOK
   626 5D06 A5 9C		VCUPOK LDA WHINEY
   627 5D08 18			 CLC
   628 5D09 65 DE		 ADC VCHASF
   629 5D0B D0 11		 BNE STRVCH
   630 5D0D A5 DE		VCHADN LDA VCHASF
   631 5D0F C9 28		 CMP #$28
   632 5D11 B0 06		 BCS VCDNOK
   633 5D13 A9 01		 LDA #1
   634 5D15 85 DF		 STA VCHASD
   635 5D17 D0 ED		 BNE VCUPOK
   636 5D19 38			VCDNOK SEC
   637 5D1A A5 DE		 LDA VCHASF
   638 5D1C E5 9C		 SBC WHINEY
   639 5D1E 85 DE		STRVCH STA VCHASF
   640 5D20 8D 02 D2		 STA AUDF2
   641 5D23 A9 A1		 LDA #$A1
   642 5D25 8D 03 D2		 STA AUDC2
   643 5D28 60			VCHASX RTS
   644 				;
   645
   646 5D29			BLINKR_JAC
   647 5D29			 ORG $5D29	;JAC!
   648
   649 5D29 A5 14		BLINKR LDA RTCLOK+2
   650 5D2B 29 0F		 AND #$0F
   651 5D2D F0 05		 BEQ BLNKON
   652 5D2F C9 08		 CMP #8
   653 5D31 F0 28		 BEQ BLNKOF
   654 5D33 60			 RTS
   655 5D34 A0 02		BLNKON LDY #2
   656 5D36 A6 2B		 LDX PLYNUM
   657 5D38 B5 32		 LDA BIGDT1,X
   658 5D3A 85 2A		 STA TEMLOC
   659 5D3C A9 01		 LDA #1
   660 5D3E 24 2A		 BIT TEMLOC
   661 5D40 F0 03		 BEQ BKOND2
   662 5D42 8C 7B 14		 STY PACMAZ+$7B
   663 5D45 0A			BKOND2 ASL
   664 5D46 24 2A		 BIT TEMLOC
   665 5D48 F0 03		 BEQ BKOND3
   666 5D4A 8C 9C 14		 STY PACMAZ+$9C
   667 5D4D 0A			BKOND3 ASL
   668 5D4E 24 2A		 BIT TEMLOC
   669 5D50 F0 03		 BEQ BKOND4
   670 5D52 8C 83 16		 STY PACMAZ+$283
   671 5D55 0A			BKOND4 ASL
   672 5D56 24 2A		 BIT TEMLOC
   673 5D58 D0 0C		 BNE BKONX1
   674 5D5A 60			BKONXX RTS
   675 				;
   676 5D5B A0 00		BLNKOF LDY #0
   677 5D5D 8C 7B 14		 STY PACMAZ+$7B
   678 5D60 8C 9C 14		 STY PACMAZ+$9C
   679 5D63 8C 83 16		 STY PACMAZ+$283
   680 5D66 8C A4 16		BKONX1 STY PACMAZ+$2A4
   681 5D69 60			 RTS
   682 				;
   683 				;
   684 				; SPEED SEQUENCING FOR OBJECTS
   685 				;
   686 				; X REG = INDEX VALUE FOR OBJECT
   687 				;
   688 				; X=0 TO 3 FOR MONSTERS 1 - 4
   689 				; X=4 FOR PACMAN
   690 				;
   691 				; ON EXIT:
   692 				; A REG = 0 INDICATES UPDATE TIME
   693 				;
   694 5D6A D6 B5		SPDSEQ DEC M1SPCT,X
   695 5D6C F0 03		 BEQ NXSPSQ
   696 5D6E A9 FF		 LDA #$FF
   697 5D70 60			 RTS
   698 5D71 B5 B0		NXSPSQ LDA M1SPSQ,X
   699 5D73 C9 03		 CMP #3
   700 5D75 D0 04		 BNE INCSPS
   701 5D77 A9 FF		 LDA #$FF
   702 5D79 95 B0		 STA M1SPSQ,X
   703 5D7B F6 B0		INCSPS INC M1SPSQ,X
   704 5D7D A4 2B		 LDY PLYNUM
   705 5D7F B9 30 00		 LDA MAZCT1,Y
   706 5D82 C9 06		 CMP #6
   707 5D84 90 02		 BCC LOWSPD
   708 5D86 A9 06		 LDA #6
   709 5D88 A8			LOWSPD TAY
   710 5D89 E0 04		 CPX #4
   711 5D8B D0 05		 BNE MXSPSQ
   712 5D8D B9 88 68		 LDA PACSPD,Y
   713 5D90 10 03		 BPL LDSPSQ
   714 5D92 B9 8F 68		MXSPSQ LDA MONSPD,Y
   715 5D95 18			LDSPSQ CLC
   716 5D96 75 B0		 ADC M1SPSQ,X
   717 5D98 A8			 TAY
   718 5D99 B9 A6 6B		 LDA SPEED1,Y
   719 5D9C 95 B5		 STA M1SPCT,X
   720 5D9E A9 00		 LDA #0
   721 5DA0 60			 RTS
   722 				;
   723 				; CHASE SEQUENCING
   724 				;
   725 5DA1 A5 14		CHSSEQ LDA RTCLOK+2
   726 5DA3 29 07		 AND #7
   727 5DA5 D0 06		 BNE CHSSQ1
   728 5DA7 A5 AD		 LDA CHASET
   729 5DA9 F0 02		 BEQ CHSSQ1
   730 5DAB C6 AD		 DEC CHASET
   731 5DAD A6 2B		CHSSQ1 LDX PLYNUM
   732 5DAF B5 36		 LDA DTCTM1,X
   733 5DB1 F0 09		 BEQ CHMAD1
   734 5DB3 A2 03		VRYMAD LDX #3
   735 5DB5 20 F0 5D		 JSR SETMAD
   736 5DB8 A9 05		 LDA #5
   737 5DBA D0 1D		 BNE STWHIN
   738 5DBC B5 34		CHMAD1 LDA DTCTL1,X
   739 5DBE C9 F0		 CMP #$F0
   740 5DC0 B0 F1		 BCS VRYMAD
   741 5DC2 C9 E0		 CMP #$E0
   742 5DC4 90 09		 BCC SMLMAD
   743 5DC6 A2 02		 LDX #2
   744 5DC8 20 F0 5D		 JSR SETMAD
   745 5DCB A9 04		 LDA #4
   746 5DCD D0 0A		 BNE STWHIN
   747 5DCF C9 B0		SMLMAD CMP #$B0
   748 5DD1 90 04		 BCC NOTMAD
   749 5DD3 A9 03		 LDA #3
   750 5DD5 D0 02		 BNE STWHIN
   751 5DD7 A9 02		NOTMAD LDA #2
   752 5DD9 85 9C		STWHIN STA WHINEY
   753 5DDB A2 03		CHSSQ2 LDX #3
   754 5DDD B5 CE		CHSSQL LDA M1STAT,X
   755 5DDF C9 08		 CMP #8
   756 5DE1 F0 06		 BEQ TSTCHS
   757 5DE3 C9 10		 CMP #$10
   758 5DE5 F0 02		 BEQ TSTCHS
   759 5DE7 D0 03		 BNE NXCHSQ
   760 5DE9 20 F3 61		TSTCHS JSR SEEPAC
   761 5DEC CA			NXCHSQ DEX
   762 5DED 10 EE		 BPL CHSSQL
   763 5DEF 60			 RTS
   764 				;
   765 5DF0 B5 CE		SETMAD LDA M1STAT,X
   766 5DF2 C9 08		 CMP #8
   767 5DF4 F0 08		 BEQ YESMAD
   768 5DF6 C9 10		 CMP #$10
   769 5DF8 F0 04		 BEQ YESMAD
   770 5DFA C9 20		 CMP #$20
   771 5DFC D0 04		 BNE NXSTMD
   772 5DFE A9 02		YESMAD LDA #2
   773 5E00 95 CE		 STA M1STAT,X
   774 5E02 CA			NXSTMD DEX
   775 5E03 10 EB		 BPL SETMAD
   776 5E05 86 AD		 STX CHASET
   777 5E07 60			 RTS
   778 				;
   779 5E08 A5 A1		FRUITY LDA FRSCRF
   780 5E0A F0 14		 BEQ TSTFRT
   781 5E0C A5 A2		 LDA FRSCRT
   782 5E0E D0 0D		 BNE DCFRST
   783 5E10 A9 00		 LDA #0
   784 5E12 85 A1		 STA FRSCRF
   785 5E14 A2 04		 LDX #4
   786 5E16 9D F1 15		CLFRSL STA PACMAZ+$1F1,X
   787 5E19 CA			 DEX
   788 5E1A 10 FA		 BPL CLFRSL
   789 5E1C 60			 RTS
   790 5E1D C6 A2		DCFRST DEC FRSCRT
   791 5E1F 60			DCFRSX RTS
   792 5E20 A5 9F		TSTFRT LDA FRUFLG
   793 5E22 D0 3A		 BNE DFRTMR
   794 5E24 A6 2B		 LDX PLYNUM
   795 5E26 B5 34		 LDA DTCTL1,X
   796 5E28 A8			 TAY
   797 5E29 B5 43		 LDA FRUTP1,X
   798 5E2B F0 05		 BEQ FRTST1
   799 5E2D C9 01		 CMP #1
   800 5E2F F0 05		 BEQ FRTST2
   801 5E31 60			 RTS
   802 5E32 C0 50		FRTST1 CPY #$50
   803 5E34 F0 04		 BEQ SETFRT
   804 5E36 C0 A0		FRTST2 CPY #$A0
   805 5E38 D0 E5		 BNE DCFRSX
   806 5E3A F6 43		SETFRT INC FRUTP1,X
   807 5E3C B5 30		 LDA MAZCT1,X
   808 5E3E C9 0C		 CMP #$0C
   809 5E40 90 02		 BCC LOWFRC
   810 5E42 A9 0C		 LDA #$0C
   811 5E44 AA			LOWFRC TAX
   812 5E45 BD 69 68		 LDA FRUCHR,X
   813 5E48 8D F3 15		 STA PACMAZ+$1F3
   814 5E4B 18			 CLC
   815 5E4C 69 01		 ADC #1
   816 5E4E 8D F4 15		 STA PACMAZ+$1F4
   817 5E51 A9 01		 LDA #1
   818 5E53 85 9F		 STA FRUFLG
   819 5E55 A9 FF		 LDA #FDELAY
   820 5E57 85 9D		 STA FRUTMR
   821 5E59 A9 02		 LDA #2
   822 5E5B 85 9E		 STA FRUTMR+1
   823 5E5D 60			 RTS
   824 5E5E A5 9E		DFRTMR LDA FRUTMR+1
   825 5E60 D0 0F		 BNE DCFRTM
   826 5E62 A5 9D		 LDA FRUTMR
   827 5E64 D0 0B		 BNE DCFRTM
   828 5E66 A9 00		 LDA #0
   829 5E68 8D F3 15		 STA PACMAZ+$1F3
   830 5E6B 8D F4 15		 STA PACMAZ+$1F4
   831 5E6E 85 9F		 STA FRUFLG
   832 5E70 60			 RTS
   833 5E71 C6 9D		DCFRTM DEC FRUTMR
   834 5E73 D0 02		 BNE FRUITX
   835 5E75 C6 9E		 DEC FRUTMR+1
   836 5E77 60			FRUITX RTS
   635 				; EJECT
   636 5E78			  ICL "PAC4.ASM"
Source: D:\!Delphi\mads\examples\pacman\PAC4.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;
     4 				; PACMAN MONSTER SUBROUTINES
     5 				;
     6 				;
     7 5E78 A9 00		EYONLY LDA #0
     8 5E7A 85 F2		 STA TWEETR
     9 5E7C A2 03		 LDX #3
    10 5E7E B5 CE		EYONLP LDA M1STAT,X
    11 5E80 C9 44		 CMP #$44
    12 5E82 F0 44		 BEQ NXTEYD
    13 5E84 0A			 ASL
    14 5E85 10 41		 BPL NXTEYD
    15 5E87 E4 E8		 CPX GULPED
    16 5E89 F0 3D		 BEQ NXTEYD
    17 5E8B E6 F2		 INC TWEETR
    18 5E8D B5 8A		 LDA M1HPOS,X
    19 5E8F A8			 TAY
    20 5E90 B5 85		 LDA M1VPOS,X
    21 5E92 C0 7C		 CPY #$7C
    22 5E94 D0 1C		 BNE TSTEYV
    23 5E96 C9 64		 CMP #$64
    24 5E98 D0 18		 BNE TSTEYV
    25 5E9A B5 8F		 LDA M1DIRT,X
    26 5E9C C9 01		 CMP #1
    27 5E9E D0 08		 BNE EYHOME
    28 5EA0 A9 04		 LDA #4
    29 5EA2 95 8F		 STA M1DIRT,X
    30 5EA4 B5 85		 LDA M1VPOS,X
    31 5EA6 D0 0A		 BNE TSTEYV
    32 5EA8 A9 44		EYHOME LDA #$44
    33 5EAA 95 CE		 STA M1STAT,X
    34 5EAC A9 FF		 LDA #$FF
    35 5EAE 95 D2		 STA M1SSEQ,X
    36 5EB0 D0 16		 BNE NXTEYD
    37 5EB2 20 68 5C		TSTEYV JSR MAZHND
    38 5EB5 90 0C		 BCC SAMEYD
    39 5EB7 18			 CLC
    40 5EB8 A9 7C		 LDA #$7C
    41 5EBA 95 C2		 STA M1THPS,X
    42 5EBC A9 64		 LDA #$64
    43 5EBE 95 C6		 STA M1TVPS,X
    44 5EC0 20 73 61		 JSR MDIRCT
    45 5EC3 B5 8F		SAMEYD LDA M1DIRT,X
    46 5EC5 20 DC 60		 JSR MONHND
    47 5EC8 CA			NXTEYD DEX
    48 5EC9 10 B3		 BPL EYONLP
    49 5ECB A5 F2		 LDA TWEETR
    50 5ECD D0 06		 BNE GTWEET
    51 5ECF A9 00		 LDA #0
    52 5ED1 85 F3		 STA TWEETF
    53 5ED3 F0 07		 BEQ CKINBX
    54 5ED5 A5 E5		GTWEET LDA VFREEZ
    55 5ED7 D0 03		 BNE CKINBX
    56 5ED9 20 CC 57		 JSR VTWEET
    57 5EDC A2 03		CKINBX LDX #3
    58 5EDE B5 CE		NMEYLP LDA M1STAT,X
    59 5EE0 18			 CLC
    60 5EE1 4A			 LSR
    61 5EE2 4A			 LSR
    62 5EE3 4A			 LSR
    63 5EE4 90 28		 BCC NXNMEY
    64 5EE6 B5 CE		 LDA M1STAT,X
    65 5EE8 0A			 ASL
    66 5EE9 10 06		 BPL MONOUT
    67 5EEB 20 5B 5F		 JSR PNKMIN
    68 5EEE 4C 0E 5F		 JMP NXNMEY
    69 5EF1 A5 14		MONOUT LDA RTCLOK+2
    70 5EF3 29 03		 AND #3
    71 5EF5 D0 17		 BNE NXNMEY
    72 5EF7 E0 03		 CPX #3
    73 5EF9 D0 06		 BNE GRNOUT
    74 5EFB 20 51 5F		 JSR YELMOT
    75 5EFE 4C 0E 5F		 JMP NXNMEY
    76 5F01 E0 02		GRNOUT CPX #2
    77 5F03 D0 06		 BNE REDOUT
    78 5F05 20 47 5F		 JSR GRNMOT
    79 5F08 4C 0E 5F		 JMP NXNMEY
    80 5F0B 20 12 5F		REDOUT JSR PNKMOT
    81 5F0E CA			NXNMEY DEX
    82 5F0F 10 CD		 BPL NMEYLP
    83 5F11 60			EYONLX RTS
    84 				;
    85 5F12 B5 85		PNKMOT LDA M1VPOS,X
    86 5F14 C9 64		 CMP #$64
    87 5F16 D0 1B		 BNE PNKOUT
    88 5F18 B5 CE		 LDA M1STAT,X
    89 5F1A D0 04		 BNE PNKTST
    90 5F1C A9 01		 LDA #1
    91 5F1E D0 0C		 BNE PNKCHS
    92 5F20 29 80		PNKTST AND #$80
    93 5F22 09 02		 ORA #2
    94 5F24 10 06		 BPL PNKCHS
    95 5F26 85 AD		 STA CHASET
    96 5F28 A0 08		 LDY #8
    97 5F2A D0 02		 BNE STRDIR
    98 5F2C A0 04		PNKCHS LDY #4
    99 5F2E 94 8F		STRDIR STY M1DIRT,X
   100 5F30 95 CE		STRSTS STA M1STAT,X
   101 5F32 60			 RTS
   102 5F33 A9 01		PNKOUT LDA #1
   103 5F35 95 8F		PNKOT1 STA M1DIRT,X
   104 5F37 4C DC 60		 JMP MONHND
   105 				;
   106 5F3A B5 CE		REINCR LDA M1STAT,X
   107 5F3C 29 0F		 AND #$0F
   108 5F3E 95 CE		 STA M1STAT,X
   109 5F40 BD 25 67		 LDA COLORS,X
   110 5F43 9D C0 02		 STA PCOLR0,X
   111 5F46 60			 RTS
   112 				;
   113 5F47 B5 8A		GRNMOT LDA M1HPOS,X
   114 5F49 C9 7C		 CMP #$7C
   115 5F4B F0 C5		 BEQ PNKMOT
   116 5F4D A9 08		GRNOT1 LDA #8
   117 5F4F D0 E4		 BNE PNKOT1
   118 				;
   119 5F51 B5 8A		YELMOT LDA M1HPOS,X
   120 5F53 C9 7C		 CMP #$7C
   121 5F55 F0 BB		 BEQ PNKMOT
   122 5F57 A9 04		YELOUT LDA #4
   123 5F59 D0 DA		 BNE PNKOT1
   124 				;
   125 5F5B B5 85		PNKMIN LDA M1VPOS,X
   126 5F5D C9 74		 CMP #$74
   127 5F5F D0 0A		 BNE PNKMDN
   128 5F61 E0 02		 CPX #2
   129 5F63 F0 0A		 BEQ GRNMIN
   130 5F65 E0 03		 CPX #3
   131 5F67 F0 0E		 BEQ YELMIN
   132 5F69 D0 CF		 BNE REINCR
   133 5F6B A9 02		PNKMDN LDA #2
   134 5F6D D0 C6		 BNE PNKOT1
   135 				;
   136 5F6F B5 8A		GRNMIN LDA M1HPOS,X
   137 5F71 C9 70		 CMP #$70
   138 5F73 D0 E2		 BNE YELOUT
   139 5F75 F0 C3		 BEQ REINCR
   140 				;
   141 5F77 B5 8A		YELMIN LDA M1HPOS,X
   142 5F79 C9 88		 CMP #$88
   143 5F7B D0 D0		 BNE GRNOT1
   144 5F7D F0 BB		 BEQ REINCR
   145 				;
   146 5F7F A2 01		STRTMN LDX #1
   147 5F81 B5 CE		CKSSQL LDA M1STAT,X
   148 5F83 29 7F		 AND #$7F
   149 5F85 D0 23		 BNE NXCKSS
   150 5F87 B5 CA		 LDA M1TIMR,X
   151 5F89 F0 08		 BEQ CKSMUP
   152 5F8B D6 CA		 DEC M1TIMR,X
   153 5F8D 20 B0 5F		 JSR BOUNCE
   154 5F90 4C AA 5F		 JMP NXCKSS
   155 5F93 E0 03		CKSMUP CPX #3
   156 5F95 D0 06		 BNE CKM2UP
   157 5F97 20 51 5F		 JSR YELMOT
   158 5F9A 4C AA 5F		 JMP NXCKSS
   159 5F9D E0 02		CKM2UP CPX #2
   160 5F9F D0 06		 BNE CKM1UP
   161 5FA1 20 47 5F		 JSR GRNMOT
   162 5FA4 4C AA 5F		 JMP NXCKSS
   163 5FA7 20 12 5F		CKM1UP JSR PNKMOT
   164 5FAA E8			NXCKSS INX
   165 5FAB E0 04		 CPX #4
   166 5FAD D0 D2		 BNE CKSSQL
   167 5FAF 60			 RTS
   168 				;
   169 				; STARTUP SEQUENCE OF
   170 				; MONSTERS EXITING FROM
   171 				; BOX.
   172 				;
   173 5FB0 B5 8F		BOUNCE LDA M1DIRT,X
   174 5FB2 C9 01		 CMP #1
   175 5FB4 D0 0A		 BNE TSUPSQ
   176 5FB6 B5 85		 LDA M1VPOS,X
   177 5FB8 C9 70		 CMP #$70
   178 5FBA D0 0E		 BNE NXTBNC
   179 5FBC A9 02		 LDA #2
   180 5FBE D0 08		 BNE STSQST
   181 5FC0 B5 85		TSUPSQ LDA M1VPOS,X
   182 5FC2 C9 78		 CMP #$78
   183 5FC4 D0 04		 BNE NXTBNC
   184 5FC6 A9 01		 LDA #1
   185 5FC8 95 8F		STSQST STA M1DIRT,X
   186 5FCA B5 8F		NXTBNC LDA M1DIRT,X
   187 5FCC 4C DC 60		 JMP MONHND
   188 				;
   189 5FCF B5 CE		MONSTR LDA M1STAT,X
   190 5FD1 10 06		 BPL MNTST1
   191 5FD3 4A			 LSR
   192 5FD4 4A			 LSR
   193 5FD5 4A			 LSR
   194 5FD6 90 10		 BCC MNTSCH
   195 5FD8 60			 RTS
   196 5FD9 C9 01		MNTST1 CMP #1
   197 5FDB F0 24		 BEQ MSTRTP; MONSTER START PATH
   198 5FDD C9 02		MNTST2 CMP #2
   199 5FDF D0 0A		 BNE MNTST3
   200 5FE1 A5 AD		 LDA CHASET
   201 5FE3 D0 03		 BNE MNTSCH
   202 5FE5 4C 9F 60		 JMP GOHOME
   203 5FE8 4C C9 60		MNTSCH JMP MCHASE; MONSTER IS CHASING
   204 5FEB C9 08		MNTST3 CMP #8
   205 5FED D0 03		 BNE MNTST4
   206 5FEF 4C 52 60		 JMP SEEKPS; SEEK PATTERN START
   207 5FF2 C9 10		MNTST4 CMP #$10
   208 5FF4 D0 03		 BNE MNTST5
   209 5FF6 4C 74 60		 JMP MPATRN; CONTINUE PATTERN
   210 5FF9 C9 20		MNTST5 CMP #$20
   211 5FFB D0 03		 BNE MNTST6
   212 5FFD 4C 9F 60		 JMP GOHOME; SEEK HOME CORNER
   213 6000 60			MNTST6 RTS
   214
   215 6001 20 68 5C		MSTRTP JSR MAZHND
   216 6004 90 03		 BCC SAMPTH
   217 6006 18			 CLC
   218 6007 F6 D2		 INC M1SSEQ,X
   219 6009 8A			SAMPTH TXA
   220 600A 0A			 ASL
   221 600B A8			 TAY
   222 600C B9 29 68		 LDA STRADD,Y
   223 600F 85 3C		 STA PIXGET
   224 6011 C8			 INY
   225 6012 B9 29 68		 LDA STRADD,Y
   226 6015 85 3D		 STA PIXGET+1
   227 6017 B5 D2		 LDA M1SSEQ,X
   228 6019 A8			 TAY
   229 601A B1 3C		 LDA (PIXGET),Y
   230 601C C9 0F		 CMP #$0F
   231 601E D0 2D		 BNE MNPATH
   232 				;
   233 				; - MONSTER HAS REACHED START POSIT
   234 				;   SET UP TO FIND PATTERN START
   235 				;   AND SET TIMER FOR 20 SECS
   236 				;
   237 6020 E0 00		 CPX #0
   238 6022 D0 07		 BNE SETPAT
   239 6024 A9 50		 LDA #$50
   240 6026 85 AD		 STA CHASET
   241 6028 4C C5 60		 JMP SCHASE
   242 602B A9 08		SETPAT LDA #8
   243 602D 95 CE		 STA M1STAT,X
   244 602F A9 00		 LDA #0
   245 6031 95 BE		 STA M1PCNT,X
   246 6033 AD 0A D2		 LDA RANDOM
   247 6036 29 0F		 AND #$0F
   248 6038 95 BA		 STA M1PIDX,X
   249 603A 0A			 ASL
   250 603B A8			 TAY
   251 603C B9 31 68		 LDA PTRNHV,Y
   252 603F 95 C2		 STA M1THPS,X
   253 6041 C8			 INY
   254 6042 B9 31 68		 LDA PTRNHV,Y
   255 6045 95 C6		 STA M1TVPS,X
   256 6047 A9 96		 LDA #$96
   257 6049 95 CA		 STA M1TIMR,X
   258 604B D0 05		 BNE SEEKPS
   259 604D 95 8F		MNPATH STA M1DIRT,X
   260 604F 4C DC 60		 JMP MONHND
   261 				;
   262 				; GO FIND START OF PATTERN
   263 				;
   264 6052 B5 CA		SEEKPS LDA M1TIMR,X
   265 6054 D0 03		 BNE SEKPS1
   266 6056 4C 9F 60		 JMP GOHOME
   267 6059 20 68 5C		SEKPS1 JSR MAZHND
   268 605C B0 03		 BCS SEKPS2
   269 605E 4C DA 60		FINDST JMP SAMEMD
   270 6061 18			SEKPS2 CLC
   271 6062 20 73 61		 JSR MDIRCT
   272 6065 B5 DA		 LDA M1HDIR,X
   273 6067 D0 F5		 BNE FINDST
   274 6069 B5 D6		 LDA M1VDIR,X
   275 606B D0 F1		 BNE FINDST
   276 606D A9 10		 LDA #$10; REACHED PATTERN START
   277 606F 95 CE		 STA M1STAT,X
   278 6071 18			 CLC
   279 6072 90 0C		 BCC SMPTRN
   280 				;
   281 6074 B5 CA		MPATRN LDA M1TIMR,X
   282 6076 F0 27		 BEQ GOHOME
   283 6078 20 68 5C		MPTRN1 JSR MAZHND
   284 607B 90 03		 BCC SMPTRN
   285 607D 18			 CLC
   286 607E F6 BE		 INC M1PCNT,X
   287 6080 B5 BA		SMPTRN LDA M1PIDX,X
   288 6082 A8			 TAY
   289 6083 B9 59 68		 LDA PTNIDX,Y
   290 6086 75 BE		 ADC M1PCNT,X
   291 6088 A8			 TAY
   292 6089 B9 A6 6A		 LDA PTRN01,Y
   293 608C D0 0C		 BNE MPTRN2
   294 608E 95 BE		 STA M1PCNT,X
   295 6090 B5 BA		 LDA M1PIDX,X
   296 6092 A8			 TAY
   297 6093 B9 59 68		 LDA PTNIDX,Y
   298 6096 A8			 TAY
   299 6097 B9 A6 6A		 LDA PTRN01,Y
   300 609A 95 8F		MPTRN2 STA M1DIRT,X
   301 609C 4C DA 60		 JMP SAMEMD
   302 				;
   303 609F A9 20		GOHOME LDA #$20
   304 60A1 95 CE		 STA M1STAT,X
   305 60A3 8A			 TXA
   306 60A4 0A			 ASL
   307 60A5 A8			 TAY
   308 60A6 B9 51 68		 LDA HOMEHV,Y
   309 60A9 95 C2		 STA M1THPS,X
   310 60AB C8			 INY
   311 60AC B9 51 68		 LDA HOMEHV,Y
   312 60AF 95 C6		 STA M1TVPS,X
   313 				;
   314 60B1 20 68 5C		 JSR MAZHND
   315 60B4 90 24		 BCC SAMEMD
   316 60B6 18			 CLC
   317 60B7 20 73 61		 JSR MDIRCT
   318 60BA B5 DA		 LDA M1HDIR,X
   319 60BC D0 1C		 BNE SAMEMD
   320 60BE B5 D6		 LDA M1VDIR,X
   321 60C0 D0 18		 BNE SAMEMD
   322 60C2 4C 2B 60		 JMP SETPAT
   323 				;
   324 				; TAKES CARE OF CHASE & FLIGHT
   325 				;
   326 60C5 A9 02		SCHASE LDA #2
   327 60C7 95 CE		 STA M1STAT,X
   328 60C9 A5 8E		MCHASE LDA PMHPOS
   329 60CB 95 C2		 STA M1THPS,X
   330 60CD A5 89		 LDA PMVPOS
   331 60CF 95 C6		 STA M1TVPS,X
   332 60D1 20 68 5C		 JSR MAZHND
   333 60D4 90 04		 BCC SAMEMD
   334 60D6 18			 CLC
   335 60D7 20 73 61		 JSR MDIRCT
   336 60DA B5 8F		SAMEMD LDA M1DIRT,X
   337 				;
   338 				; MONSTER DISPLAY HANDLER
   339 				;
   340 				; X-REG VALUE 0-3 TO SELECT
   341 				; MONSTER 1 - MONSTER 4
   342 				;
   343 				; A-REG VALUE  1 EQUALS UP
   344 				;              2 EQUALS DOWN
   345 				;              4 EQUALS LEFT
   346 				;              8 EQUALS RIGHT
   347 				;
   348 				; SELECTED MONSTER WILL BE 
   349 				; INCREMENTED 1 PIXEL IN THE
   350 				; DIRECTION SPECIFIED.
   351 				;
   352 				; IF MSTILL > 0 THEN THE MONSTERS
   353 				; WILL BE DRAWN BUT NOT MOVED.
   354 				;
   355 				; BIT 7 OF STATUS = FLIGHT IMAGE
   356 				; BIT 6 OF STATUS = EYES IMAGE
   357 				;
   358 60DC C9 01		MONHND CMP #1; DO REPOSITIONING
   359 60DE D0 0C		 BNE TSTMDN
   360 60E0 A4 AE		 LDY MSTILL
   361 60E2 D0 04		 BNE MSTLUP
   362 60E4 D6 85		 DEC M1VPOS,X
   363 60E6 D6 85		 DEC M1VPOS,X
   364 60E8 A9 00		MSTLUP LDA #MONSUP-MONSUP
   365 60EA F0 2D		 BEQ TSTMSK
   366 60EC C9 02		TSTMDN CMP #2
   367 60EE D0 0C		 BNE TSTMLF
   368 60F0 A4 AE		 LDY MSTILL
   369 60F2 D0 04		 BNE MSTLDN
   370 60F4 F6 85		 INC M1VPOS,X
   371 60F6 F6 85		 INC M1VPOS,X
   372 60F8 A9 0A		MSTLDN LDA #MONSDN-MONSUP
   373 60FA D0 1D		 BNE TSTMSK
   374 60FC C9 04		TSTMLF CMP #4
   375 60FE D0 0A		 BNE TSTMRT
   376 6100 A4 AE		 LDY MSTILL
   377 6102 D0 02		 BNE MSTLLF
   378 6104 D6 8A		 DEC M1HPOS,X
   379 6106 A9 14		MSTLLF LDA #MONSLF-MONSUP
   380 6108 D0 0F		 BNE TSTMSK
   381 610A C9 08		TSTMRT CMP #8
   382 610C D0 0A		 BNE NOMMOT
   383 610E A4 AE		 LDY MSTILL
   384 6110 D0 02		 BNE MSTLRT
   385 6112 F6 8A		 INC M1HPOS,X
   386 6114 A9 1E		MSTLRT LDA #MONSRT-MONSUP
   387 6116 D0 01		 BNE TSTMSK
   388 6118 60			NOMMOT RTS
   389 6119 B4 CE		TSTMSK LDY M1STAT,X
   390 611B 10 02		 BPL TSTEYE
   391 611D A9 28		 LDA #MONSFL-MONSUP; FLIGHT IMAGE
   392 611F A8			TSTEYE TAY
   393 6120 B5 CE		 LDA M1STAT,X
   394 6122 0A			 ASL
   395 6123 30 0D		 BMI MNEYES
   396 6125 98			 TYA
   397 6126 A4 AF		 LDY MSKIRT
   398 6128 F0 04		 BEQ MSKL54
   399 612A A0 AA		 LDY #$AA
   400 612C D0 08		 BNE MNSKRT
   401 612E A0 54		MSKL54 LDY #$54
   402 6130 D0 04		 BNE MNSKRT
   403 6132 A9 32		MNEYES LDA #MONSEY-MONSUP
   404 6134 A0 00		 LDY #0
   405 6136 8C 1C 06		MNSKRT STY MONBUF+$0C
   406 6139 18			 CLC
   407 613A 69 03		 ADC #<MONSUP
   408 613C 85 3C		 STA PIXGET
   409 613E A9 00		 LDA #0
   410 6140 69 66		 ADC #>MONSUP
   411 6142 85 3D		 STA PIXGET+1
   412 6144 A0 09		 LDY #9
   413 6146 B1 3C		MNLDBL LDA (PIXGET),Y
   414 6148 99 12 06		 STA MONBUF+2,Y
   415 614B 88			 DEY
   416 614C 10 F8		 BPL MNLDBL
   417 614E A9 10		 LDA #<MONBUF
   418 6150 85 3C		 STA PIXGET
   419 6152 A9 06		 LDA #>MONBUF
   420 6154 85 3D		 STA PIXGET+1
   421 6156 B5 8A		 LDA M1HPOS,X
   422 6158 9D 00 D0		 STA HPOSP0,X
   423 615B B5 85		 LDA M1VPOS,X
   424 615D 85 3E		 STA PIXPUT
   425 615F A9 2C		SECURE LDA #(>PMADDR)+4
   426 6161 85 3F		 STA PIXPUT+1
   427 6163 8A			 TXA
   428 6164 18			 CLC
   429 6165 65 3F		 ADC PIXPUT+1
   430 6167 85 3F		 STA PIXPUT+1
   431 6169 A0 0F		 LDY #$0F
   432 616B B1 3C		MWRITE LDA (PIXGET),Y
   433 616D 91 3E		 STA (PIXPUT),Y
   434 616F 88			 DEY
   435 6170 10 F9		 BPL MWRITE
   436 6172 60			 RTS
   437 				;
   438 				; DIRECTIONS COMPUTED FOR
   439 				; MONSTERS
   440 				;
   441 				; X REG = MONSTER #
   442 				;
   443 				; TARGET VERTICAL & HORIZONTAL
   444 				; COORDINATES MUST BE PLACED
   445 				; INTO VSAVER & HSAVER PRIOR
   446 				; TO ENTRY
   447 				;
   448 6173 B5 85		MDIRCT LDA M1VPOS,X
   449 6175 D5 C6		 CMP M1TVPS,X
   450 6177 F0 12		 BEQ VEQUAL
   451 6179 90 08		 BCC VGRATR;MONSTER IS ABOVE TARGET
   452 				;
   453 				; MONSTER IS BELOW TARGET
   454 				;
   455 617B B5 CE		 LDA M1STAT,X
   456 617D 30 08		 BMI VBIGGR
   457 617F A9 01		VLESSR LDA #1;POINT TO UP
   458 6181 D0 0A		 BNE STRVRT
   459 6183 B5 CE		VGRATR LDA M1STAT,X
   460 6185 30 F8		 BMI VLESSR
   461 6187 A9 02		VBIGGR LDA #2;POINT TO DOWN
   462 6189 D0 02		 BNE STRVRT
   463 618B A9 00		VEQUAL LDA #0
   464 618D 95 D6		STRVRT STA M1VDIR,X
   465 618F B5 8A		 LDA M1HPOS,X
   466 6191 D5 C2		 CMP M1THPS,X
   467 6193 F0 12		 BEQ HEQUAL
   468 6195 B0 08		 BCS HGRATR;MONSTER IS RT OF TARGET
   469 				;
   470 				; MONSTER IS LEFT OF TARGET
   471 				;
   472 6197 B5 CE		 LDA M1STAT,X
   473 6199 30 08		 BMI HBIGGR
   474 619B A9 08		HLESSR LDA #8;POINT TO RT
   475 619D D0 0A		 BNE STRHRZ
   476 619F B5 CE		HGRATR LDA M1STAT,X
   477 61A1 30 F8		 BMI HLESSR
   478 61A3 A9 04		HBIGGR LDA #4;POINT TO LEFT
   479 61A5 D0 02		 BNE STRHRZ
   480 61A7 A9 00		HEQUAL LDA #0
   481 61A9 95 DA		STRHRZ STA M1HDIR,X
   482 				;
   483 61AB B5 D6		 LDA M1VDIR,X
   484 61AD F0 19		 BEQ MHONLY
   485 61AF 24 2A		 BIT TEMLOC
   486 61B1 F0 15		 BEQ MHONLY
   487 61B3 B5 DA		 LDA M1HDIR,X
   488 61B5 F0 09		 BEQ MVRTOK
   489 61B7 24 2A		 BIT TEMLOC
   490 61B9 F0 05		 BEQ MVRTOK
   491 				;
   492 				; CHOICE OF DIRECTIONS
   493 				;
   494 61BB AD 0A D2		 LDA RANDOM
   495 61BE 30 04		 BMI MHRZOK
   496 61C0 B5 D6		MVRTOK LDA M1VDIR,X
   497 61C2 D0 2A		 BNE SETMDR
   498 61C4 B5 DA		MHRZOK LDA M1HDIR,X
   499 61C6 D0 26		 BNE SETMDR
   500 61C8 B5 DA		MHONLY LDA M1HDIR,X
   501 61CA 24 2A		 BIT TEMLOC
   502 61CC D0 F6		 BNE MHRZOK
   503 				;
   504 61CE AD 0A D2		 LDA RANDOM
   505 61D1 25 2A		 AND TEMLOC
   506 61D3 D0 02		 BNE UPTEST
   507 61D5 A5 2A		 LDA TEMLOC;RELOAD ORIGINAL
   508 61D7 4A			UPTEST LSR
   509 61D8 90 04		 BCC DNTEST
   510 61DA A9 01		 LDA #1
   511 61DC D0 10		 BNE SETMDR
   512 61DE 4A			DNTEST LSR
   513 61DF 90 04		 BCC LFTEST
   514 61E1 A9 02		 LDA #2
   515 61E3 D0 09		 BNE SETMDR
   516 61E5 4A			LFTEST LSR
   517 61E6 90 04		 BCC RTTEST
   518 61E8 A9 04		 LDA #4
   519 61EA D0 02		 BNE SETMDR
   520 61EC A9 08		RTTEST LDA #8
   521 61EE 95 8F		SETMDR STA M1DIRT,X
   522 61F0 B5 8F		SAMMDR LDA M1DIRT,X
   523 61F2 60			 RTS
   524 				;
   525 61F3 B5 85		SEEPAC LDA M1VPOS,X
   526 61F5 C5 89		 CMP PMVPOS
   527 61F7 F0 07		 BEQ SEEVRT
   528 61F9 B5 8A		 LDA M1HPOS,X
   529 61FB C5 8E		 CMP PMHPOS
   530 61FD F0 46		 BEQ SEEHRZ
   531 61FF 60			 RTS
   532 6200 A0 09		SEEVRT LDY #9
   533 6202 B9 C6 66		SEEVRL LDA VTABLE,Y
   534 6205 C5 89		 CMP PMVPOS
   535 6207 F0 04		 BEQ SEEVR1
   536 6209 88			 DEY
   537 620A 10 F6		 BPL SEEVRL
   538 620C 60			SEEVRX RTS
   539 620D B5 8A		SEEVR1 LDA M1HPOS,X
   540 620F C5 8E		 CMP PMHPOS
   541 6211 B0 19		 BCS SEELFT
   542 6213 B5 8F		SEERGT LDA M1DIRT,X
   543 6215 C9 08		 CMP #8
   544 6217 D0 F3		 BNE SEEVRX
   545 6219 B9 FB 66		SEERT1 LDA HWALLS,Y
   546 621C C9 FF		 CMP #$FF
   547 621E F0 69		 BEQ SEECHS
   548 6220 D5 8A		 CMP M1HPOS,X
   549 6222 B0 03		 BCS SEERT2
   550 6224 C8			 INY
   551 6225 D0 F2		 BNE SEERT1
   552 6227 C5 8E		SEERT2 CMP PMHPOS
   553 6229 B0 5E		 BCS SEECHS
   554 622B 60			 RTS
   555 				;
   556 622C B5 8F		SEELFT LDA M1DIRT,X
   557 622E C9 04		 CMP #4
   558 6230 D0 DA		 BNE SEEVRX
   559 6232 B9 FB 66		SEELF1 LDA HWALLS,Y
   560 6235 C9 FF		 CMP #$FF
   561 6237 F0 50		 BEQ SEECHS
   562 6239 C5 8E		 CMP PMHPOS
   563 623B B0 03		 BCS SEELF2
   564 623D C8			 INY
   565 623E D0 F2		 BNE SEELF1
   566 6240 D5 8A		SEELF2 CMP M1HPOS,X
   567 6242 B0 45		 BCS SEECHS
   568 6244 60			 RTS
   569 				;
   570 6245 A0 09		SEEHRZ LDY #9
   571 6247 B9 D0 66		SEEHRL LDA HTABLE,Y
   572 624A C5 8E		 CMP PMHPOS
   573 624C F0 04		 BEQ SEEHR1
   574 624E 88			 DEY
   575 624F 10 F6		 BPL SEEHRL
   576 6251 60			SEEHRX RTS
   577 6252 B5 85		SEEHR1 LDA M1VPOS,X
   578 6254 C5 89		 CMP PMVPOS
   579 6256 90 19		 BCC SEEDWN
   580 				;
   581 6258 B5 8F		SEEUPP LDA M1DIRT,X
   582 625A C9 01		 CMP #1
   583 625C D0 F3		 BNE SEEHRX
   584 625E B9 1B 67		SEEUP1 LDA VWALLS,Y
   585 6261 C9 FF		 CMP #$FF
   586 6263 F0 24		 BEQ SEECHS
   587 6265 C5 89		 CMP PMVPOS
   588 6267 B0 03		 BCS SEEUP2
   589 6269 C8			 INY
   590 626A D0 F2		 BNE SEEUP1
   591 626C D5 85		SEEUP2 CMP M1VPOS,X
   592 626E B0 19		 BCS SEECHS
   593 6270 60			 RTS
   594 				;
   595 6271 B5 8F		SEEDWN LDA M1DIRT,X
   596 6273 C9 02		 CMP #2
   597 6275 D0 DA		 BNE SEEHRX
   598 6277 B9 1B 67		SEEDN1 LDA VWALLS,Y
   599 627A C9 FF		 CMP #$FF
   600 627C F0 0B		 BEQ SEECHS
   601 627E D5 85		 CMP M1VPOS,X
   602 6280 B0 03		 BCS SEEDN2
   603 6282 C8			 INY
   604 6283 D0 F2		 BNE SEEDN1
   605 6285 C5 89		SEEDN2 CMP PMVPOS
   606 6287 90 10		 BCC SEECHX
   607 				;
   608 6289 E0 02		SEECHS CPX #2
   609 628B D0 04		 BNE STRCHS
   610 628D A5 14		 LDA RTCLOK+2
   611 628F 30 08		 BMI SEECHX
   612 6291 A9 02		STRCHS LDA #2
   613 6293 95 CE		 STA M1STAT,X
   614 6295 A9 A0		 LDA #$A0
   615 6297 85 AD		 STA CHASET
   616 6299 60			SEECHX RTS
   617 				;
   618 				; INTERMISSION CODE
   619 				;
   620 629A A6 2B		INTMIS LDX PLYNUM
   621 629C B5 30		 LDA MAZCT1,X
   622 629E A2 00		 LDX #$00
   623 62A0 C9 01		 CMP #$01
   624 62A2 F0 17		 BEQ L7221
   625 62A4 E8			 INX 
   626 62A5 E8			 INX 
   627 62A6 C9 04		 CMP #$04
   628 62A8 F0 11		 BEQ L7221
   629 62AA E8			 INX 
   630 62AB E8			 INX 
   631 62AC C9 08		 CMP #$08
   632 62AE F0 0B		 BEQ L7221
   633 62B0 C9 0C		 CMP #$0C
   634 62B2 F0 07		 BEQ L7221
   635 62B4 C9 10		 CMP #$10
   636 62B6 F0 03		 BEQ L7221
   637 62B8 4C 46 64		 JMP L73AA
   638 62BB 8E C0 06		L7221 STX INTMOD
   639 62BE A9 FF		 LDA #$FF
   640 62C0 85 62		 STA INTCNT
   641 62C2 A5 62		L7228 LDA INTCNT
   642 62C4 D0 FC		 BNE L7228
   643 62C6 A2 1C		 LDX #$1C
   644 62C8 BD 9F 47		L722E LDA INTDLC,X
   645 62CB 9D 80 06		 STA INTRDL,X
   646 62CE CA			 DEX 
   647 62CF 10 F7		 BPL L722E
   648 62D1 A9 BA		 LDA #INDLI1&255
   649 62D3 8D 00 02		 STA VDSLST
   650 62D6 A9 65		 LDA #INDLI1/256
   651 62D8 8D 01 02		 STA VDSLST+1
   652 62DB A9 80		 LDA #INTRDL&255
   653 62DD 8D 30 02		 STA SDLSTL
   654 62E0 8D 02 D4		 STA DLISTL
   655 62E3 A9 06		 LDA #INTRDL/256
   656 62E5 8D 31 02		 STA SDLSTH
   657 62E8 8D 03 D4		 STA DLISTH
   658 62EB A2 03		 LDX #$03
   659 62ED 9D 04 D0		L7251 STA HPOSM0,X
   660 62F0 CA			 DEX 
   661 62F1 10 FA		 BPL L7251
   662 62F3 20 FD 65		L7257 JSR INITPT
   663 62F6 AE C0 06		 LDX INTMOD
   664 62F9 BD B5 6C		 LDA L756B,X
   665 62FC A8			 TAY 
   666 62FD A2 15		 LDX #$15
   667 62FF B9 BB 6C		L7263 LDA L7571,Y
   668 6302 9D 00 2B		 STA PMADDR+$300,X
   669 6305 88			 DEY 
   670 6306 CA			 DEX 
   671 6307 10 F6		 BPL L7263
   672 6309 AD C0 06		 LDA INTMOD
   673 630C C9 03		 CMP #$03
   674 630E D0 09		 BNE L727D
   675 6310 AD C1 06		 LDA INTSEQ
   676 6313 8D 1A 2B		 STA PMADDR+$31A
   677 6316 4C 3D 63		 JMP L72A1
   678 6319 6A			L727D ROR
   679 631A 90 08		 BCC L7288
   680 631C A9 2C		 LDA #$2C
   681 631E A2 7C		 LDX #$7C
   682 6320 A0 CC		 LDY #$CC
   683 6322 D0 0B		 BNE L7293
   684 6324 A9 FF		L7288 LDA #$FF
   685 6326 8D 18 2B		 STA PMADDR+$318
   686 6329 A9 00		 LDA #$00
   687 632B A2 50		 LDX #$50
   688 632D A0 A0		 LDY #$A0
   689 632F 8D 92 06		L7293 STA INTRDL+$12
   690 6332 8E 95 06		 STX INTRDL+$15
   691 6335 8C 98 06		 STY INTRDL+$18
   692 6338 A9 00		 LDA #$00
   693 633A 8D 04 D4		 STA HSCROL
   694 633D A9 FF		L72A1 LDA #$FF
   695 633F 85 63		 STA INTCLK
   696 6341 A9 FF		L72A5 LDA #$FF
   697 6343 85 62		 STA INTCNT
   698 6345 A5 62		L72A9 LDA INTCNT
   699 6347 D0 FC		 BNE L72A9
   700 6349 A9 FF		 LDA #$FF
   701 634B 85 62		 STA INTCNT
   702 634D AD 12 2B		 LDA PMADDR+$312
   703 6350 8D C1 06		 STA INTSEQ
   704 6353 20 81 64		 JSR L73E3
   705 6356 AD 17 2B		 LDA PMADDR+$317
   706 6359 CD 0D 2B		 CMP PMADDR+$30D
   707 635C B0 03		 BCS L72C5
   708 635E 4C E2 63		 JMP L7346
   709 6361 AD C0 06		L72C5 LDA INTMOD
   710 6364 C9 03		 CMP #$03
   711 6366 D0 1D		 BNE L72E9
   712 6368 AD 1E 2B		 LDA PMADDR+$31E
   713 636B C9 13		 CMP #$13
   714 636D F0 03		 BEQ L72D6
   715 636F 4C 01 64		 JMP L7365
   716
   717 6372			L72D6
   718
   719 6372			 org $6372
   720
   721 				 .if VERSION=ORIGINAL 
   722 6372 A9 8F		   LDA #$8F
   723 6374 8D 14 2B		   STA PMADDR+$314
   724 6377 A9 78		   LDA #$78
   725 6379 8D 15 2B		   STA PMADDR+$315
   726 				 .elseif VERSION=ROKLAN 
   727 				   LDA #$D9
   728 				   STA PMADDR+$314
   729 				   LDA #$6F
   730 				   STA PMADDR+$315
   731 				 .elseif VERSION=ATARI82
   732 				   LDA #$D9
   733 				   STA PMADDR+$314
   734 				   LDA #$6F
   735 				   STA PMADDR+$315
   736 				 .else
   737 				   .error "Invalid version ", VERSION
   738 				 .endif
   739 				 
   740 637C A9 00		 LDA #$00
   741 637E AA			 TAX 
   742 637F 20 08 65		 JSR L746A
   743 6382 4C 41 63		 JMP L72A5
   744 6385 C9 02		L72E9 CMP #$02
   745 6387 D0 51		 BNE L733E
   746 6389 AD 1F 2B		 LDA PMADDR+$31F
   747 638C F0 27		 BEQ L7319
   748 638E 20 95 65		 JSR L74F7
   749 6391 A2 01		 LDX #$01
   750 6393 20 E9 64		 JSR L744B
   751 6396 AD 20 2B		 LDA PMADDR+$320
   752 6399 C9 07		 CMP #$07
   753 639B F0 64		 BEQ L7365
   754 639D AD 05 2B		 LDA PMADDR+$305
   755 63A0 18			 CLC 
   756 63A1 6D 07 2B		 ADC PMADDR+$307
   757 63A4 8D 07 2B		 STA PMADDR+$307
   758 63A7 90 98		 BCC L72A5
   759 63A9 20 BB 64		 JSR L741D
   760 63AC 20 0E 65		 JSR L7470
   761 63AF EE 20 2B		 INC PMADDR+$320
   762 63B2 4C 41 63		 JMP L72A5
   763 63B5 AD 1B 2B		L7319 LDA PMADDR+$31B
   764 63B8 C9 13		 CMP #$13
   765 63BA D0 1E		 BNE L733E
   766 63BC A9 01		 LDA #$01
   767 63BE 8D 1F 2B		 STA PMADDR+$31F
   768 63C1 A0 18		 LDY #$18
   769 63C3 B9 3F 6D		L7327 LDA L75F5,Y
   770 63C6 99 00 2B		 STA PMADDR+$300,Y
   771 63C9 88			 DEY 
   772 63CA 10 F7		 BPL L7327
   773 63CC A9 00		 LDA #$00
   774 63CE 8D 1C 2B		 STA PMADDR+$31C
   775 63D1 AD C1 06		 LDA INTSEQ
   776 63D4 8D 12 2B		 STA PMADDR+$312
   777 63D7 4C E2 63		 JMP L7346
   778 63DA 20 AF 64		L733E JSR L7411
   779 63DD A2 00		 LDX #$00
   780 63DF 20 E9 64		 JSR L744B
   781 63E2 AD 10 2B		L7346 LDA PMADDR+$310
   782 63E5 F0 10		 BEQ L735B
   783 63E7 AD 17 2B		 LDA PMADDR+$317
   784 63EA CD 0E 2B		 CMP PMADDR+$30E
   785 63ED 90 08		 BCC L735B
   786 63EF 20 95 65		 JSR L74F7
   787 63F2 A2 01		 LDX #$01
   788 63F4 20 E9 64		 JSR L744B
   789 63F7 AD 17 2B		L735B LDA PMADDR+$317
   790 63FA C9 FF		 CMP #$FF
   791 63FC F0 03		 BEQ L7365
   792 63FE EE 17 2B		 INC PMADDR+$317
   793 6401 AD 1E 2B		L7365 LDA PMADDR+$31E
   794 6404 C9 3C		 CMP #$3C
   795 6406 F0 03		 BEQ L736F
   796 6408 4C 41 63		 JMP L72A5
   797 640B EE C0 06		L736F INC INTMOD
   798 640E AD C0 06		 LDA INTMOD
   799 6411 C9 03		 CMP #$03
   800 6413 D0 23		 BNE L739C
   801 6415 20 BB 64		 JSR L741D
   802 6418 20 BB 64		 JSR L741D
   803 641B A9 C4		 LDA #L787A&255
   804 641D 8D 14 2B		 STA PMADDR+$314
   805 6420 A9 6F		 LDA #L787A/256
   806 6422 8D 15 2B		 STA PMADDR+$315
   807 6425 A9 06		 LDA #$06
   808 6427 8D 0F 2B		 STA PMADDR+$30F
   809 642A A9 00		 LDA #$00
   810 642C AA			 TAX 
   811 642D 20 08 65		 JSR L746A
   812 6430 A9 01		 LDA #$01
   813 6432 8D 1E 2B		 STA PMADDR+$31E
   814 6435 4C 41 63		 JMP L72A5
   815 6438 6A			L739C ROR
   816 6439 90 03		 BCC L73A2
   817 643B 4C F3 62		 JMP L7257
   818 643E A9 FF		L73A2 LDA #$FF
   819 6440 85 62		 STA INTCNT
   820 6442 A5 62		L73A6 LDA INTCNT
   821 6444 D0 FC		 BNE L73A6
   822 6446 20 EC 65		L73AA JSR SETNUL
   823 6449 20 FD 65		 JSR INITPT
   824 644C A9 FF		 LDA #$FF
   825 644E 85 62		 STA INTCNT
   826 6450 A5 62		L73B4 LDA INTCNT
   827 6452 D0 FC		 BNE L73B4
   828 6454 A9 00		 LDA #$00
   829 6456 8D 0E D4		 STA NMIEN
   830 6459 8D 0E D2		 STA IRQEN
   831 645C A9 52		 LDA #DLIST&255
   832 645E 8D 30 02		 STA SDLSTL
   833 6461 8D 02 D4		 STA DLISTL
   834 6464 A9 47		 LDA #DLIST/256
   835 6466 8D 31 02		 STA SDLSTH
   836 6469 8D 03 D4		 STA DLISTH
   837 646C A9 6E		 LDA #DLIV&255
   838 646E 8D 00 02		 STA VDSLST
   839 6471 A9 49		 LDA #DLIV/256
   840 6473 8D 01 02		 STA VDSLST+1
   841 6476 A9 C0		 LDA #$C0
   842 6478 8D 0E D4		 STA NMIEN
   843 647B A9 40		 LDA #$40
   844 647D 8D 0E D2		 STA IRQEN
   845 6480 60			 RTS 
   846 				;
   847 6481 A5 63		L73E3 LDA INTCLK
   848 6483 C9 04		 CMP #$04
   849 6485 90 25		 BCC L740E
   850 6487 AD 1E 2B		 LDA PMADDR+$31E
   851 648A 0A			 ASL
   852 648B 0A			 ASL
   853 648C AA			 TAX 
   854 648D BD 84 70		 LDA IMUSIC,X
   855 6490 8D 00 D2		 STA AUDF1
   856 6493 BD 85 70		 LDA IMUSIC+1,X
   857 6496 8D 01 D2		 STA AUDC1
   858 6499 BD 86 70		 LDA IMUSIC+2,X
   859 649C 8D 02 D2		 STA AUDF2
   860 649F BD 87 70		 LDA IMUSIC+3,X
   861 64A2 8D 03 D2		 STA AUDC2
   862 64A5 EE 1E 2B		 INC PMADDR+$31E
   863 64A8 A9 FF		 LDA #$FF
   864 64AA 85 63		 STA INTCLK
   865 64AC E6 63		L740E INC INTCLK
   866 64AE 60			 RTS 
   867 64AF AD 03 2B		L7411 LDA PMADDR+$303
   868 64B2 18			 CLC 
   869 64B3 6D 18 2B		 ADC PMADDR+$318
   870 64B6 8D 18 2B		 STA PMADDR+$318
   871 64B9 90 2D		 BCC L744A
   872 64BB AD 1A 2B		L741D LDA PMADDR+$31A
   873 64BE 29 03		 AND #$03
   874 64C0 AA			 TAX 
   875 64C1 4D 00 2B		 EOR PMADDR+$300
   876 64C4 8D 04 D4		 STA HSCROL
   877 64C7 8A			 TXA 
   878 64C8 D0 1B		 BNE L7447
   879 64CA A2 06		 LDX #$06
   880 64CC BD 92 06		L742E LDA INTRDL+$12,X
   881 64CF 18			 CLC 
   882 64D0 6D 02 2B		 ADC PMADDR+$302
   883 64D3 9D 92 06		 STA INTRDL+$12,X
   884 64D6 C9 FF		 CMP #$FF
   885 64D8 D0 03		 BNE L743F
   886 64DA DE 93 06		 DEC INTRDL+$13,X
   887 64DD CA			L743F DEX 
   888 64DE CA			 DEX 
   889 64DF CA			 DEX 
   890 64E0 10 EA		 BPL L742E
   891 64E2 EE 1B 2B		 INC PMADDR+$31B
   892 64E5 EE 1A 2B		L7447 INC PMADDR+$31A
   893 64E8 60			L744A RTS 
   894 64E9 BD 07 2B		L744B LDA PMADDR+$307,X
   895 64EC 18			 CLC 
   896 64ED 7D 05 2B		 ADC PMADDR+$305,X
   897 64F0 9D 07 2B		 STA PMADDR+$307,X
   898 64F3 90 55		 BCC L74AC
   899 64F5 FE 09 2B		 INC PMADDR+$309,X
   900 64F8 BD 09 2B		 LDA PMADDR+$309,X
   901 64FB DD 0B 2B		 CMP PMADDR+$30B,X
   902 64FE 90 0B		 BCC L746D
   903 6500 A9 00		 LDA #$00
   904 6502 9D 09 2B		 STA PMADDR+$309,X
   905 6505 8A			 TXA 
   906 6506 D0 03		 BNE L746D
   907 6508 8D 1C 2B		L746A STA PMADDR+$31C
   908 650B 8A			L746D TXA 
   909 650C D0 3D		 BNE L74AD
   910 650E A9 2C		L7470 LDA #$2C
   911 6510 2C 01 2B		 BIT PMADDR+$301
   912 6513 30 06		 BMI L747D
   913 6515 A9 28		 LDA #$28
   914 6517 38			 SEC 
   915 6518 ED 0F 2B		 SBC PMADDR+$30F
   916 651B AA			L747D TAX 
   917 651C AD 0F 2B		 LDA PMADDR+$30F
   918 651F 8D 16 2B		 STA PMADDR+$316
   919 6522 AC 1C 2B		 LDY PMADDR+$31C
   920 6525 AD 14 2B		 LDA PMADDR+$314
   921 6528 85 3C		 STA PIXGET
   922 652A AD 15 2B		 LDA PMADDR+$315
   923 652D 85 3D		 STA PIXGET+1
   924 652F B1 3C		L7491 LDA (PIXGET),Y
   925 6531 9D 00 2C		 STA PMADDR+$400,X
   926 6534 C8			 INY 
   927 6535 B1 3C		 LDA (PIXGET),Y
   928 6537 9D 50 2C		 STA PMADDR+$450,X
   929 653A C8			 INY 
   930 653B B1 3C		 LDA (PIXGET),Y
   931 653D 9D A0 2C		 STA PMADDR+$4A0,X
   932 6540 C8			 INY 
   933 6541 E8			 INX 
   934 6542 CE 16 2B		 DEC PMADDR+$316
   935 6545 D0 E8		 BNE L7491
   936 6547 8C 1C 2B		 STY PMADDR+$31C
   937 654A 60			L74AC RTS 
   938 654B A9 2D		L74AD LDA #PMADDR/256+5
   939 654D 85 3F		 STA PIXPUT+1
   940 654F AD 13 2B		 LDA PMADDR+$313
   941 6552 85 3E		 STA PIXPUT
   942 6554 AD 0A 2B		 LDA PMADDR+$30A
   943 6557 0A			 ASL
   944 6558 A8			 TAY 
   945 6559 AE C0 06		 LDX INTMOD
   946 655C E0 01		 CPX #$01
   947 655E F0 09		 BEQ L74CB
   948 6560 B9 58 6D		 LDA L760E,Y
   949 6563 BE 59 6D		 LDX L760E+1,Y
   950 6566 4C 6F 65		 JMP L74D1
   951 6569 B9 64 6D		L74CB LDA L761A,Y
   952 656C BE 65 6D		 LDX L761A+1,Y
   953 656F 85 3C		L74D1 STA PIXGET
   954 6571 86 3D		 STX PIXGET+1
   955 6573 AE 10 2B		 LDX PMADDR+$310
   956 6576 AC 11 2B		L74D8 LDY PMADDR+$311
   957 6579 88			 DEY 
   958 657A B1 3C		L74DC LDA (PIXGET),Y
   959 657C 91 3E		 STA (PIXPUT),Y
   960 657E 88			 DEY 
   961 657F 10 F9		 BPL L74DC
   962 6581 CA			 DEX 
   963 6582 F0 C6		 BEQ L74AC
   964 6584 A5 3C		 LDA PIXGET
   965 6586 18			 CLC 
   966 6587 6D 11 2B		 ADC PMADDR+$311
   967 658A 85 3C		 STA PIXGET
   968 658C 90 02		 BCC L74F2
   969 658E E6 3D		 INC PIXGET+1
   970 6590 E6 3F		L74F2 INC PIXPUT+1
   971 6592 4C 76 65		 JMP L74D8
   972 6595 AD 04 2B		L74F7 LDA PMADDR+$304
   973 6598 18			 CLC 
   974 6599 6D 19 2B		 ADC PMADDR+$319
   975 659C 8D 19 2B		 STA PMADDR+$319
   976 659F 90 18		 BCC L751B
   977 65A1 AD 12 2B		 LDA PMADDR+$312
   978 65A4 38			 SEC 
   979 65A5 ED 02 2B		 SBC PMADDR+$302
   980 65A8 8D 12 2B		 STA PMADDR+$312
   981 65AB A2 00		 LDX #$00
   982 65AD 9D 01 D0		L750F STA HPOSP1,X
   983 65B0 18			 CLC 
   984 65B1 69 08		 ADC #$08
   985 65B3 E8			 INX 
   986 65B4 EC 10 2B		 CPX PMADDR+$310
   987 65B7 D0 F4		 BNE L750F
   988 65B9 60			L751B RTS 
   989 				;
   990 65BA 48			INDLI1 PHA 
   991 65BB 8A			 TXA 
   992 65BC 48			 PHA 
   993 65BD A9 74		 LDA #ICHARS/256
   994 65BF 8D 09 D4		 STA CHBASE
   995 65C2 A9 2A		 LDA #$2A
   996 65C4 8D 13 D0		 STA COLPM1
   997 65C7 8D 14 D0		 STA COLPM2
   998 65CA 8D 15 D0		 STA COLPM3
   999 65CD AE C0 06		 LDX INTMOD
  1000 65D0 BD 6C 70		 LDA ICOLR0,X
  1001 65D3 8D 16 D0		 STA COLPF0
  1002 65D6 BD 72 70		 LDA ICOLR1,X
  1003 65D9 8D 17 D0		 STA COLPF1
  1004 65DC BD 78 70		 LDA ICOLR2,X
  1005 65DF 8D 18 D0		 STA COLPF2
  1006 65E2 BD 7E 70		 LDA ICOLR3,X
  1007 65E5 8D 19 D0		 STA COLPF3
  1008 65E8 68			 PLA 
  1009 65E9 AA			 TAX 
  1010 65EA 68			 PLA 
  1011 65EB 40			 RTI
  1012 				;
  1013 65EC A9 99		SETNUL LDA #NULLDL&255
  1014 65EE 8D 30 02		 STA SDLSTL
  1015 65F1 8D 02 D4		 STA DLISTL
  1016 65F4 A9 47		 LDA #NULLDL/256
  1017 65F6 8D 31 02		 STA SDLSTH
  1018 65F9 8D 03 D4		 STA DLISTH
  1019 65FC 60			 RTS
  1020 				;
  1021 65FD A2 00		INITPT LDX #0
  1022 65FF 8A			 TXA
  1023 6600 4C C1 58		 JMP INITPL
  1024 				;
   637 				; EJECT
   638
   639 6603			  ICL "PACDAT2.ASM"
Source: D:\!Delphi\mads\examples\pacman\PACDAT2.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;
     4 				; PAC-MAN MONSTER DATA
     5 				;
     6 				; MONSTER UP
     7 				;
     8 6603 38 7C D6 D6 D6 FE	MONSUP  .BY $38,$7C,$D6,$D6,$D6,$FE
     9 6609 FE FE FE FE		  .BY $FE,$FE,$FE,$FE
    10 				;
    11 				; MONSTER DOWN
    12 				;
    13 660D 38 7C FE FE FE FE	MONSDN  .BY $38,$7C,$FE,$FE,$FE,$FE
    14 6613 D6 D6 D6 FE		  .BY $D6,$D6,$D6,$FE
    15 				;
    16 				; MONSTER LEFT
    17 				;
    18 6617 38 7C FE FE AE AE	MONSLF  .BY $38,$7C,$FE,$FE,$AE,$AE
    19 661D AE FE FE FE		  .BY $AE,$FE,$FE,$FE
    20 				;
    21 				; MONSTER RIGHT
    22 				;
    23 6621 38 7C FE FE EA EA	MONSRT  .BY $38,$7C,$FE,$FE,$EA,$EA
    24 6627 EA FE FE FE		  .BY $EA,$FE,$FE,$FE
    25 				;
    26 				; MONSTER FLIGHT
    27 				;
    28 662B 38 7C FE D6 D6 D6	MONSFL  .BY $38,$7C,$FE,$D6,$D6,$D6
    29 6631 FE D6 AA FE		  .BY $FE,$D6,$AA,$FE
    30 				;
    31 				; MONSTER EYES
    32 				;
    33 6635 00 00 00 28 28 28	MONSEY  .BY $00,$00,$00,$28,$28,$28
    34 663B 00 00 00 00		  .BY $00,$00,$00,$00
    35 				;
    36 				; **** PACMAN SHAPE DATA ****
    37 				;
    38 				; PACMAN NOT MOVING
    39 				;
    40 663F 38 7C FE FE FE	PACDOT  .BY $38,$7C,$FE,$FE,$FE
    41 6644 FE FE FE 7C 38	  .BY $FE,$FE,$FE,$7C,$38
    42 				;
    43 				;PACMAN RIGHT
    44 				;
    45 6649 38 7C FE F8 E0	PACRGT  .BY $38,$7C,$FE,$F8,$E0
    46 664E E0 F8 FE 7C 38	  .BY $E0,$F8,$FE,$7C,$38
    47 				;
    48 6653 38 7C F8 F0 E0	  .BY $38,$7C,$F8,$F0,$E0
    49 6658 E0 F0 F8 7C 38	  .BY $E0,$F0,$F8,$7C,$38
    50 				;
    51 				;PACMAN LEFT
    52 				;
    53 665D 38 7C FE 3E 0E	PACLFT  .BY $38,$7C,$FE,$3E,$0E
    54 6662 0E 3E FE 7C 38	  .BY $0E,$3E,$FE,$7C,$38
    55 				;
    56 6667 38 7C 3E 1E 0E	  .BY $38,$7C,$3E,$1E,$0E
    57 666C 0E 1E 3E 7C 38	  .BY $0E,$1E,$3E,$7C,$38
    58 				;
    59 				;PACMAN UP
    60 				;
    61 6671 00 44 C6 C6 EE	PACTOP  .BY $00,$44,$C6,$C6,$EE
    62 6676 EE FE FE 7C 38	  .BY $EE,$FE,$FE,$7C,$38
    63 				;
    64 667B 00 00 82 C6 EE	PACDIE  .BY $00,$00,$82,$C6,$EE
    65 6680 EE FE FE 7C 38	  .BY $EE,$FE,$FE,$7C,$38
    66 				;
    67 				;PACMAN DOWN
    68 				;
    69 6685 38 7C FE FE EE	PACBOT  .BY $38,$7C,$FE,$FE,$EE
    70 668A EE C6 C6 44 00	  .BY $EE,$C6,$C6,$44,$00
    71 				;
    72 668F 38 7C FE FE EE	  .BY $38,$7C,$FE,$FE,$EE
    73 6694 EE C6 82 00		  .BY $EE,$C6,$82,$00
    74 				;
    75 6698 00 0A		PACIDX  .BY $00,$0A
    76 				;
    77 669A 00 82 00 C6 82 00 + FIZDAT  .BY $00,$82,$00,$C6,$82,$00,$7C
    78 66A1 38 10 7C 38 38 10 +   .BY $38,$10,$7C,$38,$38,$10,$10
    79 				;
    80 				;PACMAN DATA ADDRESS POINTERS
    81 				;
    82 66A8 3F 66 49 66 5D 66 + PACADD .WO PACDOT,PACRGT,PACLFT,PACTOP,PACBOT
    83 				;
    84 				; INITIALIZE SCREEN DATA
    85 				;
    86 66B2 93 16		INIDAT  .BY $93,(>PACMAZ)+2
    87 66B4 02 A6 7A 64 74 74 +   .BY $02,$A6,$7A,$64,$74,$74,$74,$A4
    88 66BC 7C 7C 70 88 7C 04 +   .BY $7C,$7C,$70,$88,$7C,$04,$02,$01
    89 66C4 01 04		  .BY $01,$04
    90 				;
    91 				; PAC-MAN MAZE DIRECTION DATA
    92 				;
    93 				; THIS DATA IS USED TO DETERMINE
    94 				; WHICH DIRECTIONS ARE PERMITTED
    95 				;
    96 66C6 2C 44 54 64 74 84 + VTABLE  .BY $2C,$44,$54,$64,$74,$84,$94,$A4,$B4,$C4
    97 66D0 3A 46 52 62 76 82 + HTABLE  .BY $3A,$46,$52,$62,$76,$82,$96,$A6,$B2,$BE
    98 				;
    99 				; HORIZONTAL TABLE ADDR POINTERS
   100 				;
   101 66DA 06 6A 10 6A 1A 6A + HTBADD .WO HTAB01,HTAB02,HTAB03,HTAB04,HTAB05
   102 66E4 38 6A 42 6A 4C 6A +  .WO HTAB06,HTAB07,HTAB08,HTAB09,HTAB10
   103 				;
   104 66EE 7C FF		HWALL1  .BY $7C,$FF
   105 66F0 58 7C 9E FF		HWALL2  .BY $58,$7C,$9E,$FF
   106 66F4 58 9E FF		HWALL3  .BY $58,$9E,$FF
   107 66F7 3C AC FF		HWALL4  .BY $3C,$AC,$FF
   108 66FA FF			HWALL5  .BY $FF
   109 				;
   110 66FB 00			HWALLS  .BY HWALL1-HWALL1
   111 66FC 0C			  .BY HWALL5-HWALL1
   112 66FD 02			  .BY HWALL2-HWALL1
   113 66FE 06			  .BY HWALL3-HWALL1
   114 66FF 00			  .BY HWALL1-HWALL1
   115 6700 06			  .BY HWALL3-HWALL1
   116 6701 00			  .BY HWALL1-HWALL1
   117 6702 09			  .BY HWALL4-HWALL1
   118 6703 02			  .BY HWALL2-HWALL1
   119 6704 0C			  .BY HWALL5-HWALL1
   120 				;
   121 6705 64 84 FF		VWALL1  .BY $64,$84,$FF
   122 6708 38 4C 64 84 9C BC + VWALL2  .BY $38,$4C,$64,$84,$9C,$BC,$FF
   123 670F 3C FF		VWALL3  .BY $3C,$FF
   124 6711 38 5C 9C BC FF	VWALL4  .BY $38,$5C,$9C,$BC,$FF
   125 6716 4C 74 8C AC FF	VWALL5  .BY $4C,$74,$8C,$AC,$FF
   126 				;
   127 671B 00			VWALLS  .BY VWALL1-VWALL1
   128 671C 03			  .BY VWALL2-VWALL1
   129 671D 0A			  .BY VWALL3-VWALL1
   130 671E 0C			  .BY VWALL4-VWALL1
   131 671F 11			  .BY VWALL5-VWALL1
   132 6720 11			  .BY VWALL5-VWALL1
   133 6721 0C			  .BY VWALL4-VWALL1
   134 6722 0A			  .BY VWALL3-VWALL1
   135 6723 03			  .BY VWALL2-VWALL1
   136 6724 00			  .BY VWALL1-VWALL1
   137 				;
   138 				  .if VERSION=ORIGINAL
   139 6725 44 4A D8 28 86 0C + COLORS  .BY $44,$4A,$D8,$28,$86,$0C,$00,$2A
   140 				  .elseif VERSION=ROKLAN
   141 				COLORS  .BY $44,$4A,$D8,$28,$86,$0C,$00,$2A
   142 				  .elseif VERSION=ATARI82
   143 				COLORS  .BY $44,$4A,$D8,$28,$82,$0C,$00,$2A
   144 				  .else
   145 				   .error "Invalid version ", VERSION
   146 				 .endif
   147 				;
   148 672D DA 0C 00 2A		OCOLOR  .BY $DA,$0C,$00,$2A
   149 				;
   150 6731 3A 44 2A DA		ACOLOR  .BY $3A,$44,$2A,$DA
   151 				;
   152 				; TIMER VALUES FOR BLUE MONSTERS
   153 6735 90 60 30 04 00 00	STARTV  .BY $90,$60,$30,$04,$00,$00
   154 				;
   155 673B FF C0 80 40 00	BLUTIM  .BY $FF,$C0,$80,$40,$00
   156 6740 C0 00 00 00 C0	  .BY $C0,$00,$00,$00,$C0
   157 6745 00 00 00 40 00	  .BY $00,$00,$00,$40,$00
   158 				;
   159 				; PACMAN EXPLOSION
   160 				;
   161 674A 00 00 00 00 00 92 + PACEXP  .BY $00,$00,$00,$00,$00,$92,$54,$00
   162 6752 C6 00 54 92		  .BY $C6,$00,$54,$92
   163 				;
   164 				; SCORE DATA FOR PACMAN EATING
   165 				; BLUE MONSTERS 200-400-800-1600
   166 				;
   167 				; RIGHT HALF OF ALL SCORES
   168 6756 00 00 00 00 C6 29 + BLUSC0  .BY $00,$00,$00,$00,$C6,$29,$29,$29,$29,$29,$C6,$00
   169 				; LEFT HALF OF "200"
   170 6762 00 00 00 00 38 45 + BLUSC1  .BY $00,$00,$00,$00,$38,$45,$05,$19,$21,$41,$7C,$00
   171 				; LEFT HALF OF "400"
   172 676E 00 00 00 00 08 19 + BLUSC2  .BY $00,$00,$00,$00,$08,$19,$29,$49,$7D,$09,$08,$00
   173 				; LEFT HALF OF "800"
   174 677A 00 00 00 00 38 45 + BLUSC3  .BY $00,$00,$00,$00,$38,$45,$45,$39,$45,$45,$38,$00
   175 				; LEFT HALF OF "1600"
   176 6786 00 00 00 00 8C 91 + BLUSC4  .BY $00,$00,$00,$00,$8C,$91,$A1,$B9,$A5,$A5,$98,$00,$00
   177 				;
   178 				; HI NOTES FOR INTRO
   179 				;
   180 6793 00 00 00 3C 00 51 + HINOT1  .BY $00,$00,$00,$3C,$00,$51,$00,$60
   181 679B 00 3C 51 00 00 60 +   .BY $00,$3C,$51,$00,$00,$60,$60,$00
   182 67A3 00 00 00 39 00 4C +   .BY $00,$00,$00,$39,$00,$4C,$00,$5B
   183 67AB 00 39 4C 00 00 5B +   .BY $00,$39,$4C,$00,$00,$5B,$5B,$00
   184 67B3 00 00 00 3C 00 51 +   .BY $00,$00,$00,$3C,$00,$51,$00,$60
   185 67BB 00 3C 51 00 00 60 +   .BY $00,$3C,$51,$00,$00,$60,$60,$00
   186 67C3 00 60 5B 55 00 55 +   .BY $00,$60,$5B,$55,$00,$55,$51,$4C
   187 67CB 00 4C 48 44 00 3C +   .BY $00,$4C,$48,$44,$00,$3C,$3C,$00
   188 				;
   189 				; LO NOTES FOR INTRO
   190 				;
   191 67D3 A2 F3 F3 F3 00 00 + LONOT1  .BY $A2,$F3,$F3,$F3,$00,$00,$00,$00
   192 67DB A2 F3 F3 F3 00 00 +   .BY $A2,$F3,$F3,$F3,$00,$00,$00,$00
   193 67E3 99 E6 E6 E6 00 00 +   .BY $99,$E6,$E6,$E6,$00,$00,$00,$00
   194 67EB 99 E6 E6 E6 00 00 +   .BY $99,$E6,$E6,$E6,$00,$00,$00,$00
   195 67F3 A2 F3 F3 F3 00 00 +   .BY $A2,$F3,$F3,$F3,$00,$00,$00,$00
   196 67FB A2 F3 F3 F3 00 00 +   .BY $A2,$F3,$F3,$F3,$00,$00,$00,$00
   197 6803 A2 C1 00 00 00 AD +   .BY $A2,$C1,$00,$00,$00,$AD,$00,$00
   198 680B 00 99 00 00 00 79 +   .BY $00,$99,$00,$00,$00,$79,$79,$00
   199 				;
   200 				; ADDRESS POINTERS FOR BLUE SCORES
   201 				;
   202 6813 62 67 6E 67 7A 67 + BLSADD .WO BLUSC1,BLUSC2,BLUSC3,BLUSC4
   203 				;
   204 				;
   205 				; EATING DOTS SOUND FREQ DATA
   206 				;
   207
   208 				  .if VERSION=ORIGINAL
   209 681B 52 4D 48 43 3E 39 + E1DATA  .BY $52,$4D,$48,$43,$3E,$39,$00
   210 6822 39 43 4D 57 61 6B + E2DATA  .BY $39,$43,$4D,$57,$61,$6B,$00
   211 				  .elseif VERSION=ROKLAN
   212 				E1DATA  .BY $52,$4D,$48,$43,$3E,$39,$00
   213 				E2DATA  .BY $39,$43,$4D,$57,$61,$6B,$00
   214 				  .elseif VERSION=ATARI82
   215 				E1DATA  .BY $23,$1E,$16,$14,$0C,$0A,$00
   216 				E2DATA  .BY $0A,$0C,$12,$14,$16,$1E,$00
   217 				  .else
   218 				   .error "Invalid version ", VERSION
   219 				 .endif
   220
   221 				;
   222 6829 7E 6A 8B 6A 93 6A + STRADD .WO  REDSTR,PNKSTR,GRNSTR,YELSTR
   223 				;
   224 				; PATTERN START HPOS & VPOS
   225 				;
   226 				; #1
   227 6831 96 A4		PTRNHV  .BY $96,$A4
   228 				; #2
   229 6833 62 74		  .BY $62,$74
   230 				; #3
   231 6835 82 64		  .BY $82,$64
   232 				; #4
   233 6837 62 64		  .BY $62,$64
   234 				; #5
   235 6839 62 94		  .BY $62,$94
   236 				; #6
   237 683B 52 74		  .BY $52,$74
   238 				; #7
   239 683D 96 94		  .BY $96,$94
   240 				; #8
   241 683F A6 74		  .BY $A6,$74
   242 				; #9
   243 6841 96 54		  .BY $96,$54
   244 				; #10
   245 6843 52 B4		  .BY $52,$B4
   246 				; #11
   247 6845 BE C4		  .BY $BE,$C4
   248 				; #12
   249 6847 82 44		  .BY $82,$44
   250 				; #13
   251 6849 52 A4		  .BY $52,$A4
   252 				; #14
   253 684B B2 B4		  .BY $B2,$B4
   254 				; #15
   255 684D 82 44		  .BY $82,$44
   256 				; #16
   257 684F 52 44		  .BY $52,$44
   258 				;
   259 				; HOME CORNER HPOS AND VPOS
   260 				;
   261 6851 BE 2C		HOMEHV  .BY $BE,$2C
   262 6853 3A 2C		  .BY $3A,$2C
   263 6855 BE C4		  .BY $BE,$C4
   264 6857 3A C4		  .BY $3A,$C4
   265 				;
   266 				; PATTERN INDEX VALUES
   267 				;
   268 6859 00			PTNIDX  .BY PTRN01-PTRN01
   269 685A 0B			  .BY PTRN02-PTRN01
   270 685B 16			  .BY PTRN03-PTRN01
   271 685C 21			  .BY PTRN04-PTRN01
   272 685D 2C			  .BY PTRN05-PTRN01
   273 685E 33			  .BY PTRN06-PTRN01
   274 685F 3A			  .BY PTRN07-PTRN01
   275 6860 41			  .BY PTRN08-PTRN01
   276 6861 48			  .BY PTRN09-PTRN01
   277 6862 53			  .BY PTRN10-PTRN01
   278 6863 60			  .BY PTRN11-PTRN01
   279 6864 6D			  .BY PTRN12-PTRN01
   280 6865 80			  .BY PTRN13-PTRN01
   281 6866 99			  .BY PTRN14-PTRN01
   282 6867 B6			  .BY PTRN15-PTRN01
   283 6868 C9			  .BY PTRN16-PTRN01
   284 				;
   285 				; FRUIT CHARS FOR SCREEN
   286 				;
   287 6869 3A 3C 3E 3E 40 40	FRUCHR  .BY $3A,$3C,$3E,$3E,$40,$40
   288 686F 42 42 46 46 4A 4A	  .BY $42,$42,$46,$46,$4A,$4A
   289 				;
   290 				; FRUIT DATA FOR FRUIT LINE
   291 				; WHEN MAZCNT > 5
   292 				;
   293 6875 4C 4C 4C 4C 4C 4C	  .BY $4C,$4C,$4C,$4C,$4C,$4C
   294 687B 4C 4A 4A 48 48 44	  .BY $4C,$4A,$4A,$48,$48,$44
   295 6881 44 40 40 3E 3E 3C + HIFRUT  .BY $44,$40,$40,$3E,$3E,$3C,$3A
   296 				;
   297 				; PACMAN SPEEDS - INDEXED TO SPEED1
   298 				;
   299 6888 08			PACSPD  .BY $08
   300 6889 08			  .BY SPEED3-SPEED1
   301 688A 08			  .BY SPEED3-SPEED1
   302 688B 0C			  .BY SPEED4-SPEED1
   303 688C 10			  .BY SPEED5-SPEED1
   304 688D 14			  .BY SPEED6-SPEED1
   305 688E 14			  .BY SPEED6-SPEED1
   306 				;
   307 				; MONSTER SPEEDS - INDEXED TO SPEED1
   308 				;
   309 688F 00			MONSPD  .BY SPEED1-SPEED1
   310 6890 04			  .BY SPEED2-SPEED1
   311 6891 08			  .BY SPEED3-SPEED1
   312 6892 08			  .BY SPEED3-SPEED1
   313 6893 0C			  .BY SPEED4-SPEED1
   314 6894 10			  .BY SPEED5-SPEED1
   315 6895 10			  .BY SPEED5-SPEED1
   316 				;
   317 				; HIGH SCORE TEXT
   318 				;
   319 6896 28 29 27 28 00 33 + HISCTX  .BY $28,$29,$27,$28,$00,$33,$23,$2F,$32,$25
   320 				;
   321 68A0 20 E0 40 E0 40	OCINDX  .BY >OPTCHR,>CHRORG,>PACCHR,>CHRORG,>PACCHR
   322 				; PLAYER GAME (COLOR0)
   323 68A5 30 2C 21 39 25 32 + OPLGAM  .BY $30,$2C,$21,$39,$25,$32,$00,$27,$21,$2D,$25
   324 				; PRESS SELECT FOR (COLOR0)
   325 68B0 30 32 25 33 33 00 + OPRSEL  .BY $30,$32,$25,$33,$33,$00,$F3,$E5,$EC,$E5
   326 68BA E3 F4 00 26 2F 32	  .BY $E3,$F4,$00,$26,$2F,$32
   327 				; PRESS OPTION TO (COLOR0)
   328 68C0 30 32 25 33 33 00 + OPROP1  .BY $30,$32,$25,$33,$33,$00,$EF,$F0,$F4,$E9
   329 68CA EF EE 00 34 2F 00	  .BY $EF,$EE,$00,$34,$2F,$00
   330 				; CHANGE DIFFICULTY (COLOR0)
   331 68D0 23 28 21 2E 27 25 + OPROP2  .BY $23,$28,$21,$2E,$27,$25,$00,$24,$29,$26
   332 68DA 26 29 23 35 2C 34 +   .BY $26,$29,$23,$35,$2C,$34,$39
   333 				; PRESS START TO (COLOR0)
   334 68E1 30 32 25 33 33 00 + OPRST1  .BY $30,$32,$25,$33,$33,$00,$F3,$F4,$E1,$F2
   335 68EB F4 00 34 2F 00 00	  .BY $F4,$00,$34,$2F,$00,$00
   336 				; PLAY GAME (COLOR0)
   337 68F1 30 2C 21 39 00 27 + OPRST2  .BY $30,$2C,$21,$39,$00,$27,$21,$2D,$25
   338 				; (C) ATARI 1982; COLOR 3
   339 68FA C8 E3 C9 00 E1 F4 + OALOGO  .BY $C8,$E3,$C9,$00,$E1,$F4,$E1,$F2,$E9,$00
   340 6904 D1 D9 D8 D2		  .BY $D1,$D9,$D8,$D2
   341 6908 22 2F 2E 35 33 00 + BPMSG1  .BY $22,$2F,$2E,$35,$33,$00,$30,$21,$23,$2D
   342 6912 21 2E 00 26 2F 32	  .BY $21,$2E,$00,$26,$2F,$32
   343 6918 33 23 2F 32 29 2E + BPMSG2  .BY $33,$23,$2F,$32,$29,$2E,$27,$00,$11,$10
   344 6922 0C 10 10 10 00 30 +   .BY $0C,$10,$10,$10,$00,$30,$34,$33
   345 				;
   346 692A 3A 3C 3E 3E 40 40	OPTFRT  .BY $3A,$3C,$3E,$3E,$40,$40
   347 6930 44 44 48 48 4A 4A +   .BY $44,$44,$48,$48,$4A,$4A,$4C,$4C
   348 				;
   349 				; TOP OF PACMAN TITLE
   350 				;
   351 6938 00 00 FE FF FF FF + PACTTL  .BY $00,$00,$FE,$FF,$FF,$FF,$FB,$FF
   352 6940 00 00 00 80 C0 C1 +   .BY $00,$00,$00,$80,$C0,$C1,$C1,$C3
   353 6948 00 00 40 E0 E0 F0 +   .BY $00,$00,$40,$E0,$E0,$F0,$F0,$F8
   354 6950 00 00 03 0F 1F 1F +   .BY $00,$00,$03,$0F,$1F,$1F,$3F,$3F
   355 6958 00 00 E0 F8 FC F8 +   .BY $00,$00,$E0,$F8,$FC,$F8,$F0,$E0
   356 6960 00 00 00 00 00 00 +   .BY $00,$00,$00,$00,$00,$00,$00,$3E
   357 6968 00 00 08 0C 0E 0F +   .BY $00,$00,$08,$0C,$0E,$0F,$0F,$0F
   358 6970 00 00 00 01 03 07 +   .BY $00,$00,$00,$01,$03,$07,$8F,$DF
   359 6978 00 00 80 80 80 80 +   .BY $00,$00,$80,$80,$80,$80,$80,$81
   360 6980 00 00 20 70 70 F8 +   .BY $00,$00,$20,$70,$70,$F8,$F8,$FC
   361 6988 00 00 08 0C 0E 0F +   .BY $00,$00,$08,$0C,$0E,$0F,$0F,$0F
   362 6990 00 00 1F 1F 1F 1F +   .BY $00,$00,$1F,$1F,$1F,$1F,$9F,$DF
   363 				;
   364 				; BOTTOM OF PACMAN TITLE
   365 				;
   366 6998 FF FF FE F8 F8 F8 +   .BY $FF,$FF,$FE,$F8,$F8,$F8,$F8,$00
   367 69A0 C3 87 07 0F 0F 1F +   .BY $C3,$87,$07,$0F,$0F,$1F,$1F,$00
   368 69A8 F8 BC FC FE FE FF +   .BY $F8,$BC,$FC,$FE,$FE,$FF,$FF,$00
   369 69B0 3F 3F 3F 1F 1F 0F +   .BY $3F,$3F,$3F,$1F,$1F,$0F,$03,$00
   370 69B8 C0 E0 F0 F8 FC F8 +   .BY $C0,$E0,$F0,$F8,$FC,$F8,$E0,$00
   371 69C0 3E 3E 00 00 00 00 +   .BY $3E,$3E,$00,$00,$00,$00,$00,$00
   372 69C8 0F 0F 0F 0F 0F 0F +   .BY $0F,$0F,$0F,$0F,$0F,$0F,$0F,$00
   373 69D0 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$00
   374 69D8 81 83 83 87 87 8F +   .BY $81,$83,$83,$87,$87,$8F,$8F,$00
   375 69E0 FC DE FE FF FF FF +   .BY $FC,$DE,$FE,$FF,$FF,$FF,$FF,$00
   376 69E8 0F 0F 0F 0F 0F 8F +   .BY $0F,$0F,$0F,$0F,$0F,$8F,$8F,$00
   377 69F0 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$00
   378 				;
   379 				;
   380 				; NIBBLES UNCOMPRESSED
   381 				;
   382 69F8 06 07 07 08 08 08 + FIZIDX  .BY $06,$07,$07,$08,$08,$08,$09
   383 69FF 09 09 0A 0A 0B 0A +   .BY $09,$09,$0A,$0A,$0B,$0A,$0B
   384 				;
   385 6A06 0A 0C 0E 0C 06 0A + HTAB01  .BY $0A,$0C,$0E,$0C,$06,$0A,$0C,$0E,$0C,$06
   386 6A10 0B 0C 0F 0E 0D 0D + HTAB02  .BY $0B,$0C,$0F,$0E,$0D,$0D,$0E,$0F,$0C,$07
   387 6A1A 09 0C 07 09 06 0A + HTAB03  .BY $09,$0C,$07,$09,$06,$0A,$05,$0B,$0C,$05
   388 6A24 00 00 03 0A 0D 0D + HTAB04  .BY $00,$00,$03,$0A,$0D,$0D,$06,$03,$00,$00
   389 6A2E 0C 0C 0F 07 00 00 + HTAB05  .BY $0C,$0C,$0F,$07,$00,$00,$0B,$0F,$0C,$0C
   390 6A38 00 00 03 0B 0C 0C + HTAB06  .BY $00,$00,$03,$0B,$0C,$0C,$07,$03,$00,$00
   391 6A42 0A 0C 0F 0D 06 0A + HTAB07  .BY $0A,$0C,$0F,$0D,$06,$0A,$0D,$0F,$0C,$06
   392 6A4C 09 06 0B 0E 0D 0D + HTAB08  .BY $09,$06,$0B,$0E,$0D,$0D,$0E,$07,$0A,$05
   393 6A56 0A 0D 05 09 06 0A + HTAB09  .BY $0A,$0D,$05,$09,$06,$0A,$05,$09,$0D,$06
   394 6A60 09 0C 0C 0C 0D 0D + HTAB10  .BY $09,$0C,$0C,$0C,$0D,$0D,$0C,$0C,$0C,$05
   395 				;
   396 				; TIMER VALUES FOR FLASHING MONSTERS
   397 				;
   398 6A6A 0B 0B 0B 0B 0B	FLSTIM  .BY $0B,$0B,$0B,$0B,$0B
   399 6A6F 0B 0B 0B 07 0B	  .BY $0B,$0B,$0B,$07,$0B
   400 6A74 0B 07 07 07 0B	  .BY $0B,$07,$07,$07,$0B
   401 6A79 07 01 07 01 01	  .BY $07,$01,$07,$01,$01
   402 				;
   403 				; START UP PATHS FOR MONSTERS
   404 				; LEAVING BOX IN CENTER
   405 				;
   406 6A7E 04 04 02 04 01 01 + REDSTR  .BY $04,$04,$02,$04,$01,$01,$01,$08,$08,$08,$08,$08,$0F
   407 6A8B 04 04 02 04 01 01 + PNKSTR  .BY $04,$04,$02,$04,$01,$01,$01,$0F
   408 6A93 08 08 02 02 02 08 + GRNSTR  .BY $08,$08,$02,$02,$02,$08,$02,$0F
   409 6A9B 08 08 02 02 04 04 + YELSTR  .BY $08,$08,$02,$02,$04,$04,$04,$02,$04,$02,$0F
   410 				;
   411 				; PATTERNS FOR MONSTERS TO RUN
   412 				;
   413 6AA6 02 04 02 04 01 04 + PTRN01  .BY 2,4,2,4,1,4,1,8,8,8,0
   414 6AB1 01 08 08 08 02 02 + PTRN02  .BY 1,8,8,8,2,2,4,4,4,1,0
   415 6ABC 04 04 02 02 08 08 + PTRN03  .BY 4,4,2,2,8,8,8,1,1,4,0
   416 6AC7 08 01 04 01 04 02 + PTRN04  .BY 8,1,4,1,4,2,2,2,8,1,0
   417 6AD2 08 02 04 04 01 08 + PTRN05  .BY 8,2,4,4,1,8,0
   418 6AD9 08 02 02 04 01 01 + PTRN06  .BY 8,2,2,4,1,1,0
   419 6AE0 04 02 08 08 01 04 + PTRN07  .BY 4,2,8,8,1,4,0
   420 6AE7 04 02 02 08 01 01 + PTRN08  .BY 4,2,2,8,1,1,0
   421 6AEE 01 08 02 02 02 04 + PTRN09  .BY 1,8,2,2,2,4,1,4,1,8,0
   422 6AF9 01 08 02 08 02 04 + PTRN10  .BY 1,8,2,8,2,4,4,4,4,1,8,8,0
   423 6B06 01 04 04 01 04 02 + PTRN11  .BY 1,4,4,1,4,2,4,2,8,8,8,8,0
   424 6B13 01 08 08 02 04 02 + PTRN12  .BY 1,8,8,2,4,2,4,2,4,4,2,4,1,1,1,8,8,8,0
   425 6B26 01 04 04 02 08 02 + PTRN13  .BY 1,4,4,2,8,2,4,2,8,8,8,8,1,4,1,8,1,4,1,1,4,2,2,2,0
   426 6B3F 01 08 01 04 04 02 + PTRN14  .BY 1,8,1,4,4,2,2,8,8,2,4,4,4,4,1,8,1,4,1,8,1,1,8,2,2,2,2,8,0
   427 6B5C 08 02 04 02 08 02 + PTRN15  .BY 8,2,4,2,8,2,2,4,4,4,1,1,8,1,4,1,8,8,0
   428 6B6F 02 04 04 01 08 08 + PTRN16  .BY 2,4,4,1,8,8,1,8,8,2,8,1,8,8,8,8,2,4,4,4,2,4,2,4,1,4,1,4,0
   429
   430 				;
   431 				; FRUIT SCORE TABLE FOR COMPUTING
   432 				; SCORE FOR ACTIVE PLAYER - 2 #S
   433 				;
   434 6B8C 00 01 00 03 00 05 + FRSTAB  .BY $00,$01,$00,$03,$00,$05,$00,$05
   435 6B94 00 07 00 07 01 00 +   .BY $00,$07,$00,$07,$01,$00,$01,$00
   436 6B9C 02 00 02 00 03 00 +   .BY $02,$00,$02,$00,$03,$00,$03,$00
   437 6BA4 05 00		  .BY $05,$00
   438 				;
   439 				; SPEED SEQUENCING VALUES
   440 				;
   441 6BA6 03 03 03 03		SPEED1  .BY 3,3,3,3
   442 6BAA 03 02 03 02		SPEED2  .BY 3,2,3,2
   443 6BAE 02 02 02 03		SPEED3  .BY 2,2,2,3
   444 6BB2 02 02 02 02		SPEED4  .BY 2,2,2,2
   445 6BB6 02 02 02 01		SPEED5  .BY 2,2,2,1
   446 6BBA 01 02 01 02		SPEED6  .BY 1,2,1,2
   447 				;
   448 6BBE 00 0D 0E 00 07 00 + REVTAB  .BY $00,$0D,$0E,$00,$07,$00,$00,$00,$0B
   449 6BC7 00 02 01 00 08 00 + BLUREV  .BY $00,$02,$01,$00,$08,$00,$00,$00,$04
   450 				;
   451 				; FRUIT SCORES
   452 				;
   453 				; FRUIT SCORE 100
   454 6BD0 00 4E 4F 5F 60	FS0100  .BY $00,$4E,$4F,$5F,$60
   455 				; FRUIT SCORE 300
   456 6BD5 00 50 51 5F 60	FS0300  .BY $00,$50,$51,$5F,$60
   457 				; FRUIT SCORE 500
   458 6BDA 00 52 53 5F 60	FS0500  .BY $00,$52,$53,$5F,$60
   459 				; FRUIT SCORE 700
   460 6BDF 00 54 55 5F 60	FS0700  .BY $00,$54,$55,$5F,$60
   461 				; FRUIT SCORE 1000
   462 6BE4 56 57 5E 5F 60	FS1000  .BY $56,$57,$5E,$5F,$60
   463 				; FRUIT SCORE 2000
   464 6BE9 58 59 5E 5F 60	FS2000  .BY $58,$59,$5E,$5F,$60
   465 				; FRUIT SCORE 3000
   466 6BEE 5A 5B 5E 5F 60	FS3000  .BY $5A,$5B,$5E,$5F,$60
   467 				; FRUIT SCORE 5000
   468 6BF3 5C 5D 5E 5F 60	FS5000  .BY $5C,$5D,$5E,$5F,$60
   469 				;
   470 				; INDEX VALUES FOR ABOVE SCORES
   471 				;
   472 6BF8 00 05 0A 0A 0F 0F	FSINDX  .BY $00,$05,$0A,$0A,$0F,$0F
   473 6BFE 14 14 19 19 1E 1E +   .BY $14,$14,$19,$19,$1E,$1E,$23
   474 				;
   475 				; ATTRACT MODE DATA
   476 				;
   477 				;
   478 				; ATTRACT MODE COLORS
   479 				;
   480 6C05 44 4A D8 28 44 0C + ACOLRS  .BY $44,$4A,$D8,$28,$44,$0C,$00,$28
   481 				; SMALL DOT CHAR 3
   482 6C0D 00 00 00 18 18 00 + ATCHRS  .BY $00,$00,$00,$18,$18,$00,$00,$00
   483 				; ENERGIZER DOT CHAR 4
   484 6C15 18 18 3C 3C 3C 3C +   .BY $18,$18,$3C,$3C,$3C,$3C,$18,$18
   485 				; TOP OF MONSTER CHAR 5
   486 6C1D 00 00 00 00 00 38 +   .BY $00,$00,$00,$00,$00,$38,$7C,$FE
   487 				; BODY OF MONSTER CHAR 6
   488 6C25 FE EA EA EA FE FE +   .BY $FE,$EA,$EA,$EA,$FE,$FE,$FE,$AA
   489 				;
   490 				; TEXT FOR CHAR/NICKNAME (COLOR 1)
   491 6C2D 00 63 68 61 72 61 + CHNKTX  .BY $00,$63,$68,$61,$72,$61,$63,$74,$65,$72
   492 6C37 4F 6E 69 63 6B 6E +   .BY $4F,$6E,$69,$63,$6B,$6E,$61,$6D,$65,$00
   493 				; TEXT FOR W SHADOW (COLOR 0)
   494 6C41 00 06 00 33 28 21 + CHARTX  .BY $00,$06,$00,$33,$28,$21,$24,$2F,$37,$00
   495 				; TEXT FOR "BLINKY" (COLOR 0)
   496 6C4B 00 02 22 2C 29 2E +   .BY $00,$02,$22,$2C,$29,$2E,$2B,$39,$02,$00
   497 				; TEXT FOR X SPEEDY (COLOR 1)
   498 6C55 00 46 00 73 70 65 +   .BY $00,$46,$00,$73,$70,$65,$65,$64,$79,$00
   499 				; TEXT FOR "PINKY"  (COLOR 1)
   500 6C5F 00 42 70 69 6E 6B +   .BY $00,$42,$70,$69,$6E,$6B,$79,$42,$00,$00
   501 				; TEXT FOR Y BASHFUL (COLOR 2)
   502 6C69 00 86 00 A2 A1 B3 +   .BY $00,$86,$00,$A2,$A1,$B3,$A8,$A6,$B5,$AC
   503 				; TEXT FOR "INKY"    (COLOR 2)
   504 6C73 00 82 A9 AE AB B9 +   .BY $00,$82,$A9,$AE,$AB,$B9,$82,$00,$00,$00
   505 				; TEXT FOR Z POKEY   (COLOR 3)
   506 6C7D 00 C6 00 F0 EF EB +   .BY $00,$C6,$00,$F0,$EF,$EB,$E5,$F9,$00,$00
   507 				; TEXT FOR "CLYDE"   (COLOR 3)
   508 6C87 00 C2 E3 EC F9 E4 +   .BY $00,$C2,$E3,$EC,$F9,$E4,$E5,$C2,$00,$00
   509 				; TEXT FOR A 10 PTS
   510 				; TEXT IS COLOR 0 DOT IS COLOR 2
   511 6C91 83 00 11 10 00 30 + AM10PT  .BY $83,$00,$11,$10,$00,$30,$34,$33
   512 				; TEXT FOR B 50 PTS
   513 6C99 84 00 15 10 00 30 + AM50PT  .BY $84,$00,$15,$10,$00,$30,$34,$33
   514 				; (C) ATARI 1982     (COLOR 2)
   515 6CA1 00 00 00 88 A3 89 + COPMSG  .BY $00,$00,$00,$88,$A3,$89,$00,$A1,$B4,$A1
   516 6CAB B2 A9 00 91 99 98 +   .BY $B2,$A9,$00,$91,$99,$98,$92,$00,$00,$00
   517 				;
   518 				;
   519 				; DATA FOR INTERMISSIONS
   520 				;
   521 = 6CB5			L756B = *; Y INDEX VALUE
   522 				;
   523 6CB5 15 2B 41 57 6D 83	  .BY $15,$2B,$41,$57,$6D,$83
   524 				;
   525 = 6CBB			L7571 = *
   526 				;
   527 6CBB 03 80 01 C0 BA 20 +   .BY $03,$80,$01,$C0,$BA,$20,$50,$00
   528 6CC3 00 02 05 02 05 1D +   .BY $00,$02,$05,$02,$05,$1D,$00,$04
   529 6CCB 02 13 D0 84		  .BY $02,$13,$D0,$84
   530 6CCF 55 6F		  .WO L780B
   531 				;
   532 6CD1 00 00 FF C0 FF 20 +   .BY $00,$00,$FF,$C0,$FF,$20,$50,$00
   533 6CD9 00 02 03 02 03 00 +   .BY $00,$02,$03,$02,$03,$00,$70,$04
   534 6CE1 03 27 10 72		  .BY $03,$27,$10,$72
   535 6CE5 3D 6F		  .WO L77F3
   536 				;
   537 6CE7 03 80 01 C0 BA 20 +   .BY $03,$80,$01,$C0,$BA,$20,$50,$00
   538 6CEF 00 02 05 02 05 30 +   .BY $00,$02,$05,$02,$05,$30,$00,$04
   539 6CF7 02 13 D0 84		  .BY $02,$13,$D0,$84
   540 6CFB 55 6F		  .WO L780B
   541 				;
   542 6CFD 03 80 01 00 00 04 +   .BY $03,$80,$01,$00,$00,$04,$10,$00
   543 6D05 00 04 00 04 00 00 +   .BY $00,$04,$00,$04,$00,$00,$00,$07
   544 6D0D 00 00 00 00		  .BY $00,$00,$00,$00
   545 6D11 C4 6F		  .WO L787A
   546 				;
   547 6D13 03 80 01 C0 BA 20 +   .BY $03,$80,$01,$C0,$BA,$20,$50,$00
   548 6D1B 00 02 05 02 05 30 +   .BY $00,$02,$05,$02,$05,$30,$00,$04
   549 6D23 02 13 D0 84		  .BY $02,$13,$D0,$84
   550 6D27 6D 6F		  .WO L7823
   551 				;
   552 6D29 00 00 FF B8 00 20 +   .BY $00,$00,$FF,$B8,$00,$20,$00,$00
   553 6D31 00 03 00 03 00 00 +   .BY $00,$03,$00,$03,$00,$00,$00,$07
   554 6D39 00 00 00 00		  .BY $00,$00,$00,$00
   555 6D3D 85 6F		  .WO L783B
   556 				;
   557 = 6D3F			L75F5 = *
   558 				;
   559 6D3F 03 80 01 30 BA 30 +   .BY $03,$80,$01,$30,$BA,$30,$50,$00
   560 6D47 00 02 05 02 05 00 +   .BY $00,$02,$05,$02,$05,$00,$00,$06
   561 6D4F 02 13 D0 84		  .BY $02,$13,$D0,$84
   562 6D53 EE 6F		  .WO L78A4
   563
   564 6D55 00 00 00		  .BY $00,$00,$00
   565 				;
   566 = 6D58			L760E = *
   567 				;
   568 6D58 6C 6D 92 6D B8 6D	  .WO L7622,L7648,L766E
   569 6D5E 6C 6D 92 6D B8 6D	  .WO L7622,L7648,L766E
   570 				;
   571 = 6D64			L761A = *
   572 				;
   573 6D64 DE 6D 53 6E C8 6E +   .WO L7694,L7709,L777E,L7709
   574 				;
   575 = 6D6C			L7622 = *
   576 				;
   577 6D6C 07 1F 3F 1F 0F 07 +   .BY $07,$1F,$3F,$1F,$0F,$07,$03,$01
   578 6D74 00 00 00 01 03 07 +   .BY $00,$00,$00,$01,$03,$07,$0F,$1F
   579 6D7C 3F 1F 07 00 C0 E0 +   .BY $3F,$1F,$07,$00,$C0,$E0,$E0,$F0
   580 6D84 F0 F0 F8 F8 78 F8 +   .BY $F0,$F0,$F8,$F8,$78,$F8,$F8,$F0
   581 6D8C F0 F0 E0 E0 C0 00	  .BY $F0,$F0,$E0,$E0,$C0,$00
   582 				;
   583 = 6D92			L7648 = *
   584 				;
   585 6D92 07 1F 3F 3F 7F 7F +   .BY $07,$1F,$3F,$3F,$7F,$7F,$7F,$0F
   586 6D9A 01 00 01 0F 7F 7F +   .BY $01,$00,$01,$0F,$7F,$7F,$7F,$3F
   587 6DA2 3F 1F 07 00 C0 E0 +   .BY $3F,$1F,$07,$00,$C0,$E0,$E0,$F0
   588 6DAA F0 F0 F8 F8 78 F8 +   .BY $F0,$F0,$F8,$F8,$78,$F8,$F8,$F0
   589 6DB2 F0 F0 E0 E0 C0 00	  .BY $F0,$F0,$E0,$E0,$C0,$00
   590 				;
   591 = 6DB8			L766E = *
   592 				;
   593 6DB8 07 1F 3F 3F 7F 7F +   .BY $07,$1F,$3F,$3F,$7F,$7F,$7F,$FF
   594 6DC0 FF FF FF FF 7F 7F +   .BY $FF,$FF,$FF,$FF,$7F,$7F,$7F,$3F
   595 6DC8 3F 1F 07 00 C0 E0 +   .BY $3F,$1F,$07,$00,$C0,$E0,$E0,$F0
   596 6DD0 F0 F0 F8 F8 F8 F8 +   .BY $F0,$F0,$F8,$F8,$F8,$F8,$F8,$F0
   597 6DD8 F0 F0 E0 E0 C0 00	  .BY $F0,$F0,$E0,$E0,$C0,$00
   598 				;
   599 = 6DDE			L7694 = *
   600 				;
   601 6DDE 00 01		  .BY $00,$01
   602 6DE0 03 07 0F 0F 1F 1F +   .BY $03,$07,$0F,$0F,$1F,$1F,$3F,$3F
   603 6DE8 3F 7F 7F 7F 7F FF +   .BY $3F,$7F,$7F,$7F,$7F,$FF,$FF,$FF
   604 6DF0 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$7F,$7F
   605 6DF8 7F 7F 3F 3F 3F 1F +   .BY $7F,$7F,$3F,$3F,$3F,$1F,$1F,$0F
   606 6E00 0F 07 03 01 00 78 +   .BY $0F,$07,$03,$01,$00,$78,$FE,$FF
   607 6E08 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FE,$FE
   608 6E10 FC F8 F8 F0 E0 E0 +   .BY $FC,$F8,$F8,$F0,$E0,$E0,$C0,$C0
   609 6E18 80 C0 C0 E0 E0 F0 +   .BY $80,$C0,$C0,$E0,$E0,$F0,$F8,$F8
   610 6E20 FC FE FE FF FF FF +   .BY $FC,$FE,$FE,$FF,$FF,$FF,$FF,$FF
   611 6E28 FF FF FE 78 00 00 +   .BY $FF,$FF,$FE,$78,$00,$00,$00,$80
   612 6E30 C0 C0 80 80 00 00 +   .BY $C0,$C0,$80,$80,$00,$00,$00,$00
   613 6E38 00 00 00 00 00 00 +   .BY $00,$00,$00,$00,$00,$00,$00,$00
   614 6E40 00 00 00 00 00 00 +   .BY $00,$00,$00,$00,$00,$00,$00,$00
   615 6E48 00 00 00 80 80 C0 +   .BY $00,$00,$00,$80,$80,$C0,$C0,$80
   616 6E50 00 00 00		  .BY $00,$00,$00
   617 				;
   618 = 6E53			L7709 = *
   619 				;
   620 6E53 00 01 03 07 0F	  .BY $00,$01,$03,$07,$0F
   621 6E58 0F 1F 1F 3F 3F 3F +   .BY $0F,$1F,$1F,$3F,$3F,$3F,$7F,$7F
   622 6E60 7F 7F FF FF FF FF +   .BY $7F,$7F,$FF,$FF,$FF,$FF,$FF,$FF
   623 6E68 FF FF FF 7F 7F 7F +   .BY $FF,$FF,$FF,$7F,$7F,$7F,$7F,$3F
   624 6E70 3F 3F 1F 1F 0F 0F +   .BY $3F,$3F,$1F,$1F,$0F,$0F,$07,$03
   625 6E78 01 00 78 FE FF FF +   .BY $01,$00,$78,$FE,$FF,$FF,$FF,$FF
   626 6E80 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   627 6E88 FF FF FE F8 E0 80 +   .BY $FF,$FF,$FE,$F8,$E0,$80,$E0,$F8
   628 6E90 FE FF FF FF FF FF +   .BY $FE,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   629 6E98 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FE
   630 6EA0 78 00 00 00 80 C0 +   .BY $78,$00,$00,$00,$80,$C0,$C0,$E0
   631 6EA8 E0 F0 F0 F0 F8 F8 +   .BY $E0,$F0,$F0,$F0,$F8,$F8,$F8,$E0
   632 6EB0 80 00 00 00 00 00 +   .BY $80,$00,$00,$00,$00,$00,$00,$00
   633 6EB8 80 E0 F8 F8 F8 F0 +   .BY $80,$E0,$F8,$F8,$F8,$F0,$F0,$F0
   634 6EC0 E0 E0 C0 C0 80 00 +   .BY $E0,$E0,$C0,$C0,$80,$00,$00,$00
   635 				;
   636 = 6EC8			L777E = *
   637 				;
   638 6EC8 00 01 03 07 0F 0F +   .BY $00,$01,$03,$07,$0F,$0F,$1F,$1F
   639 6ED0 3F 3F 3F 7F 7F 7F +   .BY $3F,$3F,$3F,$7F,$7F,$7F,$7F,$FF
   640 6ED8 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   641 6EE0 7F 7F 7F 7F 3F 3F +   .BY $7F,$7F,$7F,$7F,$3F,$3F,$3F,$1F
   642 6EE8 1F 0F 0F 07 03 01 +   .BY $1F,$0F,$0F,$07,$03,$01,$00,$78
   643 6EF0 FE FF FF FF FF FF +   .BY $FE,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   644 6EF8 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   645 6F00 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   646 6F08 FF FF FF FF FF FF +   .BY $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
   647 6F10 FF FF FF FF FE 78 +   .BY $FF,$FF,$FF,$FF,$FE,$78,$00,$00
   648 6F18 00 80 C0 C0 E0 E0 +   .BY $00,$80,$C0,$C0,$E0,$E0,$F0,$F0
   649 6F20 F0 F8 F8 F8 F8 FC +   .BY $F0,$F8,$F8,$F8,$F8,$FC,$FC,$FC
   650 6F28 FC FC FC FC FC FC +   .BY $FC,$FC,$FC,$FC,$FC,$FC,$F8,$F8
   651 6F30 F8 F8 F0 F0 F0 E0 +   .BY $F8,$F8,$F0,$F0,$F0,$E0,$E0,$C0
   652 6F38 C0 80 00 00 00	  .BY $C0,$80,$00,$00,$00
   653 				;
   654 = 6F3D			L77F3 = *
   655 				;
   656 6F3D 01 04 08 02 05 09 +   .BY $01,$04,$08,$02,$05,$09,$03,$06
   657 6F45 0A 00 07 0B 01 04 +   .BY $0A,$00,$07,$0B,$01,$04,$0C,$02
   658 6F4D 05 0D 03 06 0E 00 +   .BY $05,$0D,$03,$06,$0E,$00,$07,$0F
   659 				;
   660 = 6F55			L780B = *
   661 				;
   662 6F55 01 10 14 02 11 15 +   .BY $01,$10,$14,$02,$11,$15,$03,$12
   663 6F5D 16 00 13 17 01 10 +   .BY $16,$00,$13,$17,$01,$10,$18,$02
   664 6F65 11 19 03 12 1A 00 +   .BY $11,$19,$03,$12,$1A,$00,$13,$1B
   665 				;
   666 = 6F6D			L7823 = *
   667 				;
   668 6F6D 01 10 14 02 11 15 +   .BY $01,$10,$14,$02,$11,$15,$03,$54
   669 6F75 D6 00 D5 57 01 10 +   .BY $D6,$00,$D5,$57,$01,$10,$18,$02
   670 6F7D 11 19 03 58 DA 00 +   .BY $11,$19,$03,$58,$DA,$00,$D9,$5B
   671 				;
   672 = 6F85			L783B = *
   673 				;
   674 6F85 00 00 3A 00 00 3B +   .BY $00,$00,$3A,$00,$00,$3B,$00,$00
   675 6F8D 3C 00 36 3D 00 B7 +   .BY $3C,$00,$36,$3D,$00,$B7,$3E,$00
   676 6F95 B8 3F 00 B9 00 00 +   .BY $B8,$3F,$00,$B9,$00,$00,$00,$44
   677 				;
   678 6F9D 00 00 45		  .BY $00,$00,$45
   679 6FA0 00 00 46 00 40 47 +   .BY $00,$00,$46,$00,$40,$47,$00,$C1
   680 6FA8 48 00 C2 49 00 C3 +   .BY $48,$00,$C2,$49,$00,$C3,$00,$00
   681 6FB0 00 4E 00 00 4F 00 +   .BY $00,$4E,$00,$00,$4F,$00,$00,$50
   682 6FB8 00 4A 51 00 CB 52 +   .BY $00,$4A,$51,$00,$CB,$52,$00,$CC
   683 6FC0 53 00 CD 00		  .BY $53,$00,$CD,$00
   684 				;
   685 = 6FC4			L787A = *
   686 6FC4 00 2B 14 29		  .BY $00,$2B,$14,$29
   687 6FC8 2C 15 2A 2D AF 00 +   .BY $2C,$15,$2A,$2D,$AF,$00,$AE,$B0
   688 6FD0 00 00 00 00 00 31 +   .BY $00,$00,$00,$00,$00,$31,$00,$00
   689 6FD8 32 00 33 14 29 34 +   .BY $32,$00,$33,$14,$29,$34,$15,$2A
   690 6FE0 35 AF 00 AE B0 00 +   .BY $35,$AF,$00,$AE,$B0,$00,$00,$00
   691 6FE8 00 00 31 00 00 32	  .BY $00,$00,$31,$00,$00,$32
   692 				;
   693 = 6FEE			L78A4 = *
   694 6FEE 01 10		  .BY $01,$10
   695 6FF0 14 02 11 15 03 12 +   .BY $14,$02,$11,$15,$03,$12,$16,$00
   696 6FF8 13 1C 00 00 00 00 +   .BY $13,$1C,$00,$00,$00,$00,$00,$00
   697 7000 01 10 18 02 11 19 +   .BY $01,$10,$18,$02,$11,$19,$03,$12
   698 7008 1D 00 13 1E 00 00 +   .BY $1D,$00,$13,$1E,$00,$00,$00,$00
   699 7010 00 00 01 10 14 02 +   .BY $00,$00,$01,$10,$14,$02,$11,$15
   700 7018 03 12 16 00 13 1F +   .BY $03,$12,$16,$00,$13,$1F,$00,$00
   701 7020 00 00 00 00 01 10 +   .BY $00,$00,$00,$00,$01,$10,$18,$02
   702 7028 11 19 03 12 1D 00 +   .BY $11,$19,$03,$12,$1D,$00,$13,$20
   703 7030 00 00 21 00 00 00 +   .BY $00,$00,$21,$00,$00,$00,$01,$10
   704 7038 14 02 11 15 03 12 +   .BY $14,$02,$11,$15,$03,$12,$16,$00
   705 7040 22 23 00 00 24 00 +   .BY $22,$23,$00,$00,$24,$00,$00,$00
   706 7048 01 10 18 02 11 19 +   .BY $01,$10,$18,$02,$11,$19,$03,$12
   707 7050 1D 00 25 26 00 00 +   .BY $1D,$00,$25,$26,$00,$00,$1F,$00
   708 7058 00 00 01 10 18 02 +   .BY $00,$00,$01,$10,$18,$02,$11,$19
   709 7060 03 12 1D 00 27 26 +   .BY $03,$12,$1D,$00,$27,$26,$00,$00
   710 7068 20 00 00 28		  .BY $20,$00,$00,$28
   711 				;
   712 706C 32 82 32 32 32 0F	ICOLR0  .BY $32,$82,$32,$32,$32,$0F
   713 7072 0F 0F 0F 0F 0F FA	ICOLR1  .BY $0F,$0F,$0F,$0F,$0F,$FA
   714 7078 63 00 63 64 64 33	ICOLR2  .BY $63,$00,$63,$64,$64,$33
   715 707E 00 00 FA FA FA 83	ICOLR3  .BY $00,$00,$FA,$FA,$FA,$83
   716 				;
   717 				;
   718 = 7084			IMUSIC = *
   719 				;
   720 7084 48 AA 90 A8 00 AA +   .BY $48,$AA,$90,$A8,$00,$AA,$90,$A8
   721 708C 48 AA 00 A8 00 AA +   .BY $48,$AA,$00,$A8,$00,$AA,$90,$A8
   722 7094 48 AA 90 A8 00 AA +   .BY $48,$AA,$90,$A8,$00,$AA,$90,$A8
   723 709C 55 AA 00 A8 60 AA +   .BY $55,$AA,$00,$A8,$60,$AA,$90,$A8
   724 70A4 48 AA 90 A8 48 AA +   .BY $48,$AA,$90,$A8,$48,$AA,$90,$A8
   725 70AC 48 AA 00 A8 48 AA +   .BY $48,$AA,$00,$A8,$48,$AA,$90,$A8
   726 70B4 39 AA 72 A8 39 AA +   .BY $39,$AA,$72,$A8,$39,$AA,$6C,$A8
   727 70BC 39 AA 66 A8 39 AA +   .BY $39,$AA,$66,$A8,$39,$AA,$60,$A8
   728 70C4 48 AA 90 A8 48 A0 +   .BY $48,$AA,$90,$A8,$48,$A0,$90,$A8
   729 70CC 48 AA 90 A0 48 A0 +   .BY $48,$AA,$90,$A0,$48,$A0,$90,$A8
   730 70D4 48 AA 90 A8 48 A0 +   .BY $48,$AA,$90,$A8,$48,$A0,$90,$A8
   731 70DC 55 AA 00 A8 60 AA +   .BY $55,$AA,$00,$A8,$60,$AA,$90,$A8
   732 70E4 48 AA 90 A8 48 AA +   .BY $48,$AA,$90,$A8,$48,$AA,$90,$A8
   733 70EC 55 AA 00 A8 72 AA +   .BY $55,$AA,$00,$A8,$72,$AA,$90,$A8
   734 70F4 72 AA 6C A8 72 AA +   .BY $72,$AA,$6C,$A8,$72,$AA,$66,$A8
   735 70FC 72 AA 60 A8 48 AA +   .BY $72,$AA,$60,$A8,$48,$AA,$90,$A8
   736 7104 00 AA 90 A8 48 AA +   .BY $00,$AA,$90,$A8,$48,$AA,$00,$A8
   737 710C 00 AA 90 A8 48 AA +   .BY $00,$AA,$90,$A8,$48,$AA,$90,$A8
   738 7114 55 A0 90 A8 55 AA +   .BY $55,$A0,$90,$A8,$55,$AA,$1D,$A0
   739 711C 60 AA 90 A8 48 AA +   .BY $60,$AA,$90,$A8,$48,$AA,$90,$A8
   740 7124 48 AA 90 A8 39 AA +   .BY $48,$AA,$90,$A8,$39,$AA,$90,$A0
   741 712C 39 AA 90 A8 35 AA +   .BY $39,$AA,$90,$A8,$35,$AA,$72,$A8
   742 7134 35 AA 6C A8 32 AA +   .BY $35,$AA,$6C,$A8,$32,$AA,$66,$A8
   743 713C 32 AA 60 A8 2F AA +   .BY $32,$AA,$60,$A8,$2F,$AA,$5B,$A8
   744 7144 2F AA 60 A8 35 AA +   .BY $2F,$AA,$60,$A8,$35,$AA,$6C,$A8
   745 714C 35 AA 6C A8 39 AA +   .BY $35,$AA,$6C,$A8,$39,$AA,$72,$A8
   746 7154 39 AA 72 A8 48 AA +   .BY $39,$AA,$72,$A8,$48,$AA,$90,$A8
   747 715C 48 AA 90 A8 39 AA +   .BY $48,$AA,$90,$A8,$39,$AA,$60,$A8
   748 7164 39 AA 60 A8 48 AA +   .BY $39,$AA,$60,$A8,$48,$AA,$72,$A8
   749 716C 48 AA 72 A8 00 00 +   .BY $48,$AA,$72,$A8,$00,$00,$00,$00
   640 				; EJECT
   641
   642 7174 00 00 00 00 00 00 + :$28c .BY 0	;Fill gap with zeros
   643
   644 				;
   645 				 
   646 7400			 ORG $7400
   647 				;
   648 7400			 ICL "PACDAT3.ASM"
Source: D:\!Delphi\mads\examples\pacman\PACDAT3.ASM
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 				;
     4 = 7400			ICHARS = *
     5 				;
     6 7400 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$00
     7 7408 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$01
     8 7410 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$15,$55
     9 7418 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$50
    10 7420 05 15 15 55 56 55 +  .BY $05,$15,$15,$55,$56,$55,$55,$55
    11 7428 55 55 55 95 A6 95 +  .BY $55,$55,$55,$95,$A6,$95,$55,$55
    12 7430 54 55 55 95 A5 95 +  .BY $54,$55,$55,$95,$A5,$95,$55,$55
    13 7438 00 00 00 40 40 40 +  .BY $00,$00,$00,$40,$40,$40,$40,$40
    14 				;
    15 7440 55 59 66 55 55 55 +  .BY $55,$59,$66,$55,$55,$55,$51,$40
    16 7448 55 59 66 95 55 55 +  .BY $55,$59,$66,$95,$55,$55,$51,$40
    17 7450 55 59 66 95 55 55 +  .BY $55,$59,$66,$95,$55,$55,$51,$40
    18 7458 40 40 40 40 40 40 +  .BY $40,$40,$40,$40,$40,$40,$40,$40
    19 7460 55 59 66 55 55 55 +  .BY $55,$59,$66,$55,$55,$55,$15,$04
    20 7468 55 59 66 95 55 55 +  .BY $55,$59,$66,$95,$55,$55,$15,$04
    21 7470 55 59 66 95 55 55 +  .BY $55,$59,$66,$95,$55,$55,$15,$04
    22 7478 40 40 40 40 40 40 +  .BY $40,$40,$40,$40,$40,$40,$00,$00
    23 				;
    24 7480 05 19 2A FA FA FA +  .BY $05,$19,$2A,$FA,$FA,$FA,$6A,$59
    25 7488 55 55 56 5F 9F 5F +  .BY $55,$55,$56,$5F,$9F,$5F,$56,$55
    26 7490 54 95 A5 A5 A9 A5 +  .BY $54,$95,$A5,$A5,$A9,$A5,$A5,$95
    27 7498 00 00 00 40 40 40 +  .BY $00,$00,$00,$40,$40,$40,$40,$40
    28 74A0 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$51,$40
    29 74A8 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$51,$40
    30 74B0 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$51,$40
    31 74B8 40 40 40 40 40 40 +  .BY $40,$40,$40,$40,$40,$40,$40,$40
    32 				;
    33 74C0 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$15,$04
    34 74C8 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$15,$04
    35 74D0 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$15,$04
    36 74D8 40 40 40 40 40 40 +  .BY $40,$40,$40,$40,$40,$40,$00,$00
    37 74E0 40 40 50 50 50 50 +  .BY $40,$40,$50,$50,$50,$50,$50,$50
    38 74E8 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$15,$05
    39 74F0 40 54 54 54 54 54 +  .BY $40,$54,$54,$54,$54,$54,$54,$54
    40 74F8 40 55 55 55 55 55 +  .BY $40,$55,$55,$55,$55,$55,$55,$55
    41 				;
    42 7500 50 55 55 55 55 55 +  .BY $50,$55,$55,$55,$55,$55,$55,$55
    43 7508 00 40 40 40 40 40 +  .BY $00,$40,$40,$40,$40,$40,$40,$40
    44 7510 00 00 00 40 40 40 +  .BY $00,$00,$00,$40,$40,$40,$40,$50
    45 7518 54 55 55 55 55 55 +  .BY $54,$55,$55,$55,$55,$55,$55,$55
    46 7520 00 50 50 50 50 50 +  .BY $00,$50,$50,$50,$50,$50,$50,$50
    47 7528 00 00 00 40 40 50 +  .BY $00,$00,$00,$40,$40,$50,$54,$55
    48 7530 55 55 55 55 55 55 +  .BY $55,$55,$55,$55,$55,$55,$55,$55
    49 7538 00 00 00 40 50 54 +  .BY $00,$00,$00,$40,$50,$54,$55,$55
    50 				;
    51 7540 00 40 40 40 40 40 +  .BY $00,$40,$40,$40,$40,$40,$40,$40
    52 7548 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$04,$55
    53 7550 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$40
    54 7558 00 08 28 2A 2A 5A +  .BY $00,$08,$28,$2A,$2A,$5A,$55,$55
    55 7560 55 95 A6 A6 A6 95 +  .BY $55,$95,$A6,$A6,$A6,$95,$55,$55
    56 7568 40 88 8A AA AA A9 +  .BY $40,$88,$8A,$AA,$AA,$A9,$55,$55
    57 7570 00 00 00 00 00 40 +  .BY $00,$00,$00,$00,$00,$40,$40,$C0
    58 7578 55 57 57 57 57 5F +  .BY $55,$57,$57,$57,$57,$5F,$7F,$7F
    59 				;
    60 7580 C0 C0 C0 C0 00 00 +  .BY $C0,$C0,$C0,$C0,$00,$00,$F0,$F0
    61 7588 00 00 00 00 01 05 +  .BY $00,$00,$00,$00,$01,$05,$15,$54
    62 7590 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$00
    63 7598 00 0A 2A 2A 2A 5A +  .BY $00,$0A,$2A,$2A,$2A,$5A,$55,$55
    64 75A0 55 95 A6 A6 F6 D5 +  .BY $55,$95,$A6,$A6,$F6,$D5,$55,$55
    65 75A8 40 A8 AA AA AF AD +  .BY $40,$A8,$AA,$AA,$AF,$AD,$55,$55
    66 75B0 00 00 00 00 00 00 +  .BY $00,$00,$00,$00,$00,$00,$00,$0A
    67 75B8 00 05 15 17 17 97 +  .BY $00,$05,$15,$17,$17,$97,$A5,$AA
    68 				;
    69 75C0 00 14 55 D7 D7 D7 +  .BY $00,$14,$55,$D7,$D7,$D7,$A5,$A0
    70 75C8 00 00 00 C0 C0 C0 +  .BY $00,$00,$00,$C0,$C0,$C0,$00,$00
    71 75D0 00 00 00 00 03 3F +  .BY $00,$00,$00,$00,$03,$3F,$3F,$FF
    72 75D8 00 00 00 00 F0 FF +  .BY $00,$00,$00,$00,$F0,$FF,$FF,$FF
    73 75E0 00 00 00 00 0F FF +  .BY $00,$00,$00,$00,$0F,$FF,$FF,$FF
    74 75E8 0A 2A FE FF FF FF +  .BY $0A,$2A,$FE,$FF,$FF,$FF,$FF,$FF
    75 75F0 AA AA AA AA AA EA +  .BY $AA,$AA,$AA,$AA,$AA,$EA,$F0,$F0
    76 75F8 A0 A0 A0 A0 AA AA +  .BY $A0,$A0,$A0,$A0,$AA,$AA,$2A,$2A
    77 				;
    78 7600 00 00 00 00 00 02 +  .BY $00,$00,$00,$00,$00,$02,$0A,$0A
    79 7608 00 05 15 17 97 97 +  .BY $00,$05,$15,$17,$97,$97,$A5,$AA
    80 7610 00 14 55 D7 D7 D7 +  .BY $00,$14,$55,$D7,$D7,$D7,$A5,$80
    81 7618 00 00 00 C0 C0 C0 +  .BY $00,$00,$00,$C0,$C0,$C0,$00,$00
    82 7620 00 00 00 00 03 0F +  .BY $00,$00,$00,$00,$03,$0F,$3F,$FF
    83
    84 				 .if VERSION=ORIGINAL 
    85 7628			   ICL "PACDAT3-$7628-ORIGINAL.asm"
Source: D:\!Delphi\mads\examples\pacman\PACDAT3-$7628-ORIGINAL.asm
     1 				;	@com.wudsn.ide.asm.mainsourcefile=PACMAN.ASM
     2
     3 7628 00 00 00 00 FF FF +  .BY $00,$00,$00,$00,$FF,$FF,$FF,$FF
     4 7630 00 00 00 03 FF FF +  .BY $00,$00,$00,$03,$FF,$FF,$FF,$FF
     5 7638 2A EA FF FF FF FF +  .BY $2A,$EA,$FF,$FF,$FF,$FF,$FF,$FF
     6 				;
     7 7640 AA AA AA A8 EA EA +  .BY $AA,$AA,$AA,$A8,$EA,$EA,$F0,$F0
     8 7648 80 00 00 00 A8 A8 +  .BY $80,$00,$00,$00,$A8,$A8,$A8,$A8
     9 7650 00 00 00 00 02 0A +  .BY $00,$00,$00,$00,$02,$0A,$0A,$2A
    10 7658 00 05 15 17 97 97 +  .BY $00,$05,$15,$17,$97,$97,$A5,$AA
    11 7660 00 14 55 D7 D7 D7 +  .BY $00,$14,$55,$D7,$D7,$D7,$A5,$A0
    12 7668 00 00 00 C0 C0 C0 +  .BY $00,$00,$00,$C0,$C0,$C0,$00,$00
    13 7670 00 00 00 03 0F 3F +  .BY $00,$00,$00,$03,$0F,$3F,$FF,$FF
    14 7678 00 00 00 F0 FC FF +  .BY $00,$00,$00,$F0,$FC,$FF,$FF,$FF
    15 				;
    16 7680 00 00 03 0F 3F FF +  .BY $00,$00,$03,$0F,$3F,$FF,$FF,$FF
    17 7688 2A FA FF FF FF FF +  .BY $2A,$FA,$FF,$FF,$FF,$FF,$FF,$FF
    18 7690 AA AA AA AA EA EA +  .BY $AA,$AA,$AA,$AA,$EA,$EA,$F2,$F2
    19 7698 80 80 00 00 A0 A0 +  .BY $80,$80,$00,$00,$A0,$A0,$A0,$A0
    20 76A0 54 95 A5 A5 A9 A5 +  .BY $54,$95,$A5,$A5,$A9,$A5,$A5,$95
    21 76A8 00 00 00 40 40 40 +  .BY $00,$00,$00,$40,$40,$40,$40,$C0
    22 76B0 57 7D D5 75 D5 D5 +  .BY $57,$7D,$D5,$75,$D5,$D5,$71,$C0
    23 76B8 40 40 40 40 40 40 +  .BY $40,$40,$40,$40,$40,$40,$40,$40
    24 				;
    25 76C0 54 95 A5 A5 A9 A5 +  .BY $54,$95,$A5,$A5,$A9,$A5,$A5,$95
    26 76C8 00 00 00 40 40 40 +  .BY $00,$00,$00,$40,$40,$40,$40,$C0
    27 76D0 57 5F 75 D5 75 D5 +  .BY $57,$5F,$75,$D5,$75,$D5,$35,$04
    28 76D8 40 40 40 40 40 40	 .BY $40,$40,$40,$40,$40,$40
    29
    30 				; .BY $00,$00
    31 				;
    32 				; .BY $00,$00,$00,$3C,$00,$51,$00,$60
    33 				; .BY $00,$3C,$51,$00,$00,$60,$60,$00
    34 				; .BY $00,$60,$5B,$55,$00,$55,$51,$4C
    86 				 .elseif VERSION=ROKLAN 
    87 				   ICL "PACDAT3-$7628-ORIGINAL.asm"
    88 				 .elseif VERSION=ATARI82
    89 				   ICL "PACDAT3-$7628-ATARI82.asm"
    90 				  .else
    91 				   .error "Invalid version ", VERSION
    92 				 .endif
   649 				;
   650
   651 				;:$922 .BY 0	;Fill gap with zeros
   652
   653 				 END INIT
